/*
 jQuery JavaScript Library v3.2.1
 https://jquery.com/

 Includes Sizzle.js
 https://sizzlejs.com/

 Copyright JS Foundation and other contributors
 Released under the MIT license
 https://jquery.org/license

 Date: 2017-03-20T18:59Z
 Sizzle CSS Selector Engine v2.3.3
 https://sizzlejs.com/

 Copyright jQuery Foundation and other contributors
 Released under the MIT license
 http://jquery.org/license

 Date: 2016-08-08
*/
window.ContextHubKernelConfig={debug:!1,initializationTimeout:2E3,stores:{emulators:{type:"granite.emulators",required:!0},geolocation:{type:"contexthub.geolocation",required:!0,config:{geocoder:{enabled:!0}}},profile:{type:"granite.profile",required:!0},surferinfo:{type:"contexthub.surferinfo",required:!0},eventdata:{type:"aem.analyticsdata",required:!0},pagedata:{type:"aem.pagedata",required:!0},segmentation:{type:"aem.segmentation",required:!0},abandonedproducts:{type:"commerce.abandonedproducts",
required:!0},recentlyviewed:{type:"commerce.recentlyviewed",required:!0},cart:{type:"commerce.cart",required:!0},orderhistory:{type:"commerce.orderhistory",required:!0},relatedproducts:{type:"commerce.relatedproducts",required:!0},metadata:{type:"campaign.metadata",required:!1},seeddata:{type:"campaign.seeddata",required:!1}}};
(function(f,l){"object"===typeof module&&"object"===typeof module.exports?module.exports=f.document?l(f,!0):function(f){if(!f.document)throw Error("jQuery requires a window with a document");return l(f)}:l(f)})("undefined"!==typeof window?window:this,function(f,l){function e(c,h){h=h||z;var a=h.createElement("script");a.text=c;h.head.appendChild(a).parentNode.removeChild(a)}function b(c){var h=!!c&&"length"in c&&c.length,a=k.type(c);return"function"===a||k.isWindow(c)?!1:"array"===a||0===h||"number"===
typeof h&&0<h&&h-1 in c}function a(c,h){return c.nodeName&&c.nodeName.toLowerCase()===h.toLowerCase()}function d(c,h,a){if(k.isFunction(h))return k.grep(c,function(c,b){return!!h.call(c,b,c)!==a});if(h.nodeType)return k.grep(c,function(c){return c===h!==a});if("string"!==typeof h)return k.grep(c,function(c){return-1<ca.call(h,c)!==a});if(wb.test(h))return k.filter(h,c,a);h=k.filter(h,c);return k.grep(c,function(c){return-1<ca.call(h,c)!==a&&1===c.nodeType})}function g(c,h){for(;(c=c[h])&&1!==c.nodeType;);
return c}function p(c){var h={};k.each(c.match(W)||[],function(c,a){h[a]=!0});return h}function m(c){return c}function r(c){throw c;}function q(c,h,a,b){var n;try{c&&k.isFunction(n=c.promise)?n.call(c).done(h).fail(a):c&&k.isFunction(n=c.then)?n.call(c,h,a):h.apply(void 0,[c].slice(b))}catch(sa){a.apply(void 0,[sa])}}function t(){z.removeEventListener("DOMContentLoaded",t);f.removeEventListener("load",t);k.ready()}function y(){this.expando=k.expando+y.uid++}function I(c,h,a){if(void 0===a&&1===c.nodeType)if(a=
"data-"+h.replace(xb,"-$\x26").toLowerCase(),a=c.getAttribute(a),"string"===typeof a){try{var b=a;a="true"===b?!0:"false"===b?!1:"null"===b?null:b===+b+""?+b:yb.test(b)?JSON.parse(b):b}catch(w){}O.set(c,h,a)}else a=void 0;return a}function A(c,h,a,b){var n=1,u=20,d=b?function(){return b.cur()}:function(){return k.css(c,h,"")},g=d(),f=a&&a[3]||(k.cssNumber[h]?"":"px"),e=(k.cssNumber[h]||"px"!==f&&+g)&&ma.exec(k.css(c,h));if(e&&e[3]!==f){f=f||e[3];a=a||[];e=+g||1;do n=n||".5",e/=n,k.style(c,h,e+f);
while(n!==(n=d()/g)&&1!==n&&--u)}if(a){e=+e||+g||0;var m=a[1]?e+(a[1]+1)*a[2]:+a[2];b&&(b.unit=f,b.start=e,b.end=m)}return m}function B(c,h){for(var a,b,d=[],g=0,f=c.length;g<f;g++)if(b=c[g],b.style)if(a=b.style.display,h){if("none"===a&&(d[g]=x.get(b,"display")||null,d[g]||(b.style.display="")),""===b.style.display&&ya(b)){a=g;var e=b.ownerDocument;b=b.nodeName;var m=Wa[b];m||(e=e.body.appendChild(e.createElement(b)),m=k.css(e,"display"),e.parentNode.removeChild(e),"none"===m&&(m="block"),Wa[b]=
m);e=m;d[a]=e}}else"none"!==a&&(d[g]="none",x.set(b,"display",a));for(g=0;g<f;g++)null!=d[g]&&(c[g].style.display=d[g]);return c}function C(c,h){var b="undefined"!==typeof c.getElementsByTagName?c.getElementsByTagName(h||"*"):"undefined"!==typeof c.querySelectorAll?c.querySelectorAll(h||"*"):[];return void 0===h||h&&a(c,h)?k.merge([c],b):b}function K(c,h){for(var a=0,b=c.length;a<b;a++)x.set(c[a],"globalEval",!h||x.get(h[a],"globalEval"))}function Q(c,h,a,b,d){for(var n,u,g,f=h.createDocumentFragment(),
e=[],m=0,w=c.length;m<w;m++)if((n=c[m])||0===n)if("object"===k.type(n))k.merge(e,n.nodeType?[n]:n);else if(Ab.test(n)){u=u||f.appendChild(h.createElement("div"));g=(Xa.exec(n)||["",""])[1].toLowerCase();g=P[g]||P._default;u.innerHTML=g[1]+k.htmlPrefilter(n)+g[2];for(g=g[0];g--;)u=u.lastChild;k.merge(e,u.childNodes);u=f.firstChild;u.textContent=""}else e.push(h.createTextNode(n));f.textContent="";for(m=0;n=e[m++];)if(b&&-1<k.inArray(n,b))d&&d.push(n);else if(c=k.contains(n.ownerDocument,n),u=C(f.appendChild(n),
"script"),c&&K(u),a)for(g=0;n=u[g++];)Ya.test(n.type||"")&&a.push(n);return f}function T(){return!0}function V(){return!1}function D(){try{return z.activeElement}catch(c){}}function G(c,h,a,b,d,g){var n;if("object"===typeof h){"string"!==typeof a&&(b=b||a,a=void 0);for(n in h)G(c,n,a,b,h[n],g);return c}null==b&&null==d?(d=a,b=a=void 0):null==d&&("string"===typeof a?(d=b,b=void 0):(d=b,b=a,a=void 0));if(!1===d)d=V;else if(!d)return c;if(1===g){var u=d;d=function(c){k().off(c);return u.apply(this,arguments)};
d.guid=u.guid||(u.guid=k.guid++)}return c.each(function(){k.event.add(this,h,d,b,a)})}function M(c,h){return a(c,"table")&&a(11!==h.nodeType?h:h.firstChild,"tr")?k("\x3etbody",c)[0]||c:c}function La(c){c.type=(null!==c.getAttribute("type"))+"/"+c.type;return c}function R(c){var h=Bb.exec(c.type);h?c.type=h[1]:c.removeAttribute("type");return c}function U(c,h){var a,b;if(1===h.nodeType){if(x.hasData(c)){var d=x.access(c);var g=x.set(h,d);if(d=d.events)for(b in delete g.handle,g.events={},d)for(g=0,
a=d[b].length;g<a;g++)k.event.add(h,b,d[b][g])}O.hasData(c)&&(c=O.access(c),c=k.extend({},c),O.set(h,c))}}function J(c,h,a,b){h=Za.apply([],h);var n,d=0,u=c.length,g=u-1,f=h[0],m=k.isFunction(f);if(m||1<u&&"string"===typeof f&&!E.checkClone&&Cb.test(f))return c.each(function(n){var k=c.eq(n);m&&(h[0]=f.call(this,n,k.html()));J(k,h,a,b)});if(u){var p=Q(h,c[0].ownerDocument,!1,c,b);var l=p.firstChild;1===p.childNodes.length&&(p=l);if(l||b){l=k.map(C(p,"script"),La);for(n=l.length;d<u;d++){var q=p;d!==
g&&(q=k.clone(q,!0,!0),n&&k.merge(l,C(q,"script")));a.call(c[d],q,d)}if(n)for(p=l[l.length-1].ownerDocument,k.map(l,R),d=0;d<n;d++)q=l[d],Ya.test(q.type||"")&&!x.access(q,"globalEval")&&k.contains(p,q)&&(q.src?k._evalUrl&&k._evalUrl(q.src):e(q.textContent.replace(Eb,""),p))}}return c}function Ga(c,h,a){for(var b=h?k.filter(h,c):c,n=0;null!=(h=b[n]);n++)a||1!==h.nodeType||k.cleanData(C(h)),h.parentNode&&(a&&k.contains(h.ownerDocument,h)&&K(C(h,"script")),h.parentNode.removeChild(h));return c}function v(c,
h,a){var b=c.style;if(a=a||na(c)){var n=a.getPropertyValue(h)||a[h];""!==n||k.contains(c.ownerDocument,c)||(n=k.style(c,h));if(!E.pixelMarginRight()&&Ma.test(n)&&$a.test(h)){c=b.width;h=b.minWidth;var d=b.maxWidth;b.minWidth=b.maxWidth=b.width=n;n=a.width;b.width=c;b.minWidth=h;b.maxWidth=d}}return void 0!==n?n+"":n}function H(c,h){return{get:function(){if(c())delete this.get;else return(this.get=h).apply(this,arguments)}}}function Ca(c){var h=k.cssProps[c];if(!h){h=k.cssProps;a:{var a=c;if(!(a in
ab)){for(var b=a[0].toUpperCase()+a.slice(1),d=bb.length;d--;)if(a=bb[d]+b,a in ab)break a;a=void 0}}h=h[c]=a||c}return h}function ta(c,h,a){return(c=ma.exec(h))?Math.max(0,c[2]-(a||0))+(c[3]||"px"):h}function Ha(c,h,a,b,d){var n=0;for(h=a===(b?"border":"content")?4:"width"===h?1:0;4>h;h+=2)"margin"===a&&(n+=k.css(c,a+da[h],!0,d)),b?("content"===a&&(n-=k.css(c,"padding"+da[h],!0,d)),"margin"!==a&&(n-=k.css(c,"border"+da[h]+"Width",!0,d))):(n+=k.css(c,"padding"+da[h],!0,d),"padding"!==a&&(n+=k.css(c,
"border"+da[h]+"Width",!0,d)));return n}function Da(c,h,a){var b=na(c),n=v(c,h,b),d="border-box"===k.css(c,"boxSizing",!1,b);if(Ma.test(n))return n;var g=d&&(E.boxSizingReliable()||n===c.style[h]);"auto"===n&&(n=c["offset"+h[0].toUpperCase()+h.slice(1)]);n=parseFloat(n)||0;return n+Ha(c,h,a||(d?"border":"content"),g,b)+"px"}function S(c,h,a,b,k){return new S.prototype.init(c,h,a,b,k)}function X(){ea&&(!1===z.hidden&&f.requestAnimationFrame?f.requestAnimationFrame(X):f.setTimeout(X,k.fx.interval),
k.fx.tick())}function ua(){f.setTimeout(function(){oa=void 0});return oa=k.now()}function za(c,h){var a=0,b={height:c};for(h=h?1:0;4>a;a+=2-h){var k=da[a];b["margin"+k]=b["padding"+k]=c}h&&(b.opacity=b.width=c);return b}function Ea(c,h,a){for(var b,n=(Y.tweeners[h]||[]).concat(Y.tweeners["*"]),k=0,d=n.length;k<d;k++)if(b=n[k].call(a,h,c))return b}function va(c,h){var a,b;for(a in c){var d=k.camelCase(a);var g=h[d];var f=c[a];Array.isArray(f)&&(g=f[1],f=c[a]=f[0]);a!==d&&(c[d]=f,delete c[a]);if((b=
k.cssHooks[d])&&"expand"in b)for(a in f=b.expand(f),delete c[d],f)a in c||(c[a]=f[a],h[a]=g);else h[d]=g}}function Y(c,h,a){var b,n=0,d=Y.prefilters.length,g=k.Deferred().always(function(){delete f.elem}),f=function(){if(b)return!1;var h=oa||ua();h=Math.max(0,e.startTime+e.duration-h);for(var a=1-(h/e.duration||0),k=0,n=e.tweens.length;k<n;k++)e.tweens[k].run(a);g.notifyWith(c,[e,a,h]);if(1>a&&n)return h;n||g.notifyWith(c,[e,1,0]);g.resolveWith(c,[e]);return!1},e=g.promise({elem:c,props:k.extend({},
h),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},a),originalProperties:h,originalOptions:a,startTime:oa||ua(),duration:a.duration,tweens:[],createTween:function(h,a){h=k.Tween(c,e.opts,h,a,e.opts.specialEasing[h]||e.opts.easing);e.tweens.push(h);return h},stop:function(h){var a=0,k=h?e.tweens.length:0;if(b)return this;for(b=!0;a<k;a++)e.tweens[a].run(1);h?(g.notifyWith(c,[e,1,0]),g.resolveWith(c,[e,h])):g.rejectWith(c,[e,h]);return this}});a=e.props;for(va(a,e.opts.specialEasing);n<
d;n++)if(h=Y.prefilters[n].call(e,c,a,e.opts))return k.isFunction(h.stop)&&(k._queueHooks(e.elem,e.opts.queue).stop=k.proxy(h.stop,h)),h;k.map(a,Ea,e);k.isFunction(e.opts.start)&&e.opts.start.call(c,e);e.progress(e.opts.progress).done(e.opts.done,e.opts.complete).fail(e.opts.fail).always(e.opts.always);k.fx.timer(k.extend(f,{elem:c,anim:e,queue:e.opts.queue}));return e}function fa(c){return(c.match(W)||[]).join(" ")}function ha(c){return c.getAttribute&&c.getAttribute("class")||""}function Na(c,h,
a,b){var n;if(Array.isArray(h))k.each(h,function(h,k){a||Fb.test(c)?b(c,k):Na(c+"["+("object"===typeof k&&null!=k?h:"")+"]",k,a,b)});else if(a||"object"!==k.type(h))b(c,h);else for(n in h)Na(c+"["+n+"]",h[n],a,b)}function cb(c){return function(h,a){"string"!==typeof h&&(a=h,h="*");var b=0,n=h.toLowerCase().match(W)||[];if(k.isFunction(a))for(;h=n[b++];)"+"===h[0]?(h=h.slice(1)||"*",(c[h]=c[h]||[]).unshift(a)):(c[h]=c[h]||[]).push(a)}}function db(c,h,a,b){function n(e){var f;d[e]=!0;k.each(c[e]||[],
function(c,k){c=k(h,a,b);if("string"===typeof c&&!g&&!d[c])return h.dataTypes.unshift(c),n(c),!1;if(g)return!(f=c)});return f}var d={},g=c===Oa;return n(h.dataTypes[0])||!d["*"]&&n("*")}function Pa(c,h){var a,b,d=k.ajaxSettings.flatOptions||{};for(a in h)void 0!==h[a]&&((d[a]?c:b||(b={}))[a]=h[a]);b&&k.extend(!0,c,b);return c}var ia=[],z=f.document,Gb=Object.getPrototypeOf,Z=ia.slice,Za=ia.concat,Qa=ia.push,ca=ia.indexOf,Aa={},eb=Aa.toString,Ia=Aa.hasOwnProperty,fb=Ia.toString,Hb=fb.call(Object),
E={},k=function(c,h){return new k.fn.init(c,h)},Ib=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Jb=/^-ms-/,Kb=/-([a-z])/g,Lb=function(c,h){return h.toUpperCase()};k.fn=k.prototype={jquery:"3.2.1",constructor:k,length:0,toArray:function(){return Z.call(this)},get:function(c){return null==c?Z.call(this):0>c?this[c+this.length]:this[c]},pushStack:function(c){c=k.merge(this.constructor(),c);c.prevObject=this;return c},each:function(c){return k.each(this,c)},map:function(c){return this.pushStack(k.map(this,function(h,
a){return c.call(h,a,h)}))},slice:function(){return this.pushStack(Z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(c){var h=this.length;c=+c+(0>c?h:0);return this.pushStack(0<=c&&c<h?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:Qa,sort:ia.sort,splice:ia.splice};k.extend=k.fn.extend=function(){var c,h,a,b=arguments[0]||{},d=1,g=arguments.length,e=!1;"boolean"===typeof b&&(e=b,b=arguments[d]||{},d++);"object"===
typeof b||k.isFunction(b)||(b={});d===g&&(b=this,d--);for(;d<g;d++)if(null!=(c=arguments[d]))for(h in c){var f=b[h];var m=c[h];b!==m&&(e&&m&&(k.isPlainObject(m)||(a=Array.isArray(m)))?(a?(a=!1,f=f&&Array.isArray(f)?f:[]):f=f&&k.isPlainObject(f)?f:{},b[h]=k.extend(e,f,m)):void 0!==m&&(b[h]=m))}return b};k.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(c){throw Error(c);},noop:function(){},isFunction:function(c){return"function"===k.type(c)},isWindow:function(c){return null!=
c&&c===c.window},isNumeric:function(c){var a=k.type(c);return("number"===a||"string"===a)&&!isNaN(c-parseFloat(c))},isPlainObject:function(c){if(!c||"[object Object]"!==eb.call(c))return!1;c=Gb(c);if(!c)return!0;c=Ia.call(c,"constructor")&&c.constructor;return"function"===typeof c&&fb.call(c)===Hb},isEmptyObject:function(c){for(var a in c)return!1;return!0},type:function(c){return null==c?c+"":"object"===typeof c||"function"===typeof c?Aa[eb.call(c)]||"object":typeof c},globalEval:function(c){e(c)},
camelCase:function(c){return c.replace(Jb,"ms-").replace(Kb,Lb)},each:function(c,a){var h,k=0;if(b(c))for(h=c.length;k<h&&!1!==a.call(c[k],k,c[k]);k++);else for(k in c)if(!1===a.call(c[k],k,c[k]))break;return c},trim:function(c){return null==c?"":(c+"").replace(Ib,"")},makeArray:function(c,a){a=a||[];null!=c&&(b(Object(c))?k.merge(a,"string"===typeof c?[c]:c):Qa.call(a,c));return a},inArray:function(c,a,b){return null==a?-1:ca.call(a,c,b)},merge:function(c,a){for(var h=+a.length,b=0,k=c.length;b<
h;b++)c[k++]=a[b];c.length=k;return c},grep:function(c,a,b){for(var h=[],k=0,d=c.length,n=!b;k<d;k++)b=!a(c[k],k),b!==n&&h.push(c[k]);return h},map:function(c,a,k){var h,d=0,n=[];if(b(c))for(h=c.length;d<h;d++){var g=a(c[d],d,k);null!=g&&n.push(g)}else for(d in c)g=a(c[d],d,k),null!=g&&n.push(g);return Za.apply([],n)},guid:1,proxy:function(c,a){if("string"===typeof a){var h=c[a];a=c;c=h}if(k.isFunction(c)){var b=Z.call(arguments,2);h=function(){return c.apply(a||this,b.concat(Z.call(arguments)))};
h.guid=c.guid=c.guid||k.guid++;return h}},now:Date.now,support:E});"function"===typeof Symbol&&(k.fn[Symbol.iterator]=ia[Symbol.iterator]);k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(c,a){Aa["[object "+a+"]"]=a.toLowerCase()});var la=function(c){function a(c,a,h,b){var k,d,n,g,e=a&&a.ownerDocument,f=a?a.nodeType:9;h=h||[];if("string"!==typeof c||!c||1!==f&&9!==f&&11!==f)return h;if(!b&&((a?a.ownerDocument||a:D)!==v&&wa(a),a=a||v,z)){if(11!==f&&
(g=pa.exec(c)))if(k=g[1])if(9===f)if(d=a.getElementById(k)){if(d.id===k)return h.push(d),h}else return h;else{if(e&&(d=e.getElementById(k))&&G(a,d)&&d.id===k)return h.push(d),h}else{if(g[2])return P.apply(h,a.getElementsByTagName(c)),h;if((k=g[3])&&N.getElementsByClassName&&a.getElementsByClassName)return P.apply(h,a.getElementsByClassName(k)),h}if(!(!N.qsa||ta[c+" "]||H&&H.test(c))){if(1!==f){e=a;var m=c}else if("object"!==a.nodeName.toLowerCase()){(n=a.getAttribute("id"))?n=n.replace(ma,qa):a.setAttribute("id",
n=L);d=ea(c);for(k=d.length;k--;)d[k]="#"+n+" "+t(d[k]);m=d.join(",");e=ca.test(c)&&q(a.parentNode)||a}if(m)try{return P.apply(h,e.querySelectorAll(m)),h}catch(pc){}finally{n===L&&a.removeAttribute("id")}}}return Aa(c.replace(ua,"$1"),a,h,b)}function b(){function c(h,b){a.push(h+" ")>F.cacheLength&&delete c[a.shift()];return c[h+" "]=b}var a=[];return c}function k(c){c[L]=!0;return c}function d(c){var a=v.createElement("fieldset");try{return!!c(a)}catch(aa){return!1}finally{a.parentNode&&a.parentNode.removeChild(a)}}
function g(c,a){c=c.split("|");for(var h=c.length;h--;)F.attrHandle[c[h]]=a}function e(c,a){var h=a&&c,b=h&&1===c.nodeType&&1===a.nodeType&&c.sourceIndex-a.sourceIndex;if(b)return b;if(h)for(;h=h.nextSibling;)if(h===a)return-1;return c?1:-1}function f(c){return function(a){return"input"===a.nodeName.toLowerCase()&&a.type===c}}function m(c){return function(a){var h=a.nodeName.toLowerCase();return("input"===h||"button"===h)&&a.type===c}}function p(c){return function(a){return"form"in a?a.parentNode&&
!1===a.disabled?"label"in a?"label"in a.parentNode?a.parentNode.disabled===c:a.disabled===c:a.isDisabled===c||a.isDisabled!==!c&&xa(a)===c:a.disabled===c:"label"in a?a.disabled===c:!1}}function l(c){return k(function(a){a=+a;return k(function(h,b){for(var k,d=c([],h.length,a),n=d.length;n--;)h[k=d[n]]&&(h[k]=!(b[k]=h[k]))})})}function q(c){return c&&"undefined"!==typeof c.getElementsByTagName&&c}function r(){}function t(c){for(var a=0,h=c.length,b="";a<h;a++)b+=c[a].value;return b}function y(c,a,
h){var b=a.dir,k=a.next,d=k||b,n=h&&"parentNode"===d,g=Ga++;return a.first?function(a,h,k){for(;a=a[b];)if(1===a.nodeType||n)return c(a,h,k);return!1}:function(a,h,e){var f,m=[E,g];if(e)for(;a=a[b];){if((1===a.nodeType||n)&&c(a,h,e))return!0}else for(;a=a[b];)if(1===a.nodeType||n){var u=a[L]||(a[L]={});u=u[a.uniqueID]||(u[a.uniqueID]={});if(k&&k===a.nodeName.toLowerCase())a=a[b]||a;else{if((f=u[d])&&f[0]===E&&f[1]===g)return m[2]=f[2];u[d]=m;if(m[2]=c(a,h,e))return!0}}return!1}}function I(c){return 1<
c.length?function(a,h,b){for(var k=c.length;k--;)if(!c[k](a,h,b))return!1;return!0}:c[0]}function A(c,a,h,b,k){for(var d,n=[],g=0,e=c.length,f=null!=a;g<e;g++)if(d=c[g])if(!h||h(d,b,k))n.push(d),f&&a.push(g);return n}function R(c,h,b,d,n,g){d&&!d[L]&&(d=R(d));n&&!n[L]&&(n=R(n,g));return k(function(k,g,e,f){var m,u=[],p=[],l=g.length,q;if(!(q=k)){q=h||"*";for(var w=e.nodeType?[e]:e,Ba=[],r=0,sa=w.length;r<sa;r++)a(q,w[r],Ba);q=Ba}q=!c||!k&&h?q:A(q,u,c,e,f);w=b?n||(k?c:l||d)?[]:g:q;b&&b(q,w,e,f);if(d){var aa=
A(w,p);d(aa,[],e,f);for(e=aa.length;e--;)if(m=aa[e])w[p[e]]=!(q[p[e]]=m)}if(k){if(n||c){if(n){aa=[];for(e=w.length;e--;)(m=w[e])&&aa.push(q[e]=m);n(null,w=[],aa,f)}for(e=w.length;e--;)(m=w[e])&&-1<(aa=n?X(k,m):u[e])&&(k[aa]=!(g[aa]=m))}}else w=A(w===g?w.splice(l,w.length):w),n?n(null,g,w,f):P.apply(g,w)})}function B(c){var a,h,b=c.length,k=F.relative[c[0].type];var d=k||F.relative[" "];for(var n=k?1:0,g=y(function(c){return c===a},d,!0),e=y(function(c){return-1<X(a,c)},d,!0),f=[function(c,h,b){c=
!k&&(b||h!==Q)||((a=h).nodeType?g(c,h,b):e(c,h,b));a=null;return c}];n<b;n++)if(d=F.relative[c[n].type])f=[y(I(f),d)];else{d=F.filter[c[n].type].apply(null,c[n].matches);if(d[L]){for(h=++n;h<b&&!F.relative[c[h].type];h++);return R(1<n&&I(f),1<n&&t(c.slice(0,n-1).concat({value:" "===c[n-2].type?"*":""})).replace(ua,"$1"),d,n<h&&B(c.slice(n,h)),h<b&&B(c=c.slice(h)),h<b&&t(c))}f.push(d)}return I(f)}function U(c,h){var b=0<h.length,d=0<c.length,n=function(k,n,g,e,f){var m,u,p=0,l="0",q=k&&[],w=[],r=Q,
Ba=k||d&&F.find.TAG("*",f),sa=E+=null==r?1:Math.random()||.1,aa=Ba.length;for(f&&(Q=n===v||n||f);l!==aa&&null!=(m=Ba[l]);l++){if(d&&m){var t=0;n||m.ownerDocument===v||(wa(m),g=!z);for(;u=c[t++];)if(u(m,n||v,g)){e.push(m);break}f&&(E=sa)}b&&((m=!u&&m)&&p--,k&&q.push(m))}p+=l;if(b&&l!==p){for(t=0;u=h[t++];)u(q,w,n,g);if(k){if(0<p)for(;l--;)q[l]||w[l]||(w[l]=Y.call(e));w=A(w)}P.apply(e,w);f&&!k&&0<w.length&&1<p+h.length&&a.uniqueSort(e)}f&&(E=sa,Q=r);return q};return b?k(n):n}var C,Q,J,x,v,K,z,H,T,S,
G,L="sizzle"+1*new Date,D=c.document,E=0,Ga=0,V=b(),Ca=b(),ta=b(),M=function(c,a){c===a&&(x=!0);return 0},za={}.hasOwnProperty,O=[],Y=O.pop,W=O.push,P=O.push,Da=O.slice,X=function(c,a){for(var h=0,b=c.length;h<b;h++)if(c[h]===a)return h;return-1},Ha=/[\x20\t\r\n\f]+/g,ua=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,fa=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ba=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,da=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,ha=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
ia=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,Z={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},la=/^(?:input|select|textarea|button)$/i,oa=/^h\d$/i,va=
/^[^{]+\{\s*\[native \w/,pa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ca=/[+~]/,ja=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,ka=function(c,a,h){c="0x"+a-65536;return c!==c||h?a:0>c?String.fromCharCode(c+65536):String.fromCharCode(c>>10|55296,c&1023|56320)},ma=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,qa=function(c,a){return a?"\x00"===c?"\ufffd":c.slice(0,-1)+"\\"+c.charCodeAt(c.length-1).toString(16)+" ":"\\"+c},ra=function(){wa()},xa=y(function(c){return!0===c.disabled&&("form"in
c||"label"in c)},{dir:"parentNode",next:"legend"});try{P.apply(O=Da.call(D.childNodes),D.childNodes),O[D.childNodes.length].nodeType}catch(Ba){P={apply:O.length?function(c,a){W.apply(c,Da.call(a))}:function(c,a){for(var h=c.length,b=0;c[h++]=a[b++];);c.length=h-1}}}var N=a.support={};var ya=a.isXML=function(c){return(c=c&&(c.ownerDocument||c).documentElement)?"HTML"!==c.nodeName:!1};var wa=a.setDocument=function(c){var a;c=c?c.ownerDocument||c:D;if(c===v||9!==c.nodeType||!c.documentElement)return v;
v=c;K=v.documentElement;z=!ya(v);D!==v&&(a=v.defaultView)&&a.top!==a&&(a.addEventListener?a.addEventListener("unload",ra,!1):a.attachEvent&&a.attachEvent("onunload",ra));N.attributes=d(function(c){c.className="i";return!c.getAttribute("className")});N.getElementsByTagName=d(function(c){c.appendChild(v.createComment(""));return!c.getElementsByTagName("*").length});N.getElementsByClassName=va.test(v.getElementsByClassName);N.getById=d(function(c){K.appendChild(c).id=L;return!v.getElementsByName||!v.getElementsByName(L).length});
N.getById?(F.filter.ID=function(c){var a=c.replace(ja,ka);return function(c){return c.getAttribute("id")===a}},F.find.ID=function(c,a){if("undefined"!==typeof a.getElementById&&z)return(c=a.getElementById(c))?[c]:[]}):(F.filter.ID=function(c){var a=c.replace(ja,ka);return function(c){return(c="undefined"!==typeof c.getAttributeNode&&c.getAttributeNode("id"))&&c.value===a}},F.find.ID=function(c,a){if("undefined"!==typeof a.getElementById&&z){var h,b=a.getElementById(c);if(b){if((h=b.getAttributeNode("id"))&&
h.value===c)return[b];var k=a.getElementsByName(c);for(a=0;b=k[a++];)if((h=b.getAttributeNode("id"))&&h.value===c)return[b]}return[]}});F.find.TAG=N.getElementsByTagName?function(c,a){if("undefined"!==typeof a.getElementsByTagName)return a.getElementsByTagName(c);if(N.qsa)return a.querySelectorAll(c)}:function(c,a){var h=[],b=0;a=a.getElementsByTagName(c);if("*"===c){for(;c=a[b++];)1===c.nodeType&&h.push(c);return h}return a};F.find.CLASS=N.getElementsByClassName&&function(c,a){if("undefined"!==typeof a.getElementsByClassName&&
z)return a.getElementsByClassName(c)};T=[];H=[];if(N.qsa=va.test(v.querySelectorAll))d(function(c){K.appendChild(c).innerHTML="\x3ca id\x3d'"+L+"'\x3e\x3c/a\x3e\x3cselect id\x3d'"+L+"-\r\\' msallowcapture\x3d''\x3e\x3coption selected\x3d''\x3e\x3c/option\x3e\x3c/select\x3e";c.querySelectorAll("[msallowcapture^\x3d'']").length&&H.push("[*^$]\x3d[\\x20\\t\\r\\n\\f]*(?:''|\"\")");c.querySelectorAll("[selected]").length||H.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
c.querySelectorAll("[id~\x3d"+L+"-]").length||H.push("~\x3d");c.querySelectorAll(":checked").length||H.push(":checked");c.querySelectorAll("a#"+L+"+*").length||H.push(".#.+[+~]")}),d(function(c){c.innerHTML="\x3ca href\x3d'' disabled\x3d'disabled'\x3e\x3c/a\x3e\x3cselect disabled\x3d'disabled'\x3e\x3coption/\x3e\x3c/select\x3e";var a=v.createElement("input");a.setAttribute("type","hidden");c.appendChild(a).setAttribute("name","D");c.querySelectorAll("[name\x3dd]").length&&H.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?\x3d");
2!==c.querySelectorAll(":enabled").length&&H.push(":enabled",":disabled");K.appendChild(c).disabled=!0;2!==c.querySelectorAll(":disabled").length&&H.push(":enabled",":disabled");c.querySelectorAll("*,:x");H.push(",.*:")});(N.matchesSelector=va.test(S=K.matches||K.webkitMatchesSelector||K.mozMatchesSelector||K.oMatchesSelector||K.msMatchesSelector))&&d(function(c){N.disconnectedMatch=S.call(c,"*");S.call(c,"[s!\x3d'']:x");T.push("!\x3d",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?\x3d)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")});
H=H.length&&new RegExp(H.join("|"));T=T.length&&new RegExp(T.join("|"));G=(a=va.test(K.compareDocumentPosition))||va.test(K.contains)?function(c,a){var h=9===c.nodeType?c.documentElement:c;a=a&&a.parentNode;return c===a||!!(a&&1===a.nodeType&&(h.contains?h.contains(a):c.compareDocumentPosition&&c.compareDocumentPosition(a)&16))}:function(c,a){if(a)for(;a=a.parentNode;)if(a===c)return!0;return!1};M=a?function(c,a){if(c===a)return x=!0,0;var h=!c.compareDocumentPosition-!a.compareDocumentPosition;if(h)return h;
h=(c.ownerDocument||c)===(a.ownerDocument||a)?c.compareDocumentPosition(a):1;return h&1||!N.sortDetached&&a.compareDocumentPosition(c)===h?c===v||c.ownerDocument===D&&G(D,c)?-1:a===v||a.ownerDocument===D&&G(D,a)?1:J?X(J,c)-X(J,a):0:h&4?-1:1}:function(c,a){if(c===a)return x=!0,0;var h=0,b=c.parentNode,k=a.parentNode,d=[c],n=[a];if(!b||!k)return c===v?-1:a===v?1:b?-1:k?1:J?X(J,c)-X(J,a):0;if(b===k)return e(c,a);for(;c=c.parentNode;)d.unshift(c);for(c=a;c=c.parentNode;)n.unshift(c);for(;d[h]===n[h];)h++;
return h?e(d[h],n[h]):d[h]===D?-1:n[h]===D?1:0};return v};a.matches=function(c,h){return a(c,null,null,h)};a.matchesSelector=function(c,h){(c.ownerDocument||c)!==v&&wa(c);h=h.replace(da,"\x3d'$1']");if(!(!N.matchesSelector||!z||ta[h+" "]||T&&T.test(h)||H&&H.test(h)))try{var b=S.call(c,h);if(b||N.disconnectedMatch||c.document&&11!==c.document.nodeType)return b}catch(oc){}return 0<a(h,v,null,[c]).length};a.contains=function(c,a){(c.ownerDocument||c)!==v&&wa(c);return G(c,a)};a.attr=function(c,a){(c.ownerDocument||
c)!==v&&wa(c);var h=F.attrHandle[a.toLowerCase()];h=h&&za.call(F.attrHandle,a.toLowerCase())?h(c,a,!z):void 0;return void 0!==h?h:N.attributes||!z?c.getAttribute(a):(h=c.getAttributeNode(a))&&h.specified?h.value:null};a.escape=function(c){return(c+"").replace(ma,qa)};a.error=function(c){throw Error("Syntax error, unrecognized expression: "+c);};a.uniqueSort=function(c){var a,h=[],b=0,k=0;x=!N.detectDuplicates;J=!N.sortStable&&c.slice(0);c.sort(M);if(x){for(;a=c[k++];)a===c[k]&&(b=h.push(k));for(;b--;)c.splice(h[b],
1)}J=null;return c};var na=a.getText=function(c){var a="",h=0;var b=c.nodeType;if(!b)for(;b=c[h++];)a+=na(b);else if(1===b||9===b||11===b){if("string"===typeof c.textContent)return c.textContent;for(c=c.firstChild;c;c=c.nextSibling)a+=na(c)}else if(3===b||4===b)return c.nodeValue;return a};var F=a.selectors={cacheLength:50,createPseudo:k,match:Z,attrHandle:{},find:{},relative:{"\x3e":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},
preFilter:{ATTR:function(c){c[1]=c[1].replace(ja,ka);c[3]=(c[3]||c[4]||c[5]||"").replace(ja,ka);"~\x3d"===c[2]&&(c[3]=" "+c[3]+" ");return c.slice(0,4)},CHILD:function(c){c[1]=c[1].toLowerCase();"nth"===c[1].slice(0,3)?(c[3]||a.error(c[0]),c[4]=+(c[4]?c[5]+(c[6]||1):2*("even"===c[3]||"odd"===c[3])),c[5]=+(c[7]+c[8]||"odd"===c[3])):c[3]&&a.error(c[0]);return c},PSEUDO:function(c){var a,h=!c[6]&&c[2];if(Z.CHILD.test(c[0]))return null;c[3]?c[2]=c[4]||c[5]||"":h&&ha.test(h)&&(a=ea(h,!0))&&(a=h.indexOf(")",
h.length-a)-h.length)&&(c[0]=c[0].slice(0,a),c[2]=h.slice(0,a));return c.slice(0,3)}},filter:{TAG:function(c){var a=c.replace(ja,ka).toLowerCase();return"*"===c?function(){return!0}:function(c){return c.nodeName&&c.nodeName.toLowerCase()===a}},CLASS:function(c){var a=V[c+" "];return a||(a=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+c+"([\\x20\\t\\r\\n\\f]|$)"),V(c,function(c){return a.test("string"===typeof c.className&&c.className||"undefined"!==typeof c.getAttribute&&c.getAttribute("class")||"")}))},ATTR:function(c,
h,b){return function(k){k=a.attr(k,c);if(null==k)return"!\x3d"===h;if(!h)return!0;k+="";return"\x3d"===h?k===b:"!\x3d"===h?k!==b:"^\x3d"===h?b&&0===k.indexOf(b):"*\x3d"===h?b&&-1<k.indexOf(b):"$\x3d"===h?b&&k.slice(-b.length)===b:"~\x3d"===h?-1<(" "+k.replace(Ha," ")+" ").indexOf(b):"|\x3d"===h?k===b||k.slice(0,b.length+1)===b+"-":!1}},CHILD:function(c,a,h,b,k){var d="nth"!==c.slice(0,3),n="last"!==c.slice(-4),g="of-type"===a;return 1===b&&0===k?function(c){return!!c.parentNode}:function(a,h,e){var f,
m;h=d!==n?"nextSibling":"previousSibling";var u=a.parentNode,p=g&&a.nodeName.toLowerCase();e=!e&&!g;var l=!1;if(u){if(d){for(;h;){for(f=a;f=f[h];)if(g?f.nodeName.toLowerCase()===p:1===f.nodeType)return!1;var q=h="only"===c&&!q&&"nextSibling"}return!0}q=[n?u.firstChild:u.lastChild];if(n&&e){f=u;var w=f[L]||(f[L]={});w=w[f.uniqueID]||(w[f.uniqueID]={});l=w[c]||[];l=(m=l[0]===E&&l[1])&&l[2];for(f=m&&u.childNodes[m];f=++m&&f&&f[h]||(l=m=0)||q.pop();)if(1===f.nodeType&&++l&&f===a){w[c]=[E,m,l];break}}else if(e&&
(f=a,w=f[L]||(f[L]={}),w=w[f.uniqueID]||(w[f.uniqueID]={}),l=w[c]||[],l=m=l[0]===E&&l[1]),!1===l)for(;(f=++m&&f&&f[h]||(l=m=0)||q.pop())&&((g?f.nodeName.toLowerCase()!==p:1!==f.nodeType)||!++l||(e&&(w=f[L]||(f[L]={}),w=w[f.uniqueID]||(w[f.uniqueID]={}),w[c]=[E,l]),f!==a)););l-=k;return l===b||0===l%b&&0<=l/b}}},PSEUDO:function(c,h){var b=F.pseudos[c]||F.setFilters[c.toLowerCase()]||a.error("unsupported pseudo: "+c);if(b[L])return b(h);if(1<b.length){var d=[c,c,"",h];return F.setFilters.hasOwnProperty(c.toLowerCase())?
k(function(c,a){for(var k,d=b(c,h),n=d.length;n--;)k=X(c,d[n]),c[k]=!(a[k]=d[n])}):function(c){return b(c,0,d)}}return b}},pseudos:{not:k(function(c){var a=[],h=[],b=Ea(c.replace(ua,"$1"));return b[L]?k(function(c,a,h,k){k=b(c,null,k,[]);for(var d=c.length;d--;)if(h=k[d])c[d]=!(a[d]=h)}):function(c,k,d){a[0]=c;b(a,null,d,h);a[0]=null;return!h.pop()}}),has:k(function(c){return function(h){return 0<a(c,h).length}}),contains:k(function(c){c=c.replace(ja,ka);return function(a){return-1<(a.textContent||
a.innerText||na(a)).indexOf(c)}}),lang:k(function(c){ia.test(c||"")||a.error("unsupported lang: "+c);c=c.replace(ja,ka).toLowerCase();return function(a){var h;do if(h=z?a.lang:a.getAttribute("xml:lang")||a.getAttribute("lang"))return h=h.toLowerCase(),h===c||0===h.indexOf(c+"-");while((a=a.parentNode)&&1===a.nodeType);return!1}}),target:function(a){var h=c.location&&c.location.hash;return h&&h.slice(1)===a.id},root:function(c){return c===K},focus:function(c){return c===v.activeElement&&(!v.hasFocus||
v.hasFocus())&&!!(c.type||c.href||~c.tabIndex)},enabled:p(!1),disabled:p(!0),checked:function(c){var a=c.nodeName.toLowerCase();return"input"===a&&!!c.checked||"option"===a&&!!c.selected},selected:function(c){c.parentNode&&c.parentNode.selectedIndex;return!0===c.selected},empty:function(c){for(c=c.firstChild;c;c=c.nextSibling)if(6>c.nodeType)return!1;return!0},parent:function(c){return!F.pseudos.empty(c)},header:function(c){return oa.test(c.nodeName)},input:function(c){return la.test(c.nodeName)},
button:function(c){var a=c.nodeName.toLowerCase();return"input"===a&&"button"===c.type||"button"===a},text:function(c){var a;return"input"===c.nodeName.toLowerCase()&&"text"===c.type&&(null==(a=c.getAttribute("type"))||"text"===a.toLowerCase())},first:l(function(){return[0]}),last:l(function(c,a){return[a-1]}),eq:l(function(c,a,h){return[0>h?h+a:h]}),even:l(function(c,a){for(var h=0;h<a;h+=2)c.push(h);return c}),odd:l(function(c,a){for(var h=1;h<a;h+=2)c.push(h);return c}),lt:l(function(c,a,h){for(a=
0>h?h+a:h;0<=--a;)c.push(a);return c}),gt:l(function(c,a,h){for(h=0>h?h+a:h;++h<a;)c.push(h);return c})}};F.pseudos.nth=F.pseudos.eq;for(C in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})F.pseudos[C]=f(C);for(C in{submit:!0,reset:!0})F.pseudos[C]=m(C);r.prototype=F.filters=F.pseudos;F.setFilters=new r;var ea=a.tokenize=function(c,h){var b,k,d,n,g;if(n=Ca[c+" "])return h?0:n.slice(0);n=c;var f=[];for(g=F.preFilter;n;){if(!e||(b=fa.exec(n)))b&&(n=n.slice(b[0].length)||n),f.push(k=[]);var e=!1;
if(b=ba.exec(n))e=b.shift(),k.push({value:e,type:b[0].replace(ua," ")}),n=n.slice(e.length);for(d in F.filter)!(b=Z[d].exec(n))||g[d]&&!(b=g[d](b))||(e=b.shift(),k.push({value:e,type:d,matches:b}),n=n.slice(e.length));if(!e)break}return h?n.length:n?a.error(c):Ca(c,f).slice(0)};var Ea=a.compile=function(c,a){var h,b=[],k=[],d=ta[c+" "];if(!d){a||(a=ea(c));for(h=a.length;h--;)d=B(a[h]),d[L]?b.push(d):k.push(d);d=ta(c,U(k,b));d.selector=c}return d};var Aa=a.select=function(c,a,h,b){var k,d,n,g="function"===
typeof c&&c,f=!b&&ea(c=g.selector||c);h=h||[];if(1===f.length){var e=f[0]=f[0].slice(0);if(2<e.length&&"ID"===(d=e[0]).type&&9===a.nodeType&&z&&F.relative[e[1].type]){a=(F.find.ID(d.matches[0].replace(ja,ka),a)||[])[0];if(!a)return h;g&&(a=a.parentNode);c=c.slice(e.shift().value.length)}for(k=Z.needsContext.test(c)?0:e.length;k--;){d=e[k];if(F.relative[n=d.type])break;if(n=F.find[n])if(b=n(d.matches[0].replace(ja,ka),ca.test(e[0].type)&&q(a.parentNode)||a)){e.splice(k,1);c=b.length&&t(e);if(!c)return P.apply(h,
b),h;break}}}(g||Ea(c,f))(b,a,!z,h,!a||ca.test(c)&&q(a.parentNode)||a);return h};N.sortStable=L.split("").sort(M).join("")===L;N.detectDuplicates=!!x;wa();N.sortDetached=d(function(c){return c.compareDocumentPosition(v.createElement("fieldset"))&1});d(function(c){c.innerHTML="\x3ca href\x3d'#'\x3e\x3c/a\x3e";return"#"===c.firstChild.getAttribute("href")})||g("type|href|height|width",function(c,a,h){if(!h)return c.getAttribute(a,"type"===a.toLowerCase()?1:2)});N.attributes&&d(function(c){c.innerHTML=
"\x3cinput/\x3e";c.firstChild.setAttribute("value","");return""===c.firstChild.getAttribute("value")})||g("value",function(c,a,h){if(!h&&"input"===c.nodeName.toLowerCase())return c.defaultValue});d(function(c){return null==c.getAttribute("disabled")})||g("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(c,a,h){var b;if(!h)return!0===c[a]?a.toLowerCase():(b=c.getAttributeNode(a))&&b.specified?b.value:null});return a}(f);
k.find=la;k.expr=la.selectors;k.expr[":"]=k.expr.pseudos;k.uniqueSort=k.unique=la.uniqueSort;k.text=la.getText;k.isXMLDoc=la.isXML;k.contains=la.contains;k.escapeSelector=la.escape;var pa=function(c,a,b){for(var h=[],d=void 0!==b;(c=c[a])&&9!==c.nodeType;)if(1===c.nodeType){if(d&&k(c).is(b))break;h.push(c)}return h},hb=function(c,a){for(var h=[];c;c=c.nextSibling)1===c.nodeType&&c!==a&&h.push(c);return h},ib=k.expr.match.needsContext,jb=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,
wb=/^.[^:#\[\.,]*$/;k.filter=function(c,a,b){var h=a[0];b&&(c=":not("+c+")");return 1===a.length&&1===h.nodeType?k.find.matchesSelector(h,c)?[h]:[]:k.find.matches(c,k.grep(a,function(c){return 1===c.nodeType}))};k.fn.extend({find:function(c){var a,b=this.length,d=this;if("string"!==typeof c)return this.pushStack(k(c).filter(function(){for(a=0;a<b;a++)if(k.contains(d[a],this))return!0}));var g=this.pushStack([]);for(a=0;a<b;a++)k.find(c,d[a],g);return 1<b?k.uniqueSort(g):g},filter:function(c){return this.pushStack(d(this,
c||[],!1))},not:function(c){return this.pushStack(d(this,c||[],!0))},is:function(c){return!!d(this,"string"===typeof c&&ib.test(c)?k(c):c||[],!1).length}});var Nb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(c,a,b){if(!c)return this;b=b||Ob;if("string"===typeof c){var h="\x3c"===c[0]&&"\x3e"===c[c.length-1]&&3<=c.length?[null,c,null]:Nb.exec(c);if(!h||!h[1]&&a)return!a||a.jquery?(a||b).find(c):this.constructor(a).find(c);if(h[1]){if(a=a instanceof k?a[0]:a,k.merge(this,k.parseHTML(h[1],
a&&a.nodeType?a.ownerDocument||a:z,!0)),jb.test(h[1])&&k.isPlainObject(a))for(h in a)if(k.isFunction(this[h]))this[h](a[h]);else this.attr(h,a[h])}else if(c=z.getElementById(h[2]))this[0]=c,this.length=1;return this}return c.nodeType?(this[0]=c,this.length=1,this):k.isFunction(c)?void 0!==b.ready?b.ready(c):c(k):k.makeArray(c,this)}).prototype=k.fn;var Ob=k(z);var Pb=/^(?:parents|prev(?:Until|All))/,Qb={children:!0,contents:!0,next:!0,prev:!0};k.fn.extend({has:function(c){var a=k(c,this),b=a.length;
return this.filter(function(){for(var c=0;c<b;c++)if(k.contains(this,a[c]))return!0})},closest:function(c,a){var h,b=0,d=this.length,g=[],f="string"!==typeof c&&k(c);if(!ib.test(c))for(;b<d;b++)for(h=this[b];h&&h!==a;h=h.parentNode)if(11>h.nodeType&&(f?-1<f.index(h):1===h.nodeType&&k.find.matchesSelector(h,c))){g.push(h);break}return this.pushStack(1<g.length?k.uniqueSort(g):g)},index:function(c){return c?"string"===typeof c?ca.call(k(c),this[0]):ca.call(this,c.jquery?c[0]:c):this[0]&&this[0].parentNode?
this.first().prevAll().length:-1},add:function(c,a){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(c,a))))},addBack:function(c){return this.add(null==c?this.prevObject:this.prevObject.filter(c))}});k.each({parent:function(c){return(c=c.parentNode)&&11!==c.nodeType?c:null},parents:function(c){return pa(c,"parentNode")},parentsUntil:function(c,a,b){return pa(c,"parentNode",b)},next:function(c){return g(c,"nextSibling")},prev:function(c){return g(c,"previousSibling")},nextAll:function(c){return pa(c,
"nextSibling")},prevAll:function(c){return pa(c,"previousSibling")},nextUntil:function(c,a,b){return pa(c,"nextSibling",b)},prevUntil:function(c,a,b){return pa(c,"previousSibling",b)},siblings:function(c){return hb((c.parentNode||{}).firstChild,c)},children:function(c){return hb(c.firstChild)},contents:function(c){if(a(c,"iframe"))return c.contentDocument;a(c,"template")&&(c=c.content||c);return k.merge([],c.childNodes)}},function(c,a){k.fn[c]=function(h,b){var d=k.map(this,a,h);"Until"!==c.slice(-5)&&
(b=h);b&&"string"===typeof b&&(d=k.filter(b,d));1<this.length&&(Qb[c]||k.uniqueSort(d),Pb.test(c)&&d.reverse());return this.pushStack(d)}});var W=/[^\x20\t\r\n\f]+/g;k.Callbacks=function(c){c="string"===typeof c?p(c):k.extend({},c);var a,b,d,g,f=[],e=[],m=-1,l=function(){g=g||c.once;for(d=a=!0;e.length;m=-1)for(b=e.shift();++m<f.length;)!1===f[m].apply(b[0],b[1])&&c.stopOnFalse&&(m=f.length,b=!1);c.memory||(b=!1);a=!1;g&&(f=b?[]:"")},q={add:function(){f&&(b&&!a&&(m=f.length-1,e.push(b)),function Db(a){k.each(a,
function(a,h){k.isFunction(h)?c.unique&&q.has(h)||f.push(h):h&&h.length&&"string"!==k.type(h)&&Db(h)})}(arguments),b&&!a&&l());return this},remove:function(){k.each(arguments,function(c,a){for(var h;-1<(h=k.inArray(a,f,h));)f.splice(h,1),h<=m&&m--});return this},has:function(c){return c?-1<k.inArray(c,f):0<f.length},empty:function(){f&&(f=[]);return this},disable:function(){g=e=[];f=b="";return this},disabled:function(){return!f},lock:function(){g=e=[];b||a||(f=b="");return this},locked:function(){return!!g},
fireWith:function(c,h){g||(h=h||[],h=[c,h.slice?h.slice():h],e.push(h),a||l());return this},fire:function(){q.fireWith(this,arguments);return this},fired:function(){return!!d}};return q};k.extend({Deferred:function(c){var a=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],b="pending",d={state:function(){return b},
always:function(){g.done(arguments).fail(arguments);return this},"catch":function(c){return d.then(null,c)},pipe:function(){var c=arguments;return k.Deferred(function(h){k.each(a,function(a,b){var d=k.isFunction(c[b[4]])&&c[b[4]];g[b[1]](function(){var c=d&&d.apply(this,arguments);if(c&&k.isFunction(c.promise))c.promise().progress(h.notify).done(h.resolve).fail(h.reject);else h[b[0]+"With"](this,d?[c]:arguments)})});c=null}).promise()},then:function(c,h,b){function d(c,a,h,b){return function(){var n=
this,e=arguments,p=function(){if(!(c<g)){var f=h.apply(n,e);if(f===a.promise())throw new TypeError("Thenable self-resolution");var p=f&&("object"===typeof f||"function"===typeof f)&&f.then;k.isFunction(p)?b?p.call(f,d(g,a,m,b),d(g,a,r,b)):(g++,p.call(f,d(g,a,m,b),d(g,a,r,b),d(g,a,m,a.notifyWith))):(h!==m&&(n=void 0,e=[f]),(b||a.resolveWith)(n,e))}},l=b?p:function(){try{p()}catch(gb){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(gb,l.stackTrace),c+1>=g&&(h!==r&&(n=void 0,e=[gb]),a.rejectWith(n,
e))}};c?l():(k.Deferred.getStackHook&&(l.stackTrace=k.Deferred.getStackHook()),f.setTimeout(l))}}var g=0;return k.Deferred(function(g){a[0][3].add(d(0,g,k.isFunction(b)?b:m,g.notifyWith));a[1][3].add(d(0,g,k.isFunction(c)?c:m));a[2][3].add(d(0,g,k.isFunction(h)?h:r))}).promise()},promise:function(c){return null!=c?k.extend(c,d):d}},g={};k.each(a,function(c,h){var k=h[2],f=h[5];d[h[1]]=k.add;f&&k.add(function(){b=f},a[3-c][2].disable,a[0][2].lock);k.add(h[3].fire);g[h[0]]=function(){g[h[0]+"With"](this===
g?void 0:this,arguments);return this};g[h[0]+"With"]=k.fireWith});d.promise(g);c&&c.call(g,g);return g},when:function(c){var a=arguments.length,b=a,d=Array(b),g=Z.call(arguments),f=k.Deferred(),e=function(c){return function(h){d[c]=this;g[c]=1<arguments.length?Z.call(arguments):h;--a||f.resolveWith(d,g)}};if(1>=a&&(q(c,f.done(e(b)).resolve,f.reject,!a),"pending"===f.state()||k.isFunction(g[b]&&g[b].then)))return f.then();for(;b--;)q(g[b],e(b),f.reject);return f.promise()}});var Rb=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
k.Deferred.exceptionHook=function(c,a){f.console&&f.console.warn&&c&&Rb.test(c.name)&&f.console.warn("jQuery.Deferred exception: "+c.message,c.stack,a)};k.readyException=function(c){f.setTimeout(function(){throw c;})};var Sa=k.Deferred();k.fn.ready=function(c){Sa.then(c).catch(function(c){k.readyException(c)});return this};k.extend({isReady:!1,readyWait:1,ready:function(c){(!0===c?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==c&&0<--k.readyWait||Sa.resolveWith(z,[k]))}});k.ready.then=Sa.then;"complete"===
z.readyState||"loading"!==z.readyState&&!z.documentElement.doScroll?f.setTimeout(k.ready):(z.addEventListener("DOMContentLoaded",t),f.addEventListener("load",t));var ba=function(c,a,b,d,g,f,e){var h=0,n=c.length,m=null==b;if("object"===k.type(b))for(h in g=!0,b)ba(c,a,h,b[h],!0,f,e);else if(void 0!==d&&(g=!0,k.isFunction(d)||(e=!0),m&&(e?(a.call(c,d),a=null):(m=a,a=function(c,a,h){return m.call(k(c),h)})),a))for(;h<n;h++)a(c[h],b,e?d:d.call(c[h],h,a(c[h],b)));return g?c:m?a.call(c):n?a(c[0],b):f},
Ja=function(c){return 1===c.nodeType||9===c.nodeType||!+c.nodeType};y.uid=1;y.prototype={cache:function(c){var a=c[this.expando];a||(a={},Ja(c)&&(c.nodeType?c[this.expando]=a:Object.defineProperty(c,this.expando,{value:a,configurable:!0})));return a},set:function(c,a,b){var h;c=this.cache(c);if("string"===typeof a)c[k.camelCase(a)]=b;else for(h in a)c[k.camelCase(h)]=a[h];return c},get:function(c,a){return void 0===a?this.cache(c):c[this.expando]&&c[this.expando][k.camelCase(a)]},access:function(c,
a,b){if(void 0===a||a&&"string"===typeof a&&void 0===b)return this.get(c,a);this.set(c,a,b);return void 0!==b?b:a},remove:function(c,a){var h,b=c[this.expando];if(void 0!==b){if(void 0!==a)for(Array.isArray(a)?a=a.map(k.camelCase):(a=k.camelCase(a),a=a in b?[a]:a.match(W)||[]),h=a.length;h--;)delete b[a[h]];if(void 0===a||k.isEmptyObject(b))c.nodeType?c[this.expando]=void 0:delete c[this.expando]}},hasData:function(c){c=c[this.expando];return void 0!==c&&!k.isEmptyObject(c)}};var x=new y,O=new y,
yb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xb=/[A-Z]/g;k.extend({hasData:function(c){return O.hasData(c)||x.hasData(c)},data:function(c,a,b){return O.access(c,a,b)},removeData:function(c,a){O.remove(c,a)},_data:function(c,a,b){return x.access(c,a,b)},_removeData:function(c,a){x.remove(c,a)}});k.fn.extend({data:function(c,a){var b,h=this[0],d=h&&h.attributes;if(void 0===c){if(this.length){var g=O.get(h);if(1===h.nodeType&&!x.get(h,"hasDataAttrs")){for(b=d.length;b--;)if(d[b]){var f=d[b].name;0===f.indexOf("data-")&&
(f=k.camelCase(f.slice(5)),I(h,f,g[f]))}x.set(h,"hasDataAttrs",!0)}}return g}return"object"===typeof c?this.each(function(){O.set(this,c)}):ba(this,function(a){if(h&&void 0===a){var b=O.get(h,c);if(void 0!==b)return b;b=I(h,c);if(void 0!==b)return b}else this.each(function(){O.set(this,c,a)})},null,a,1<arguments.length,null,!0)},removeData:function(c){return this.each(function(){O.remove(this,c)})}});k.extend({queue:function(c,a,b){if(c){a=(a||"fx")+"queue";var h=x.get(c,a);b&&(!h||Array.isArray(b)?
h=x.access(c,a,k.makeArray(b)):h.push(b));return h||[]}},dequeue:function(c,a){a=a||"fx";var b=k.queue(c,a),h=b.length,d=b.shift(),g=k._queueHooks(c,a),f=function(){k.dequeue(c,a)};"inprogress"===d&&(d=b.shift(),h--);d&&("fx"===a&&b.unshift("inprogress"),delete g.stop,d.call(c,f,g));!h&&g&&g.empty.fire()},_queueHooks:function(c,a){var b=a+"queueHooks";return x.get(c,b)||x.access(c,b,{empty:k.Callbacks("once memory").add(function(){x.remove(c,[a+"queue",b])})})}});k.fn.extend({queue:function(c,a){var b=
2;"string"!==typeof c&&(a=c,c="fx",b--);return arguments.length<b?k.queue(this[0],c):void 0===a?this:this.each(function(){var b=k.queue(this,c,a);k._queueHooks(this,c);"fx"===c&&"inprogress"!==b[0]&&k.dequeue(this,c)})},dequeue:function(c){return this.each(function(){k.dequeue(this,c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,a){var b,h=1,d=k.Deferred(),g=this,f=this.length,e=function(){--h||d.resolveWith(g,[g])};"string"!==typeof c&&(a=c,c=void 0);for(c=c||"fx";f--;)(b=
x.get(g[f],c+"queueHooks"))&&b.empty&&(h++,b.empty.add(e));e();return d.promise(a)}});var kb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ma=new RegExp("^(?:([+-])\x3d|)("+kb+")([a-z%]*)$","i"),da=["Top","Right","Bottom","Left"],ya=function(c,a){c=a||c;return"none"===c.style.display||""===c.style.display&&k.contains(c.ownerDocument,c)&&"none"===k.css(c,"display")},lb=function(c,a,b,d){var h,k={};for(h in a)k[h]=c.style[h],c.style[h]=a[h];b=b.apply(c,d||[]);for(h in a)c.style[h]=k[h];return b},Wa=
{};k.fn.extend({show:function(){return B(this,!0)},hide:function(){return B(this)},toggle:function(c){return"boolean"===typeof c?c?this.show():this.hide():this.each(function(){ya(this)?k(this).show():k(this).hide()})}});var mb=/^(?:checkbox|radio)$/i,Xa=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ya=/^$|\/(?:java|ecma)script/i,P={option:[1,"\x3cselect multiple\x3d'multiple'\x3e","\x3c/select\x3e"],thead:[1,"\x3ctable\x3e","\x3c/table\x3e"],col:[2,"\x3ctable\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],
tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],td:[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"],_default:[0,"",""]};P.optgroup=P.option;P.tbody=P.tfoot=P.colgroup=P.caption=P.thead;P.th=P.td;var Ab=/<|&#?\w+;/;(function(){var c=z.createDocumentFragment().appendChild(z.createElement("div")),a=z.createElement("input");a.setAttribute("type","radio");a.setAttribute("checked","checked");a.setAttribute("name","t");c.appendChild(a);E.checkClone=
c.cloneNode(!0).cloneNode(!0).lastChild.checked;c.innerHTML="\x3ctextarea\x3ex\x3c/textarea\x3e";E.noCloneChecked=!!c.cloneNode(!0).lastChild.defaultValue})();var Ka=z.documentElement,Sb=/^key/,Tb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,nb=/^([^.]*)(?:\.(.+)|)/;k.event={global:{},add:function(c,a,b,d,g){var h,f,e,n,m;if(e=x.get(c)){if(b.handler){var p=b;b=p.handler;g=p.selector}g&&k.find.matchesSelector(Ka,g);b.guid||(b.guid=k.guid++);(f=e.events)||(f=e.events={});(h=e.handle)||(h=e.handle=
function(a){return"undefined"!==typeof k&&k.event.triggered!==a.type?k.event.dispatch.apply(c,arguments):void 0});a=(a||"").match(W)||[""];for(e=a.length;e--;){var l=nb.exec(a[e])||[];var u=n=l[1];var q=(l[2]||"").split(".").sort();u&&(l=k.event.special[u]||{},u=(g?l.delegateType:l.bindType)||u,l=k.event.special[u]||{},n=k.extend({type:u,origType:n,data:d,handler:b,guid:b.guid,selector:g,needsContext:g&&k.expr.match.needsContext.test(g),namespace:q.join(".")},p),(m=f[u])||(m=f[u]=[],m.delegateCount=
0,l.setup&&!1!==l.setup.call(c,d,q,h)||c.addEventListener&&c.addEventListener(u,h)),l.add&&(l.add.call(c,n),n.handler.guid||(n.handler.guid=b.guid)),g?m.splice(m.delegateCount++,0,n):m.push(n),k.event.global[u]=!0)}}},remove:function(c,a,b,d,g){var h,f,e,n,m,p=x.hasData(c)&&x.get(c);if(p&&(e=p.events)){a=(a||"").match(W)||[""];for(n=a.length;n--;){var l=nb.exec(a[n])||[];var u=m=l[1];var q=(l[2]||"").split(".").sort();if(u){var r=k.event.special[u]||{};u=(d?r.delegateType:r.bindType)||u;var w=e[u]||
[];l=l[2]&&new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)");for(f=h=w.length;h--;){var t=w[h];!g&&m!==t.origType||b&&b.guid!==t.guid||l&&!l.test(t.namespace)||d&&d!==t.selector&&("**"!==d||!t.selector)||(w.splice(h,1),t.selector&&w.delegateCount--,r.remove&&r.remove.call(c,t))}f&&!w.length&&(r.teardown&&!1!==r.teardown.call(c,q,p.handle)||k.removeEvent(c,u,p.handle),delete e[u])}else for(u in e)k.event.remove(c,u+a[n],b,d,!0)}k.isEmptyObject(e)&&x.remove(c,"handle events")}},dispatch:function(c){var a=
k.event.fix(c),b,d,g,f=Array(arguments.length);var e=(x.get(this,"events")||{})[a.type]||[];var m=k.event.special[a.type]||{};f[0]=a;for(b=1;b<arguments.length;b++)f[b]=arguments[b];a.delegateTarget=this;if(!m.preDispatch||!1!==m.preDispatch.call(this,a)){var p=k.event.handlers.call(this,a,e);for(b=0;(g=p[b++])&&!a.isPropagationStopped();)for(a.currentTarget=g.elem,e=0;(d=g.handlers[e++])&&!a.isImmediatePropagationStopped();)if(!a.rnamespace||a.rnamespace.test(d.namespace))a.handleObj=d,a.data=d.data,
d=((k.event.special[d.origType]||{}).handle||d.handler).apply(g.elem,f),void 0!==d&&!1===(a.result=d)&&(a.preventDefault(),a.stopPropagation());m.postDispatch&&m.postDispatch.call(this,a);return a.result}},handlers:function(c,a){var b,h=[],d=a.delegateCount,g=c.target;if(d&&g.nodeType&&!("click"===c.type&&1<=c.button))for(;g!==this;g=g.parentNode||this)if(1===g.nodeType&&("click"!==c.type||!0!==g.disabled)){var f=[];var e={};for(b=0;b<d;b++){var m=a[b];var p=m.selector+" ";void 0===e[p]&&(e[p]=m.needsContext?
-1<k(p,this).index(g):k.find(p,this,null,[g]).length);e[p]&&f.push(m)}f.length&&h.push({elem:g,handlers:f})}d<a.length&&h.push({elem:this,handlers:a.slice(d)});return h},addProp:function(c,a){Object.defineProperty(k.Event.prototype,c,{enumerable:!0,configurable:!0,get:k.isFunction(a)?function(){if(this.originalEvent)return a(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[c]},set:function(a){Object.defineProperty(this,c,{enumerable:!0,configurable:!0,writable:!0,value:a})}})},
fix:function(c){return c[k.expando]?c:new k.Event(c)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==D()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===D()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&a(this,"input"))return this.click(),!1},_default:function(c){return a(c.target,"a")}},beforeunload:{postDispatch:function(c){void 0!==c.result&&c.originalEvent&&
(c.originalEvent.returnValue=c.result)}}}};k.removeEvent=function(c,a,b){c.removeEventListener&&c.removeEventListener(a,b)};k.Event=function(c,a){if(!(this instanceof k.Event))return new k.Event(c,a);c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||void 0===c.defaultPrevented&&!1===c.returnValue?T:V,this.target=c.target&&3===c.target.nodeType?c.target.parentNode:c.target,this.currentTarget=c.currentTarget,this.relatedTarget=c.relatedTarget):this.type=c;
a&&k.extend(this,a);this.timeStamp=c&&c.timeStamp||k.now();this[k.expando]=!0};k.Event.prototype={constructor:k.Event,isDefaultPrevented:V,isPropagationStopped:V,isImmediatePropagationStopped:V,isSimulated:!1,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=T;c&&!this.isSimulated&&c.preventDefault()},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=T;c&&!this.isSimulated&&c.stopPropagation()},stopImmediatePropagation:function(){var c=this.originalEvent;
this.isImmediatePropagationStopped=T;c&&!this.isSimulated&&c.stopImmediatePropagation();this.stopPropagation()}};k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(c){var a=c.button;return null==c.which&&
Sb.test(c.type)?null!=c.charCode?c.charCode:c.keyCode:!c.which&&void 0!==a&&Tb.test(c.type)?a&1?1:a&2?3:a&4?2:0:c.which}},k.event.addProp);k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(c,a){k.event.special[c]={delegateType:a,bindType:a,handle:function(c){var b=c.relatedTarget,h=c.handleObj;if(!b||b!==this&&!k.contains(this,b)){c.type=h.origType;var d=h.handler.apply(this,arguments);c.type=a}return d}}});k.fn.extend({on:function(c,
a,b,d){return G(this,c,a,b,d)},one:function(c,a,b,d){return G(this,c,a,b,d,1)},off:function(c,a,b){if(c&&c.preventDefault&&c.handleObj){var h=c.handleObj;k(c.delegateTarget).off(h.namespace?h.origType+"."+h.namespace:h.origType,h.selector,h.handler);return this}if("object"===typeof c){for(h in c)this.off(h,a,c[h]);return this}if(!1===a||"function"===typeof a)b=a,a=void 0;!1===b&&(b=V);return this.each(function(){k.event.remove(this,c,b,a)})}});var Ub=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,
Vb=/<script|<style|<link/i,Cb=/checked\s*(?:[^=]|=\s*.checked.)/i,Bb=/^true\/(.*)/,Eb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;k.extend({htmlPrefilter:function(c){return c.replace(Ub,"\x3c$1\x3e\x3c/$2\x3e")},clone:function(c,a,b){var h,d=c.cloneNode(!0),g=k.contains(c.ownerDocument,c);if(!(E.noCloneChecked||1!==c.nodeType&&11!==c.nodeType||k.isXMLDoc(c))){var f=C(d);var e=C(c);var m=0;for(h=e.length;m<h;m++){var n=e[m],p=f[m],l=p.nodeName.toLowerCase();if("input"===l&&mb.test(n.type))p.checked=
n.checked;else if("input"===l||"textarea"===l)p.defaultValue=n.defaultValue}}if(a)if(b)for(e=e||C(c),f=f||C(d),m=0,h=e.length;m<h;m++)U(e[m],f[m]);else U(c,d);f=C(d,"script");0<f.length&&K(f,!g&&C(c,"script"));return d},cleanData:function(c){for(var a,b,d,g=k.event.special,f=0;void 0!==(b=c[f]);f++)if(Ja(b)){if(a=b[x.expando]){if(a.events)for(d in a.events)g[d]?k.event.remove(b,d):k.removeEvent(b,d,a.handle);b[x.expando]=void 0}b[O.expando]&&(b[O.expando]=void 0)}}});k.fn.extend({detach:function(c){return Ga(this,
c,!0)},remove:function(c){return Ga(this,c)},text:function(c){return ba(this,function(c){return void 0===c?k.text(this):this.empty().each(function(){if(1===this.nodeType||11===this.nodeType||9===this.nodeType)this.textContent=c})},null,c,arguments.length)},append:function(){return J(this,arguments,function(c){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||M(this,c).appendChild(c)})},prepend:function(){return J(this,arguments,function(c){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var a=
M(this,c);a.insertBefore(c,a.firstChild)}})},before:function(){return J(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return J(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this.nextSibling)})},empty:function(){for(var c,a=0;null!=(c=this[a]);a++)1===c.nodeType&&(k.cleanData(C(c,!1)),c.textContent="");return this},clone:function(c,a){c=null==c?!1:c;a=null==a?c:a;return this.map(function(){return k.clone(this,c,a)})},
html:function(c){return ba(this,function(c){var a=this[0]||{},b=0,h=this.length;if(void 0===c&&1===a.nodeType)return a.innerHTML;if("string"===typeof c&&!Vb.test(c)&&!P[(Xa.exec(c)||["",""])[1].toLowerCase()]){c=k.htmlPrefilter(c);try{for(;b<h;b++)a=this[b]||{},1===a.nodeType&&(k.cleanData(C(a,!1)),a.innerHTML=c);a=0}catch(sa){}}a&&this.empty().append(c)},null,c,arguments.length)},replaceWith:function(){var c=[];return J(this,arguments,function(a){var b=this.parentNode;0>k.inArray(this,c)&&(k.cleanData(C(this)),
b&&b.replaceChild(a,this))},c)}});k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,a){k.fn[c]=function(c){for(var b=[],h=k(c),d=h.length-1,g=0;g<=d;g++)c=g===d?this:this.clone(!0),k(h[g])[a](c),Qa.apply(b,c.get());return this.pushStack(b)}});var $a=/^margin/,Ma=new RegExp("^("+kb+")(?!px)[a-z%]+$","i"),na=function(c){var a=c.ownerDocument.defaultView;a&&a.opener||(a=f);return a.getComputedStyle(c)};(function(){function c(){if(m){m.style.cssText=
"box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";m.innerHTML="";Ka.appendChild(e);var c=f.getComputedStyle(m);a="1%"!==c.top;g="2px"===c.marginLeft;b="4px"===c.width;m.style.marginRight="50%";d="4px"===c.marginRight;Ka.removeChild(e);m=null}}var a,b,d,g,e=z.createElement("div"),m=z.createElement("div");m.style&&(m.style.backgroundClip="content-box",m.cloneNode(!0).style.backgroundClip="",E.clearCloneStyle="content-box"===m.style.backgroundClip,
e.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",e.appendChild(m),k.extend(E,{pixelPosition:function(){c();return a},boxSizingReliable:function(){c();return b},pixelMarginRight:function(){c();return d},reliableMarginLeft:function(){c();return g}}))})();var Wb=/^(none|table(?!-c[ea]).+)/,ob=/^--/,Xb={position:"absolute",visibility:"hidden",display:"block"},pb={letterSpacing:"0",fontWeight:"400"},bb=["Webkit","Moz","ms"],ab=z.createElement("div").style;
k.extend({cssHooks:{opacity:{get:function(c,a){if(a)return c=v(c,"opacity"),""===c?"1":c}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(c,a,b,d){if(c&&3!==c.nodeType&&8!==c.nodeType&&c.style){var h,g=k.camelCase(a),f=ob.test(a),e=c.style;f||(a=Ca(g));var m=k.cssHooks[a]||k.cssHooks[g];if(void 0!==b){var n=typeof b;"string"===
n&&(h=ma.exec(b))&&h[1]&&(b=A(c,a,h),n="number");null!=b&&b===b&&("number"===n&&(b+=h&&h[3]||(k.cssNumber[g]?"":"px")),E.clearCloneStyle||""!==b||0!==a.indexOf("background")||(e[a]="inherit"),m&&"set"in m&&void 0===(b=m.set(c,b,d))||(f?e.setProperty(a,b):e[a]=b))}else return m&&"get"in m&&void 0!==(h=m.get(c,!1,d))?h:e[a]}},css:function(c,a,b,d){var h;var g=k.camelCase(a);ob.test(a)||(a=Ca(g));(g=k.cssHooks[a]||k.cssHooks[g])&&"get"in g&&(h=g.get(c,!0,b));void 0===h&&(h=v(c,a,d));"normal"===h&&a in
pb&&(h=pb[a]);return""===b||b?(c=parseFloat(h),!0===b||isFinite(c)?c||0:h):h}});k.each(["height","width"],function(c,a){k.cssHooks[a]={get:function(c,b,h){if(b)return!Wb.test(k.css(c,"display"))||c.getClientRects().length&&c.getBoundingClientRect().width?Da(c,a,h):lb(c,Xb,function(){return Da(c,a,h)})},set:function(c,b,h){var d,g=h&&na(c);(h=h&&Ha(c,a,h,"border-box"===k.css(c,"boxSizing",!1,g),g))&&(d=ma.exec(b))&&"px"!==(d[3]||"px")&&(c.style[a]=b,b=k.css(c,a));return ta(c,b,h)}}});k.cssHooks.marginLeft=
H(E.reliableMarginLeft,function(c,a){if(a)return(parseFloat(v(c,"marginLeft"))||c.getBoundingClientRect().left-lb(c,{marginLeft:0},function(){return c.getBoundingClientRect().left}))+"px"});k.each({margin:"",padding:"",border:"Width"},function(c,a){k.cssHooks[c+a]={expand:function(b){var h=0,d={};for(b="string"===typeof b?b.split(" "):[b];4>h;h++)d[c+da[h]+a]=b[h]||b[h-2]||b[0];return d}};$a.test(c)||(k.cssHooks[c+a].set=ta)});k.fn.extend({css:function(c,a){return ba(this,function(c,a,b){var h,d=
{},g=0;if(Array.isArray(a)){b=na(c);for(h=a.length;g<h;g++)d[a[g]]=k.css(c,a[g],!1,b);return d}return void 0!==b?k.style(c,a,b):k.css(c,a)},c,a,1<arguments.length)}});k.Tween=S;S.prototype={constructor:S,init:function(c,a,b,d,g,f){this.elem=c;this.prop=b;this.easing=g||k.easing._default;this.options=a;this.start=this.now=this.cur();this.end=d;this.unit=f||(k.cssNumber[b]?"":"px")},cur:function(){var c=S.propHooks[this.prop];return c&&c.get?c.get(this):S.propHooks._default.get(this)},run:function(c){var a,
b=S.propHooks[this.prop];this.pos=this.options.duration?a=k.easing[this.easing](c,this.options.duration*c,0,1,this.options.duration):a=c;this.now=(this.end-this.start)*a+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);b&&b.set?b.set(this):S.propHooks._default.set(this);return this}};S.prototype.init.prototype=S.prototype;S.propHooks={_default:{get:function(c){return 1!==c.elem.nodeType||null!=c.elem[c.prop]&&null==c.elem.style[c.prop]?c.elem[c.prop]:(c=k.css(c.elem,c.prop,
""))&&"auto"!==c?c:0},set:function(c){if(k.fx.step[c.prop])k.fx.step[c.prop](c);else 1!==c.elem.nodeType||null==c.elem.style[k.cssProps[c.prop]]&&!k.cssHooks[c.prop]?c.elem[c.prop]=c.now:k.style(c.elem,c.prop,c.now+c.unit)}}};S.propHooks.scrollTop=S.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}};k.easing={linear:function(c){return c},swing:function(c){return.5-Math.cos(c*Math.PI)/2},_default:"swing"};k.fx=S.prototype.init;k.fx.step={};var oa,ea,
Yb=/^(?:toggle|show|hide)$/,Zb=/queueHooks$/;k.Animation=k.extend(Y,{tweeners:{"*":[function(c,a){var b=this.createTween(c,a);A(b.elem,c,ma.exec(a),b);return b}]},tweener:function(c,a){k.isFunction(c)?(a=c,c=["*"]):c=c.match(W);for(var b,h=0,d=c.length;h<d;h++)b=c[h],Y.tweeners[b]=Y.tweeners[b]||[],Y.tweeners[b].unshift(a)},prefilters:[function(c,a,b){var h;var d="width"in a||"height"in a;var g=this,f={},e=c.style,m=c.nodeType&&ya(c),p=x.get(c,"fxshow");if(!b.queue){var l=k._queueHooks(c,"fx");if(null==
l.unqueued){l.unqueued=0;var n=l.empty.fire;l.empty.fire=function(){l.unqueued||n()}}l.unqueued++;g.always(function(){g.always(function(){l.unqueued--;k.queue(c,"fx").length||l.empty.fire()})})}for(h in a){var q=a[h];if(Yb.test(q)){delete a[h];var r=r||"toggle"===q;if(q===(m?"hide":"show"))if("show"===q&&p&&void 0!==p[h])m=!0;else continue;f[h]=p&&p[h]||k.style(c,h)}}if((a=!k.isEmptyObject(a))||!k.isEmptyObject(f)){if(d&&1===c.nodeType){b.overflow=[e.overflow,e.overflowX,e.overflowY];var t=p&&p.display;
null==t&&(t=x.get(c,"display"));d=k.css(c,"display");"none"===d&&(t?d=t:(B([c],!0),t=c.style.display||t,d=k.css(c,"display"),B([c])));("inline"===d||"inline-block"===d&&null!=t)&&"none"===k.css(c,"float")&&(a||(g.done(function(){e.display=t}),null==t&&(d=e.display,t="none"===d?"":d)),e.display="inline-block")}b.overflow&&(e.overflow="hidden",g.always(function(){e.overflow=b.overflow[0];e.overflowX=b.overflow[1];e.overflowY=b.overflow[2]}));a=!1;for(h in f)a||(p?"hidden"in p&&(m=p.hidden):p=x.access(c,
"fxshow",{display:t}),r&&(p.hidden=!m),m&&B([c],!0),g.done(function(){m||B([c]);x.remove(c,"fxshow");for(h in f)k.style(c,h,f[h])})),a=Ea(m?p[h]:0,h,g),h in p||(p[h]=a.start,m&&(a.end=a.start,a.start=0))}}],prefilter:function(c,a){a?Y.prefilters.unshift(c):Y.prefilters.push(c)}});k.speed=function(c,a,b){var h=c&&"object"===typeof c?k.extend({},c):{complete:b||!b&&a||k.isFunction(c)&&c,duration:c,easing:b&&a||a&&!k.isFunction(a)&&a};k.fx.off?h.duration=0:"number"!==typeof h.duration&&(h.duration=h.duration in
k.fx.speeds?k.fx.speeds[h.duration]:k.fx.speeds._default);if(null==h.queue||!0===h.queue)h.queue="fx";h.old=h.complete;h.complete=function(){k.isFunction(h.old)&&h.old.call(this);h.queue&&k.dequeue(this,h.queue)};return h};k.fn.extend({fadeTo:function(c,a,b,d){return this.filter(ya).css("opacity",0).show().end().animate({opacity:a},c,b,d)},animate:function(c,a,b,d){var h=k.isEmptyObject(c),g=k.speed(a,b,d);a=function(){var a=Y(this,k.extend({},c),g);(h||x.get(this,"finish"))&&a.stop(!0)};a.finish=
a;return h||!1===g.queue?this.each(a):this.queue(g.queue,a)},stop:function(c,a,b){var h=function(c){var a=c.stop;delete c.stop;a(b)};"string"!==typeof c&&(b=a,a=c,c=void 0);a&&!1!==c&&this.queue(c||"fx",[]);return this.each(function(){var a=!0,d=null!=c&&c+"queueHooks",g=k.timers,f=x.get(this);if(d)f[d]&&f[d].stop&&h(f[d]);else for(d in f)f[d]&&f[d].stop&&Zb.test(d)&&h(f[d]);for(d=g.length;d--;)g[d].elem!==this||null!=c&&g[d].queue!==c||(g[d].anim.stop(b),a=!1,g.splice(d,1));!a&&b||k.dequeue(this,
c)})},finish:function(c){!1!==c&&(c=c||"fx");return this.each(function(){var a=x.get(this),b=a[c+"queue"];var d=a[c+"queueHooks"];var g=k.timers,f=b?b.length:0;a.finish=!0;k.queue(this,c,[]);d&&d.stop&&d.stop.call(this,!0);for(d=g.length;d--;)g[d].elem===this&&g[d].queue===c&&(g[d].anim.stop(!0),g.splice(d,1));for(d=0;d<f;d++)b[d]&&b[d].finish&&b[d].finish.call(this);delete a.finish})}});k.each(["toggle","show","hide"],function(c,a){var b=k.fn[a];k.fn[a]=function(c,h,d){return null==c||"boolean"===
typeof c?b.apply(this,arguments):this.animate(za(a,!0),c,h,d)}});k.each({slideDown:za("show"),slideUp:za("hide"),slideToggle:za("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,a){k.fn[c]=function(c,b,h){return this.animate(a,c,b,h)}});k.timers=[];k.fx.tick=function(){var c=0,a=k.timers;for(oa=k.now();c<a.length;c++){var b=a[c];b()||a[c]!==b||a.splice(c--,1)}a.length||k.fx.stop();oa=void 0};k.fx.timer=function(c){k.timers.push(c);k.fx.start()};k.fx.interval=
13;k.fx.start=function(){ea||(ea=!0,X())};k.fx.stop=function(){ea=null};k.fx.speeds={slow:600,fast:200,_default:400};k.fn.delay=function(c,a){c=k.fx?k.fx.speeds[c]||c:c;return this.queue(a||"fx",function(a,b){var h=f.setTimeout(a,c);b.stop=function(){f.clearTimeout(h)}})};(function(){var c=z.createElement("input"),a=z.createElement("select").appendChild(z.createElement("option"));c.type="checkbox";E.checkOn=""!==c.value;E.optSelected=a.selected;c=z.createElement("input");c.value="t";c.type="radio";
E.radioValue="t"===c.value})();var qa=k.expr.attrHandle;k.fn.extend({attr:function(c,a){return ba(this,k.attr,c,a,1<arguments.length)},removeAttr:function(c){return this.each(function(){k.removeAttr(this,c)})}});k.extend({attr:function(c,a,b){var h,d,g=c.nodeType;if(3!==g&&8!==g&&2!==g){if("undefined"===typeof c.getAttribute)return k.prop(c,a,b);1===g&&k.isXMLDoc(c)||(d=k.attrHooks[a.toLowerCase()]||(k.expr.match.bool.test(a)?$b:void 0));if(void 0!==b){if(null===b){k.removeAttr(c,a);return}if(d&&
"set"in d&&void 0!==(h=d.set(c,b,a)))return h;c.setAttribute(a,b+"");return b}if(d&&"get"in d&&null!==(h=d.get(c,a)))return h;h=k.find.attr(c,a);return null==h?void 0:h}},attrHooks:{type:{set:function(c,b){if(!E.radioValue&&"radio"===b&&a(c,"input")){var h=c.value;c.setAttribute("type",b);h&&(c.value=h);return b}}}},removeAttr:function(c,a){var b=0,h=a&&a.match(W);if(h&&1===c.nodeType)for(;a=h[b++];)c.removeAttribute(a)}});var $b={set:function(c,a,b){!1===a?k.removeAttr(c,b):c.setAttribute(b,b);return b}};
k.each(k.expr.match.bool.source.match(/\w+/g),function(c,a){var b=qa[a]||k.find.attr;qa[a]=function(c,a,h){var d=a.toLowerCase();if(!h){var k=qa[d];qa[d]=g;var g=null!=b(c,a,h)?d:null;qa[d]=k}return g}});var ac=/^(?:input|select|textarea|button)$/i,bc=/^(?:a|area)$/i;k.fn.extend({prop:function(c,a){return ba(this,k.prop,c,a,1<arguments.length)},removeProp:function(c){return this.each(function(){delete this[k.propFix[c]||c]})}});k.extend({prop:function(c,a,b){var h,d=c.nodeType;if(3!==d&&8!==d&&2!==
d){if(1!==d||!k.isXMLDoc(c)){a=k.propFix[a]||a;var g=k.propHooks[a]}return void 0!==b?g&&"set"in g&&void 0!==(h=g.set(c,b,a))?h:c[a]=b:g&&"get"in g&&null!==(h=g.get(c,a))?h:c[a]}},propHooks:{tabIndex:{get:function(c){var a=k.find.attr(c,"tabindex");return a?parseInt(a,10):ac.test(c.nodeName)||bc.test(c.nodeName)&&c.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});E.optSelected||(k.propHooks.selected={get:function(c){(c=c.parentNode)&&c.parentNode&&c.parentNode.selectedIndex;return null},
set:function(c){if(c=c.parentNode)c.selectedIndex,c.parentNode&&c.parentNode.selectedIndex}});k.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){k.propFix[this.toLowerCase()]=this});k.fn.extend({addClass:function(c){var a,b,d,g,f,e=0;if(k.isFunction(c))return this.each(function(a){k(this).addClass(c.call(this,a,ha(this)))});if("string"===typeof c&&c)for(a=c.match(W)||[];b=this[e++];){var m=ha(b);if(d=1===b.nodeType&&
" "+fa(m)+" "){for(f=0;g=a[f++];)0>d.indexOf(" "+g+" ")&&(d+=g+" ");d=fa(d);m!==d&&b.setAttribute("class",d)}}return this},removeClass:function(c){var a,b,d,g,f,e=0;if(k.isFunction(c))return this.each(function(a){k(this).removeClass(c.call(this,a,ha(this)))});if(!arguments.length)return this.attr("class","");if("string"===typeof c&&c)for(a=c.match(W)||[];b=this[e++];){var m=ha(b);if(d=1===b.nodeType&&" "+fa(m)+" "){for(f=0;g=a[f++];)for(;-1<d.indexOf(" "+g+" ");)d=d.replace(" "+g+" "," ");d=fa(d);
m!==d&&b.setAttribute("class",d)}}return this},toggleClass:function(c,a){var b=typeof c;return"boolean"===typeof a&&"string"===b?a?this.addClass(c):this.removeClass(c):k.isFunction(c)?this.each(function(b){k(this).toggleClass(c.call(this,b,ha(this),a),a)}):this.each(function(){var a,h;if("string"===b){var d=0;var g=k(this);for(h=c.match(W)||[];a=h[d++];)g.hasClass(a)?g.removeClass(a):g.addClass(a)}else if(void 0===c||"boolean"===b)(a=ha(this))&&x.set(this,"__className__",a),this.setAttribute&&this.setAttribute("class",
a||!1===c?"":x.get(this,"__className__")||"")})},hasClass:function(c){var a,b=0;for(c=" "+c+" ";a=this[b++];)if(1===a.nodeType&&-1<(" "+fa(ha(a))+" ").indexOf(c))return!0;return!1}});var cc=/\r/g;k.fn.extend({val:function(c){var a,b,d=this[0];if(arguments.length){var g=k.isFunction(c);return this.each(function(b){1===this.nodeType&&(b=g?c.call(this,b,k(this).val()):c,null==b?b="":"number"===typeof b?b+="":Array.isArray(b)&&(b=k.map(b,function(c){return null==c?"":c+""})),a=k.valHooks[this.type]||
k.valHooks[this.nodeName.toLowerCase()],a&&"set"in a&&void 0!==a.set(this,b,"value")||(this.value=b))})}if(d){if((a=k.valHooks[d.type]||k.valHooks[d.nodeName.toLowerCase()])&&"get"in a&&void 0!==(b=a.get(d,"value")))return b;b=d.value;return"string"===typeof b?b.replace(cc,""):null==b?"":b}}});k.extend({valHooks:{option:{get:function(c){var a=k.find.attr(c,"value");return null!=a?a:fa(k.text(c))}},select:{get:function(c){var b=c.options,d=c.selectedIndex,g="select-one"===c.type,f=g?null:[],e=g?d+
1:b.length;for(c=0>d?e:g?d:0;c<e;c++){var m=b[c];if(!(!m.selected&&c!==d||m.disabled||m.parentNode.disabled&&a(m.parentNode,"optgroup"))){m=k(m).val();if(g)return m;f.push(m)}}return f},set:function(c,a){for(var b,d=c.options,h=k.makeArray(a),g=d.length;g--;)if(a=d[g],a.selected=-1<k.inArray(k.valHooks.option.get(a),h))b=!0;b||(c.selectedIndex=-1);return h}}}});k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(c,a){if(Array.isArray(a))return c.checked=-1<k.inArray(k(c).val(),a)}};
E.checkOn||(k.valHooks[this].get=function(c){return null===c.getAttribute("value")?"on":c.value})});var qb=/^(?:focusinfocus|focusoutblur)$/;k.extend(k.event,{trigger:function(c,a,b,d){var h,g,e=[b||z],m=Ia.call(c,"type")?c.type:c;var p=Ia.call(c,"namespace")?c.namespace.split("."):[];var l=h=b=b||z;if(3!==b.nodeType&&8!==b.nodeType&&!qb.test(m+k.event.triggered)){-1<m.indexOf(".")&&(p=m.split("."),m=p.shift(),p.sort());var q=0>m.indexOf(":")&&"on"+m;c=c[k.expando]?c:new k.Event(m,"object"===typeof c&&
c);c.isTrigger=d?2:3;c.namespace=p.join(".");c.rnamespace=c.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;c.result=void 0;c.target||(c.target=b);a=null==a?[c]:k.makeArray(a,[c]);p=k.event.special[m]||{};if(d||!p.trigger||!1!==p.trigger.apply(b,a)){if(!d&&!p.noBubble&&!k.isWindow(b)){var n=p.delegateType||m;qb.test(n+m)||(l=l.parentNode);for(;l;l=l.parentNode)e.push(l),h=l;h===(b.ownerDocument||z)&&e.push(h.defaultView||h.parentWindow||f)}for(h=0;(l=e[h++])&&!c.isPropagationStopped();)c.type=
1<h?n:p.bindType||m,(g=(x.get(l,"events")||{})[c.type]&&x.get(l,"handle"))&&g.apply(l,a),(g=q&&l[q])&&g.apply&&Ja(l)&&(c.result=g.apply(l,a),!1===c.result&&c.preventDefault());c.type=m;d||c.isDefaultPrevented()||p._default&&!1!==p._default.apply(e.pop(),a)||!Ja(b)||!q||!k.isFunction(b[m])||k.isWindow(b)||((h=b[q])&&(b[q]=null),k.event.triggered=m,b[m](),k.event.triggered=void 0,h&&(b[q]=h));return c.result}}},simulate:function(c,a,b){c=k.extend(new k.Event,b,{type:c,isSimulated:!0});k.event.trigger(c,
null,a)}});k.fn.extend({trigger:function(c,a){return this.each(function(){k.event.trigger(c,a,this)})},triggerHandler:function(c,a){var b=this[0];if(b)return k.event.trigger(c,a,b,!0)}});k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(c,a){k.fn[a]=function(c,b){return 0<arguments.length?this.on(a,null,c,b):this.trigger(a)}});k.fn.extend({hover:function(c,
a){return this.mouseenter(c).mouseleave(a||c)}});E.focusin="onfocusin"in f;E.focusin||k.each({focus:"focusin",blur:"focusout"},function(c,a){var b=function(c){k.event.simulate(a,c.target,k.event.fix(c))};k.event.special[a]={setup:function(){var d=this.ownerDocument||this,h=x.access(d,a);h||d.addEventListener(c,b,!0);x.access(d,a,(h||0)+1)},teardown:function(){var d=this.ownerDocument||this,h=x.access(d,a)-1;h?x.access(d,a,h):(d.removeEventListener(c,b,!0),x.remove(d,a))}}});var ra=f.location,rb=k.now(),
Ta=/\?/;k.parseXML=function(c){if(!c||"string"!==typeof c)return null;try{var a=(new f.DOMParser).parseFromString(c,"text/xml")}catch(n){a=void 0}a&&!a.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+c);return a};var Fb=/\[\]$/,sb=/\r?\n/g,dc=/^(?:submit|button|image|reset|file)$/i,ec=/^(?:input|select|textarea|keygen)/i;k.param=function(c,a){var b,d=[],h=function(c,a){a=k.isFunction(a)?a():a;d[d.length]=encodeURIComponent(c)+"\x3d"+encodeURIComponent(null==a?"":a)};if(Array.isArray(c)||
c.jquery&&!k.isPlainObject(c))k.each(c,function(){h(this.name,this.value)});else for(b in c)Na(b,c[b],a,h);return d.join("\x26")};k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=k.prop(this,"elements");return c?k.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&!k(this).is(":disabled")&&ec.test(this.nodeName)&&!dc.test(c)&&(this.checked||!mb.test(c))}).map(function(c,a){c=k(this).val();return null==
c?null:Array.isArray(c)?k.map(c,function(c){return{name:a.name,value:c.replace(sb,"\r\n")}}):{name:a.name,value:c.replace(sb,"\r\n")}}).get()}});var fc=/%20/g,gc=/#.*$/,hc=/([?&])_=[^&]*/,ic=/^(.*?):[ \t]*([^\r\n]*)$/mg,jc=/^(?:GET|HEAD)$/,kc=/^\/\//,tb={},Oa={},ub="*/".concat("*"),Ua=z.createElement("a");Ua.href=ra.href;k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ra.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ra.protocol),global:!0,processData:!0,
async:!0,contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8",accepts:{"*":ub,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,a){return a?Pa(Pa(c,k.ajaxSettings),
a):Pa(k.ajaxSettings,c)},ajaxPrefilter:cb(tb),ajaxTransport:cb(Oa),ajax:function(c,a){function b(c,a,b,g){var p=a;if(!J){J=!0;e&&f.clearTimeout(e);d=void 0;h=g||"";v.readyState=0<c?4:0;g=200<=c&&300>c||304===c;if(b){var n=l;for(var u=v,A,R,w,B,C=n.contents,H=n.dataTypes;"*"===H[0];)H.shift(),void 0===A&&(A=n.mimeType||u.getResponseHeader("Content-Type"));if(A)for(R in C)if(C[R]&&C[R].test(A)){H.unshift(R);break}if(H[0]in b)w=H[0];else{for(R in b){if(!H[0]||n.converters[R+" "+H[0]]){w=R;break}B||(B=
R)}w=w||B}w?(w!==H[0]&&H.unshift(w),n=b[w]):n=void 0}a:{b=l;A=n;R=v;w=g;var Fa;u={};C=b.dataTypes.slice();if(C[1])for(x in b.converters)u[x.toLowerCase()]=b.converters[x];for(B=C.shift();B;){b.responseFields[B]&&(R[b.responseFields[B]]=A);!Q&&w&&b.dataFilter&&(A=b.dataFilter(A,b.dataType));var Q=B;if(B=C.shift())if("*"===B)B=Q;else if("*"!==Q&&Q!==B){var x=u[Q+" "+B]||u["* "+B];if(!x)for(Fa in u)if(n=Fa.split(" "),n[1]===B&&(x=u[Q+" "+n[0]]||u["* "+n[0]])){!0===x?x=u[Fa]:!0!==u[Fa]&&(B=n[0],C.unshift(n[1]));
break}if(!0!==x)if(x&&b.throwsQ)A=x(A);else try{A=x(A)}catch(Mb){n={state:"parsererror",error:x?Mb:"No conversion from "+Q+" to "+B};break a}}}n={state:"success",data:A}}if(g)if(l.ifModified&&((p=v.getResponseHeader("Last-Modified"))&&(k.lastModified[U]=p),(p=v.getResponseHeader("etag"))&&(k.etag[U]=p)),204===c||"HEAD"===l.type)p="nocontent";else if(304===c)p="notmodified";else{p=n.state;var K=n.data;var z=n.error;g=!z}else if(z=p,c||!p)p="error",0>c&&(c=0);v.status=c;v.statusText=(a||p)+"";g?t.resolveWith(q,
[K,p,v]):t.rejectWith(q,[v,p,z]);v.statusCode(I);I=void 0;m&&r.trigger(g?"ajaxSuccess":"ajaxError",[v,l,g?K:z]);y.fireWith(q,[v,p]);m&&(r.trigger("ajaxComplete",[v,l]),--k.active||k.event.trigger("ajaxStop"))}}"object"===typeof c&&(a=c,c=void 0);a=a||{};var d,h,g,e,m,p,l=k.ajaxSetup({},a),q=l.context||l,r=l.context&&(q.nodeType||q.jquery)?k(q):k.event,t=k.Deferred(),y=k.Callbacks("once memory"),I=l.statusCode||{},A={},R={},B="canceled",v={readyState:0,getResponseHeader:function(c){var a;if(J){if(!g)for(g=
{};a=ic.exec(h);)g[a[1].toLowerCase()]=a[2];a=g[c.toLowerCase()]}return null==a?null:a},getAllResponseHeaders:function(){return J?h:null},setRequestHeader:function(c,a){null==J&&(c=R[c.toLowerCase()]=R[c.toLowerCase()]||c,A[c]=a);return this},overrideMimeType:function(c){null==J&&(l.mimeType=c);return this},statusCode:function(c){var a;if(c)if(J)v.always(c[v.status]);else for(a in c)I[a]=[I[a],c[a]];return this},abort:function(c){c=c||B;d&&d.abort(c);b(0,c);return this}};t.promise(v);l.url=((c||l.url||
ra.href)+"").replace(kc,ra.protocol+"//");l.type=a.method||a.type||l.method||l.type;l.dataTypes=(l.dataType||"*").toLowerCase().match(W)||[""];if(null==l.crossDomain){c=z.createElement("a");try{c.href=l.url,c.href=c.href,l.crossDomain=Ua.protocol+"//"+Ua.host!==c.protocol+"//"+c.host}catch(Ra){l.crossDomain=!0}}l.data&&l.processData&&"string"!==typeof l.data&&(l.data=k.param(l.data,l.traditional));db(tb,l,a,v);if(J)return v;(m=k.event&&l.global)&&0===k.active++&&k.event.trigger("ajaxStart");l.type=
l.type.toUpperCase();l.hasContent=!jc.test(l.type);var U=l.url.replace(gc,"");l.hasContent?l.data&&l.processData&&0===(l.contentType||"").indexOf("application/x-www-form-urlencoded")&&(l.data=l.data.replace(fc,"+")):(c=l.url.slice(U.length),l.data&&(U+=(Ta.test(U)?"\x26":"?")+l.data,delete l.data),!1===l.cache&&(U=U.replace(hc,"$1"),c=(Ta.test(U)?"\x26":"?")+"_\x3d"+rb++ +c),l.url=U+c);l.ifModified&&(k.lastModified[U]&&v.setRequestHeader("If-Modified-Since",k.lastModified[U]),k.etag[U]&&v.setRequestHeader("If-None-Match",
k.etag[U]));(l.data&&l.hasContent&&!1!==l.contentType||a.contentType)&&v.setRequestHeader("Content-Type",l.contentType);v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+ub+"; q\x3d0.01":""):l.accepts["*"]);for(p in l.headers)v.setRequestHeader(p,l.headers[p]);if(l.beforeSend&&(!1===l.beforeSend.call(q,v,l)||J))return v.abort();B="abort";y.add(l.complete);v.done(l.success);v.fail(l.error);if(d=db(Oa,l,a,v)){v.readyState=1;m&&
r.trigger("ajaxSend",[v,l]);if(J)return v;l.async&&0<l.timeout&&(e=f.setTimeout(function(){v.abort("timeout")},l.timeout));try{var J=!1;d.send(A,b)}catch(Ra){if(J)throw Ra;b(-1,Ra)}}else b(-1,"No Transport");return v},getJSON:function(c,a,b){return k.get(c,a,b,"json")},getScript:function(c,a){return k.get(c,void 0,a,"script")}});k.each(["get","post"],function(c,a){k[a]=function(c,b,d,h){k.isFunction(b)&&(h=h||d,d=b,b=void 0);return k.ajax(k.extend({url:c,type:a,dataType:h,data:b,success:d},k.isPlainObject(c)&&
c))}});k._evalUrl=function(c){return k.ajax({url:c,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throwsQ:!0})};k.fn.extend({wrapAll:function(c){this[0]&&(k.isFunction(c)&&(c=c.call(this[0])),c=k(c,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&c.insertBefore(this[0]),c.map(function(){for(var c=this;c.firstElementChild;)c=c.firstElementChild;return c}).append(this));return this},wrapInner:function(c){return k.isFunction(c)?this.each(function(a){k(this).wrapInner(c.call(this,
a))}):this.each(function(){var a=k(this),b=a.contents();b.length?b.wrapAll(c):a.append(c)})},wrap:function(c){var a=k.isFunction(c);return this.each(function(b){k(this).wrapAll(a?c.call(this,b):c)})},unwrap:function(c){this.parent(c).not("body").each(function(){k(this).replaceWith(this.childNodes)});return this}});k.expr.pseudos.hidden=function(c){return!k.expr.pseudos.visible(c)};k.expr.pseudos.visible=function(c){return!!(c.offsetWidth||c.offsetHeight||c.getClientRects().length)};k.ajaxSettings.xhr=
function(){try{return new f.XMLHttpRequest}catch(c){}};var lc={0:200,1223:204},xa=k.ajaxSettings.xhr();E.cors=!!xa&&"withCredentials"in xa;E.ajax=xa=!!xa;k.ajaxTransport(function(c){var a,b;if(E.cors||xa&&!c.crossDomain)return{send:function(d,h){var g,k=c.xhr();k.open(c.type,c.url,c.async,c.username,c.password);if(c.xhrFields)for(g in c.xhrFields)k[g]=c.xhrFields[g];c.mimeType&&k.overrideMimeType&&k.overrideMimeType(c.mimeType);c.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");
for(g in d)k.setRequestHeader(g,d[g]);a=function(c){return function(){a&&(a=b=k.onload=k.onerror=k.onabort=k.onreadystatechange=null,"abort"===c?k.abort():"error"===c?"number"!==typeof k.status?h(0,"error"):h(k.status,k.statusText):h(lc[k.status]||k.status,k.statusText,"text"!==(k.responseType||"text")||"string"!==typeof k.responseText?{binary:k.response}:{text:k.responseText},k.getAllResponseHeaders()))}};k.onload=a();b=k.onerror=a("error");void 0!==k.onabort?k.onabort=b:k.onreadystatechange=function(){4===
k.readyState&&f.setTimeout(function(){a&&b()})};a=a("abort");try{k.send(c.hasContent&&c.data||null)}catch(zb){if(a)throw zb;}},abort:function(){a&&a()}}});k.ajaxPrefilter(function(c){c.crossDomain&&(c.contents.script=!1)});k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(c){k.globalEval(c);return c}}});k.ajaxPrefilter("script",function(c){void 0===
c.cache&&(c.cache=!1);c.crossDomain&&(c.type="GET")});k.ajaxTransport("script",function(c){if(c.crossDomain){var a,b;return{send:function(d,h){a=k("\x3cscript\x3e").prop({charset:c.scriptCharset,src:c.url}).on("load error",b=function(c){a.remove();b=null;c&&h("error"===c.type?404:200,c.type)});z.head.appendChild(a[0])},abort:function(){b&&b()}}}});var vb=[],Va=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var c=vb.pop()||k.expando+"_"+rb++;this[c]=!0;return c}});k.ajaxPrefilter("json jsonp",
function(c,a,b){var d,h=!1!==c.jsonp&&(Va.test(c.url)?"url":"string"===typeof c.data&&0===(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Va.test(c.data)&&"data");if(h||"jsonp"===c.dataTypes[0]){var g=c.jsonpCallback=k.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback;h?c[h]=c[h].replace(Va,"$1"+g):!1!==c.jsonp&&(c.url+=(Ta.test(c.url)?"\x26":"?")+c.jsonp+"\x3d"+g);c.converters["script json"]=function(){d||k.error(g+" was not called");return d[0]};c.dataTypes[0]="json";
var e=f[g];f[g]=function(){d=arguments};b.always(function(){void 0===e?k(f).removeProp(g):f[g]=e;c[g]&&(c.jsonpCallback=a.jsonpCallback,vb.push(g));d&&k.isFunction(e)&&e(d[0]);d=e=void 0});return"script"}});E.createHTMLDocument=function(){var c=z.implementation.createHTMLDocument("").body;c.innerHTML="\x3cform\x3e\x3c/form\x3e\x3cform\x3e\x3c/form\x3e";return 2===c.childNodes.length}();k.parseHTML=function(c,a,b){if("string"!==typeof c)return[];"boolean"===typeof a&&(b=a,a=!1);if(!a)if(E.createHTMLDocument){a=
z.implementation.createHTMLDocument("");var d=a.createElement("base");d.href=z.location.href;a.head.appendChild(d)}else a=z;d=jb.exec(c);b=!b&&[];if(d)return[a.createElement(d[1])];d=Q([c],a,b);b&&b.length&&k(b).remove();return k.merge([],d.childNodes)};k.fn.load=function(c,a,b){var d,h,g=this,f=c.indexOf(" ");if(-1<f){var e=fa(c.slice(f));c=c.slice(0,f)}k.isFunction(a)?(b=a,a=void 0):a&&"object"===typeof a&&(d="POST");0<g.length&&k.ajax({url:c,type:d||"GET",dataType:"html",data:a}).done(function(c){h=
arguments;g.html(e?k("\x3cdiv\x3e").append(k.parseHTML(c)).find(e):c)}).always(b&&function(c,a){g.each(function(){b.apply(this,h||[c.responseText,a,c])})});return this};k.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(c,a){k.fn[a]=function(c){return this.on(a,c)}});k.expr.pseudos.animated=function(c){return k.grep(k.timers,function(a){return c===a.elem}).length};k.offset={setOffset:function(c,a,b){var d=k.css(c,"position"),h=k(c),g={};"static"===d&&(c.style.position=
"relative");var f=h.offset();var e=k.css(c,"top");var m=k.css(c,"left");("absolute"===d||"fixed"===d)&&-1<(e+m).indexOf("auto")?(m=h.position(),e=m.top,m=m.left):(e=parseFloat(e)||0,m=parseFloat(m)||0);k.isFunction(a)&&(a=a.call(c,b,k.extend({},f)));null!=a.top&&(g.top=a.top-f.top+e);null!=a.left&&(g.left=a.left-f.left+m);"using"in a?a.using.call(c,g):h.css(g)}};k.fn.extend({offset:function(c){if(arguments.length)return void 0===c?this:this.each(function(a){k.offset.setOffset(this,c,a)});var a;if(a=
this[0]){if(!a.getClientRects().length)return{top:0,left:0};var b=a.getBoundingClientRect();var d=a.ownerDocument;a=d.documentElement;d=d.defaultView;return{top:b.top+d.pageYOffset-a.clientTop,left:b.left+d.pageXOffset-a.clientLeft}}},position:function(){if(this[0]){var c=this[0],b={top:0,left:0};if("fixed"===k.css(c,"position"))var d=c.getBoundingClientRect();else{var g=this.offsetParent();d=this.offset();a(g[0],"html")||(b=g.offset());b={top:b.top+k.css(g[0],"borderTopWidth",!0),left:b.left+k.css(g[0],
"borderLeftWidth",!0)}}return{top:d.top-b.top-k.css(c,"marginTop",!0),left:d.left-b.left-k.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===k.css(a,"position");)a=a.offsetParent;return a||Ka})}});k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;k.fn[a]=function(d){return ba(this,function(a,d,g){if(k.isWindow(a))var h=a;else 9===a.nodeType&&(h=a.defaultView);if(void 0===g)return h?h[b]:
a[d];h?h.scrollTo(c?h.pageXOffset:g,c?g:h.pageYOffset):a[d]=g},a,d,arguments.length)}});k.each(["top","left"],function(a,b){k.cssHooks[b]=H(E.pixelPosition,function(a,c){if(c)return c=v(a,b),Ma.test(c)?k(a).position()[b]+"px":c})});k.each({Height:"height",Width:"width"},function(a,b){k.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){k.fn[d]=function(g,h){var f=arguments.length&&(c||"boolean"!==typeof g),e=c||(!0===g||!0===h?"margin":"border");return ba(this,function(c,b,g){return k.isWindow(c)?
0===d.indexOf("outer")?c["inner"+a]:c.document.documentElement["client"+a]:9===c.nodeType?(b=c.documentElement,Math.max(c.body["scroll"+a],b["scroll"+a],c.body["offset"+a],b["offset"+a],b["client"+a])):void 0===g?k.css(c,b,e):k.style(c,b,g,e)},b,f?g:void 0,f)}})});k.fn.extend({bind:function(a,b,d){return this.on(a,null,b,d)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,d,g){return this.on(b,a,d,g)},undelegate:function(a,b,d){return 1===arguments.length?this.off(a,"**"):this.off(b,
a||"**",d)}});k.holdReady=function(a){a?k.readyWait++:k.ready(!0)};k.isArray=Array.isArray;k.parseJSON=JSON.parse;k.nodeName=a;"function"===typeof define&&define.amd&&define("jquery",[],function(){return k});var mc=f.jQuery,nc=f.$;k.noConflict=function(a){f.$===k&&(f.$=nc);a&&f.jQuery===k&&(f.jQuery=mc);return k};l||(f.jQuery=f.$=k);return k});window.ContextHubJQ=window.jQuery.noConflict(!0);
(function(){Function.prototype.bind||(Function.prototype.bind=function(f){var l=this,e=[].slice.call(arguments,1),b=function(){if(this instanceof b){var a=function(){};a.prototype=l.prototype;a=new a;var d=l.apply(a,e.concat([].slice.call(arguments)));a=Object(d)===d?d:a}else a=l.apply(f,e.concat([].slice.call(arguments)));return a};return b})})();
(function(f){f.ContextHub=f.ContextHub||{};var l=function(b,a){return(f.ContextHubKernelConfig.debug||a)&&b?Function.prototype.bind.call(b,f.console):function(){}},e=function(b){var a=f.console||{},d=function(){};ContextHub.console={log:l(a.log),warn:l(a.warn),info:l(a.info),error:l(a.error,!0),debug:l(a.debug),time:l(a.time),timeEnd:l(a.timeEnd),timeStamp:l(a.timeStamp)};b=b||"info";"info"===b&&(ContextHub.console.info=d,ContextHub.console.debug=d);"debug"===b&&(ContextHub.console.log=d,ContextHub.console.warn=
d)};e();ContextHub.debug=function(b,a){"undefined"!==typeof b&&(f.ContextHubKernelConfig.debug=!0===b,e(a));return!!f.ContextHubKernelConfig.debug}})(window);
(function(f,l){l.ContextHub=l.ContextHub||{};l.ContextHub.Utils=l.ContextHub.Utils||{};l.ContextHub.Utils.JSON=l.ContextHub.Utils.JSON||{};var e=function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},b=function(a){var b={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return'"'+a.replace(/["\\\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(a){var d=b[a];return d?d:e(a)})+'"'},
a=function(d){var g=f.type(d);"object"===g&&f.isArray(d)&&(g="array");switch(g){case "null":case "boolean":return String(d);case "undefined":break;case "array":var e=[];for(g=0;g<d.length;g++)e.push(a(d[g])||"null");return"["+e.join(",")+"]";case "number":return String(isFinite(d)?d:"null");case "string":return b(d);case "date":e=d.getUTCFullYear();g=ContextHub.Shared.pad(d.getUTCMonth()+1);var l=ContextHub.Shared.pad(d.getUTCDate()),p=ContextHub.Shared.pad(d.getUTCHours()),y=ContextHub.Shared.pad(d.getUTCMinutes()),
I=ContextHub.Shared.pad(d.getUTCSeconds());d=ContextHub.Shared.pad(d.getUTCMilliseconds(),3);return'"'+e+"-"+g+"-"+l+"T"+p+":"+y+":"+I+"."+d+'Z"';case "regexp":return"{}";case "function":break;default:g=[];for(e in d)Object.prototype.hasOwnProperty.call(d,e)&&(l=typeof e,"number"===l||"string"===l)&&(p=d[e],l=typeof p,"function"!==l&&"undefined"!==l&&g.push(b(e)+":"+a(p)));return"{"+g.join(",")+"}"}},d=function(a){a=String(a).replace(/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
e);var b=a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");return/^[\],:{}\s]*$/.test(b)?eval("("+a+")"):{}},g=l.JSON&&JSON.stringify&&JSON.parse;ContextHub.Utils.JSON.stringify=g?JSON.stringify:a;ContextHub.Utils.JSON.parse=function(a){try{var b=(g?JSON.parse:d)(a)}catch(r){b={}}return b}})(ContextHubJQ,window);ContextHub.console.log("[loading] contexthub.constants - ContextHub.constants.js");
(function(f){ContextHub.Constants=f.extend(!0,ContextHub.Constants,{EVENT_NAMESPACE:"ch",EVENT_ALL_STORES_READY:"all-stores-ready",EVENT_STORES_PARTIALLY_READY:"stores-partially-ready",EVENT_STORE_REGISTERED:"store-registered",EVENT_STORE_READY:"store-ready",EVENT_STORE_UPDATED:"store-updated",PERSISTENCE_CONTAINER_NAME:"ContextHubPersistence",SERVICE_RAW_RESPONSE_KEY:"/_/raw-response",SERVICE_RESPONSE_TIME_KEY:"/_/response-time",SERVICE_LAST_URL_KEY:"/_/url",IS_CONTAINER_EXPANDED:"/_/container-expanded"});
ContextHub.console.time("contexthub.js");ContextHub.console.timeStamp("contexthub.start")})(ContextHubJQ);ContextHub.console.log("[loading] contexthub.constants - ContextHub.constants.deprecated.js");
(function(f){window.ContextHub=window.ContextHub||{};ContextHub.Constants=f.extend(!0,ContextHub.Constants,{EVENT_INITIALIZED:ContextHub.Constants.EVENT_ALL_STORES_READY,EVENT_REGISTER:ContextHub.Constants.EVENT_STORE_REGISTERED,EVENT_DATA_UPDATE:ContextHub.Constants.EVENT_STORE_UPDATED,CONTAINER_VISIBLE:ContextHub.Constants.IS_CONTAINER_EXPANDED,EVENT_CONFIG_LOADED:""})})(ContextHubJQ);
(function(f,l){l.ContextHub.Shared=l.ContextHub.Shared||{};ContextHub.Shared.pad=function(b,a){b=String(b);a=(a||2)-b.length;0<a&&(b=String(Math.pow(10,Math.min(a,20))).slice(1)+b);return b};var e={};ContextHub.Shared.timers={start:function(b){b=b||"id"+Math.random();e[b]=(new Date).getTime();return b},finish:function(b){return(b=e[b])?(new Date).getTime()-b:0}};ContextHub.Shared.timestamp=function(){var b=new Date,a=b.getYear()+1900,d=ContextHub.Shared.pad(b.getMonth()+1),g=ContextHub.Shared.pad(b.getDate()),
f=ContextHub.Shared.pad(b.getHours()),e=ContextHub.Shared.pad(b.getMinutes()),l=ContextHub.Shared.pad(b.getSeconds());b=ContextHub.Shared.pad(b.getMilliseconds(),3);return a+"-"+d+"-"+g+" "+f+":"+e+":"+l+"."+b};ContextHub.Shared.uuid=function(){function b(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b()};ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.shared - ContextHub.Shared.js")})(ContextHubJQ,
window);ContextHubJQ(function(){ContextHub.console.log(ContextHub.Shared.timestamp(),"[event] DOM ready")});ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.shared - ContextHub.Shared.CookieContainer.js");
(function(f,l){l.ContextHub.Shared=l.ContextHub.Shared||{};l.ContextHub.Shared.CookieContainer={};var e=l.ContextHub.Shared.CookieContainer,b=function(a){a=(ContextHub.Utils.Cookie.getItem(f.trim(a))||"").split(/\|/);var b={};f.each(a,function(a,d){(d=d.match(/(^.*?):=(.*)/))&&3===d.length&&(d.shift(),a=d.shift(),d=d.shift(),b[a]=decodeURIComponent(d))});return b};e.setItem=function(a,d,g){a=f.trim(a);var e=b(a),m=[];0>=a.length||(null===g||"undefined"===typeof g?delete e[d]:e[d]=g,f.each(e,function(a,
b){m.push(a+":\x3d"+encodeURIComponent(b))}),ContextHub.Utils.Cookie.setItem(a,m.join("|")))};e.getItem=function(a,d){return b(a)[d]};e.removeItem=function(a,b){e.setItem(a,b,null)}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.utils - ContextHub.Utils.cookie.js");
(function(f,l){l.ContextHub.Utils=l.ContextHub.Utils||{};var e={path:"/",expires:void 0,domain:void 0,secure:!1,trimUndefined:!0},b=function(a,d){var g=f.type(d);"object"===g&&f.isArray(d)&&(g="array");switch(g){case "regexp":return d.test(a);case "string":return a===d;case "function":return!0===d(a);case "array":var e=!1;f(d).each(function(d,g){e=b(a,g);return!e});return e;default:return!1}},a=function(a){var d="undefined"===typeof a,g=l.document.cookie?l.document.cookie.split(/;/):[],e=[];f(g).each(function(g,
m){g=decodeURIComponent(f.trim(m.split(/=/)[0]));g.length&&-1===f.inArray(g,e)&&(d||b(g,a))&&e.push(g)});return e.sort()},d=function(a,b,d){if("undefined"===typeof a)return!1;var g=f.type(b);d=f.extend(!0,{},e,d);b=!d.trimUndefined||"undefined"!==g&&"null"!==g?b:"";switch(f.type(d.expires)){case "date":break;case "number":g=new Date;g.setDate(g.getDate()+d.expires);d.expires=g;break;default:d.expires=void 0}a=[encodeURIComponent(a),"\x3d",encodeURIComponent(b),d.expires?"; expires\x3d"+d.expires.toUTCString():
"",d.domain?"; domain\x3d"+d.domain:"",d.path?"; path\x3d"+d.path:"",d.secure?"; secure":""].join("");return l.document.cookie=a},g=function(a){var b=l.document.cookie?l.document.cookie.split(/;/):[],d=null;f(b).each(function(b,g){b=decodeURIComponent(f.trim(g.split(/=/).slice(1).join("\x3d")));decodeURIComponent(f.trim(g.split(/=/)[0]))===a&&(d=b);return null===d});return d},p=function(a,b){d(a,"",f.extend({},b,{expires:-1}))};ContextHub.Utils.Cookie={setItem:d,getItem:g,getAllItems:function(b){var d=
{};f(a(b)).each(function(a,b){a=g(b);var e=f.type(a);"undefined"!==e&&"null"!==e&&(d[b]=a)});return d},getKeys:a,exists:function(a){return null!==g(a)},removeItem:p,vanish:function(b,d){f(a(b)).each(function(a,b){p(b,d)})}}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.utils - ContextHub.Utils.json.js");
(function(f,l){l.ContextHub.Utils=l.ContextHub.Utils||{};var e=function(a){var b=null;"string"===typeof a&&(b=a.split(/(?:\s*\/+\s*)+/),""===b[0]&&b.shift(),b.length&&""===b[b.length-1]&&b.pop());return b},b=function(a,b){var d=null;if(b=e(b))for(d=a,a=0;a<b.length;a++)if(d=d[b[a]],null===d||"undefined"===typeof d){d=null;break}return d},a=function(a,b,d){b=e(b);d&&(a=f.extend(!0,{},a));if(b){var g={object:!0,array:!0},l=a,m=[a];f.each(b.slice(0,-1),function(a,b){l=l[b];m.push(l);return!0===g[f.type(l)]});
if(l)for(delete l[b.slice(-1)],b.pop(),m.pop();m&&b&&0<m.length&&0<b.length;){d=b.pop();l=m.pop();var p=l[d],q=f.type(p);if("object"!==q&&"array"!==q||!f.isEmptyObject(p))break;else delete l[d]}}return a},d=/^\[object (DIV|DOM|CSS|HTML|NamedNode|Node|Window)/,g=function(a){return a&&(a instanceof l.Node||a instanceof f||"function"===typeof a.css||"function"===typeof a.toString&&d.test(a.toString()))?!0:!1},p=function(a,b,d,e,l){b=b||"/";l=l||0;var m=[],q=f.type(a);"object"===q&&g(a)&&(q="invalid");
if("object"===q||"array"===q){e&&(a=ContextHub.Utils.JSON.tree.cleanup(a));for(var r in a)if(a.hasOwnProperty(r)){q=a[r];var t=b+r,y=f.type(q);m.push(t);"object"===y&&g(q)&&(y="invalid");"object"!==y&&"array"!==y||f.merge(m,p(q,t+"/",null,e,l+1))}}return 0===l?"function"===typeof d?m.sort(d):m.sort():m};f.extend(ContextHub.Utils.JSON,{tree:{sanitizeKey:e,setItem:function(a,b,d,g){b=e(b);g&&(a=f.extend(!0,{},a));if(b){var l=a,m={};f.each(b,function(a,b){m=l;a=f.type(l[b]);"object"!==a&&"array"!==a&&
(l[b]={});l=l[b]});m[b.slice(-1)]=d}return a},getItem:b,removeItem:a,getKeys:p,cleanup:function(d,g){g&&(d=f.extend(!0,{},d));g=p(d,null,function(a,b){var d=a.split(/\//).length,g=b.split(/\//).length;return d!==g?d>g?-1:1:a===b?0:a>b?1:-1});f.each(g,function(g,e){g=b(d,e);var l=f.type(g);"object"!==l&&"array"!==l||!f.isEmptyObject(g)||(d=a(d,e))});return d},addAllItems:function(a,b){return f.extend(!0,{},a,b)}}})})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.utils - ContextHub.Utils.eventing.js");
(function(f,l){l.ContextHub.Utils=l.ContextHub.Utils||{};var e=function(){var a=f.grep([l.requestAnimationFrame,l.msRequestAnimationFrame,l.mozRequestAnimationFrame,l.webkitRequestAnimationFrame,l.oRequestAnimationFrame],f.isFunction).shift();if(!a){var b=0;a=function(a){var d=(new Date).getTime(),g=Math.max(0,16-(d-b)),e=l.setTimeout(function(){a(d+g)},g);b=d+g;return e}}return a}();(function(){var a=f.grep([l.cancelAnimationFrame,l.cancelRequestAnimationFrame,l.msCancelRequestAnimationFrame,l.mozCancelRequestAnimationFrame,
l.webkitCancelRequestAnimationFrame,l.oCancelRequestAnimationFrame],f.isFunction).shift();a||(a=function(a){l.clearTimeout(a)});return a})();var b={},a={},d=function(a,b,d){a=(a||"").replace(/^ *| *$/g,"");if(a.length){d=d||{};d.hasOwnProperty("defer")||(d.defer=this.config.defer);var g=d.defer;d=d._||{};a="/"+this.config.namespace+"/"+a;var e=ContextHub.Utils.JSON.tree.getItem(this.queue,a)||{};e.hasOwnProperty("executeAt")||(e.executeAt=null);e.hasOwnProperty("data")||(e.data=[]);for(var l in d)d.hasOwnProperty(l)&&
"undefined"===typeof e[l]&&(e[l]=d[l]);l=(new Date).getTime()+g;if(!e.executeAt||0===g||e.executeAt>l)e.executeAt=l;f.isEmptyObject(b)||e.data.push(b);this.queue=ContextHub.Utils.JSON.tree.setItem(this.queue,a,e);this.eventingCounter=g?this.eventingCounter:0;b=!0===this.queueIsEmpty;this.queueIsEmpty=!1;b&&this.eventingMonitor()}},g=function(){return this.queue},p=function(a,b){a.list.push(b.key);a.hash[b.key]=b},m=function(a){for(var b=f.extend(!0,{},a,{data:[]}),d={},g=function(a,b,g){var e=a.key||
"temp"+Math.random(),l=d[e],m=(l||{}).old||null;d[e]=f.extend(!0,{},a);d[e]._idx=parseFloat(b+"."+(g||0));l&&(d[e].old=m)},e=0;e<a.data.length;e++){var l=a.data[e],m=ContextHub.Utils.JSON.tree.getKeys(l.old),q=ContextHub.Utils.JSON.tree.getKeys(l.value);if(m.length||q.length){var t="/"===l.key?"":l.key,r=1,y;for(y=0;y<m.length;y++,r++){var A=m[y];g({key:t+A,value:null,old:ContextHub.Utils.JSON.tree.getItem(l.old,A),action:"remove"},e,r)}for(y=0;y<q.length;y++,r++)A=q[y],g({key:t+A,value:ContextHub.Utils.JSON.tree.getItem(l.value,
A),old:ContextHub.Utils.JSON.tree.getItem(l.old||{},A),action:"set"},e,r)}else m=!(!l.key||!l.action)&&!/^\/_\//.test(l.key),q=d[l.key]||{},m&&q.old===l.value?delete d[l.key]:g(l,e)}d=f.map(d,function(a){return a}).sort(function(a,b){return a._idx-b._idx});a={set:{list:[],hash:{}},removed:{list:[],hash:{}},all:{list:[],hash:{}}};f.each(d,function(a,b){delete b._idx;b.key&&b.action&&(p(this.keys.all,b),"set"===b.action&&p(this.keys.set,b),"remove"===b.action&&p(this.keys.removed,b))}.bind({keys:a}));
b.data=d;b.keys=a;return b},r=function(a){0!==a.indexOf(this.config.namespace+"-")&&(a=this.config.namespace+"-"+a);-1!==a.indexOf(".")&&(a=a.split(/\./).shift());return!0===b[a]},q=function(){this.running&&!this.queueIsEmpty&&(0===this.eventingCounter++%this.periodicity&&f.each(this.queue[this.config.namespace]||{},function(a,d){if(!d.paused&&(new Date).getTime()>d.executeAt){var g=this.config.namespace+"-"+a,e=d.duration?"("+d.duration+") ":"",p=ContextHub.debug(),q=f(this.config.broadcast);if(!this.windowBroadcast.initialized){var r=
l;var t=l.parent;try{for(;r.location.origin===t.location.origin&&(r=t,t=t.parent,r!==l.top););}catch(X){}try{this.windowBroadcast.top=this.config.broadcast===r?null:r}catch(X){}this.windowBroadcast.initialized=!0}r=this.windowBroadcast.top;d=m(d);d.event=g;d.overlay&&(d=f.extend(!0,d,d.overlay));delete (this.queue[this.config.namespace]||{})[a];this.queueIsEmpty=f.isEmptyObject(this.queue[this.config.namespace]);if(!d.muteWhenNoData||d.muteWhenNoData&&0<d.data.length){t=g.split(/:/);a=a.split(/:/);
for(var y=t.length;0<y;y--){d.channel=a.slice(0,y).join(":");var A=t.slice(0,y).join(":");q.trigger(A,d);if(r&&r.document){var B=r.document.createEvent("Event");B.initEvent(A,!0,!0);B.data=d;r.dispatchEvent(B)}p&&ContextHub.console.debug(ContextHub.Shared.timestamp(),A,"-",d);b[A]=!0}ContextHub.console.log(ContextHub.Shared.timestamp(),"[event]",g,e+"-",d)}}}.bind(this)),e(this.eventingMonitor))},t=function(){this.running=!0;this.eventingMonitor()},y=function(){this.running=!1},I=function(){return this.running},
A=function(){this.queue={}},B=function(a,b,d){this.queue=ContextHub.Utils.JSON.tree.setItem(this.queue,"/"+this.config.namespace+"/"+a+"/"+b,d)},C=function(a){B.call(this,a,"executeAt",0)},K=function(a){B.call(this,a,"paused",!0)},Q=function(a){B.call(this,a,"paused",void 0)},T=function(a){return!0===ContextHub.Utils.JSON.tree.getItem(this.queue,"/"+this.config.namespace+"/"+a+"/paused")},V=function(a,b,d){d=d?"."+d:"";a="string"===typeof a?a.split(/ /):a;for(var g=0;g<a.length;g++){var e=a[g];0!==
e.indexOf(b+"-")&&(a[g]=b+"-"+e+d)}return a.join(" ")},D=function(b,d,g,e){b=V(b,this.config.namespace,g);f(this.config.broadcast).on(b,d);a[b]=!0;if(e){var l=!1,m=this;f.each(b.split(/ /),function(a,b){l=r.call(m,b);return!0!==l});l&&d()}},G=function(b,d,g,e){var l=!1;b=V(b,this.config.namespace,g);if(e){var m=this;f.each(b.split(/ /),function(a,b){l=r.call(m,b);return!0!==l})}l?d():(f(this.config.broadcast).one(b,d),a[b]=!0)},M=function(b,d){b=V(b,this.config.namespace,d);f(this.config.broadcast).off(b);
delete a[b]},La=function(){for(var b in a)a.hasOwnProperty(b)&&ContextHub.eventing.off(b);a={}};ContextHub.Utils.Eventing=function(b){this.config=f.extend(!0,{},ContextHub.Utils.Eventing.defaultConfig,b);this.eventingCounter=0;this.periodicity=Math.floor(Math.max(16,this.config.periodicity)/16);this.eventingMonitor=q.bind(this);this.windowBroadcast={top:null,initialized:!1};this.queue={};this.config.autoStart?t.call(this):this.running=!1;return{log:this.log,trigger:d.bind(this),getQueue:g.bind(this),
isRunning:I.bind(this),enableEventing:t.bind(this),disableEventing:y.bind(this),alreadyTriggered:r.bind(this),clearQueue:A.bind(this),flush:C.bind(this),pause:K.bind(this),resume:Q.bind(this),isPaused:T.bind(this),once:G.bind(this),on:D.bind(this),off:M.bind(this),unbindAllHandlers:La.bind(this),namespace:this.config.namespace,broadcast:this.config.broadcast,handledEvents:a}};ContextHub.Utils.Eventing.defaultConfig={autoStart:!0,defer:100,periodicity:192,namespace:ContextHub.Constants.EVENT_NAMESPACE,
broadcast:l}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.utils - ContextHub.Utils.persistence.js");
(function(f,l){function e(a,b,d){this.cachedTree=null;return f.extend(!0,{},{name:a,isSupported:d||function(){return!0},getInterface:function(d){d=b.call(this,d);return{name:a,getItem:d.getItem,setItem:d.setItem,removeItem:d.removeItem,getKeys:d.getKeys,getTree:d.getTree}},_self:this})}l.ContextHub.Utils=l.ContextHub.Utils||{};var b=/^\/*store($|\/)/,a=/^\/*store\/(emulators|surferinfo|segmentation)($|\/)/;e.prototype.setItem=function(d,g,e,f){if((e||"").match(b)&&!(e||"").match(a)&&ContextHub.isOptedOut())return!1;
g=this.cachedTree||g();g=ContextHub.Utils.JSON.tree.setItem(g,e,f);d(g);this.cachedTree=g;return!0};e.prototype.getItem=function(a,b){this.cachedTree=a=this.cachedTree||a();return ContextHub.Utils.JSON.tree.getItem(a,b)};e.prototype.removeItem=function(d,g,e){if((e||"").match(b)&&!(e||"").match(a)&&ContextHub.isOptedOut())return!1;g=this.cachedTree||g();g=ContextHub.Utils.JSON.tree.removeItem(g,e);d(g);this.cachedTree=null;return!0};var d=new e("null",function(){return{setItem:function(){return!1},
getItem:function(){return{}},removeItem:function(){},getKeys:function(){return[]},getTree:function(){return{}}}}),g=function(){var a=!1;f(f.merge([this.config.mode],this.config.fallback||[])).each(function(b,d){d&&d.isSupported()&&(a=!0,this.config.mode=d);return!a}.bind(this));a||(this.config.mode=d);return a};ContextHub.Utils.Persistence=function(a){this.config=f.extend(!0,{},ContextHub.Utils.Persistence.defaultConfig,a);a=this.config.mode;a={initialized:g.call(this),usingFallback:this.config.mode!==
a,window:this.config.window,container:this.config.container};f.extend(a,this.config.mode.getInterface.call(this.config.mode._self,this.config));return a};ContextHub.Utils.Persistence.prototype.PersistenceMode=e;ContextHub.Utils.Persistence.Modes={};var p=function(a,b){var d=e.prototype.setItem.bind(this,a,b),g=e.prototype.getItem.bind(this,b);a=e.prototype.removeItem.bind(this,a,b);return{setItem:d,getItem:g,removeItem:a,getKeys:function(){var a=b();return ContextHub.Utils.JSON.tree.getKeys(a)},getTree:b}};
ContextHub.Utils.Persistence.Modes.LOCAL=new e("local",function(a){var b=a.container,d=a.window.localStorage;return p.call(this,function(a){a=ContextHub.Utils.JSON.stringify(a);d.setItem(b,a)},function(){var a=null;try{a=d.getItem(b)}catch(y){a=null}a=ContextHub.Utils.JSON.parse(a);return"object"===f.type(a)?a:{}})},function(){var a="contexthub.test."+this.name;try{var b=l.localStorage;b.setItem(a,a);var d=b.getItem(a)===a;b.removeItem(a)}catch(t){d=!1}return d});ContextHub.Utils.Persistence.Modes.SESSION=
new e("session",function(a){var b=a.container,d=a.window.sessionStorage;return p.call(this,function(a){a=ContextHub.Utils.JSON.stringify(a);d.setItem(b,a)},function(){var a=d.getItem(b);a=ContextHub.Utils.JSON.parse(a);return"object"===f.type(a)?a:{}})},function(){var a="contexthub.test."+this.name;try{var b=l.sessionStorage;b.setItem(a,a);var d=b.getItem(a)===a;b.removeItem(a)}catch(t){d=!1}return d});ContextHub.Utils.Persistence.Modes.COOKIE=new e("cookie",function(a){var b=a.container,d=ContextHub.Utils.Cookie;
return p.call(this,function(a){a=ContextHub.Utils.JSON.stringify(a);d.setItem(b,a)},function(){var a=d.getItem(b);a=ContextHub.Utils.JSON.parse(a);return"object"===f.type(a)?a:{}})},function(){var a="contexthub.test."+this.name;l.document.cookie=a+"\x3d1";var b=-1!==l.document.cookie.indexOf(a);l.document.cookie=a+"\x3d; expires\x3dThu, 01-Jan-1970 00:00:01 GMT";return b});ContextHub.Utils.Persistence.Modes.WINDOW=new e("window",function(a){var b=a.container,d=a.window;return p.call(this,function(a){var g=
ContextHub.Utils.JSON.parse(d.name);g[b]=a;d.name=ContextHub.Utils.JSON.stringify(g)},function(){var a=ContextHub.Utils.JSON.parse(d.name)[b];return"object"===f.type(a)?a:{}})});ContextHub.Utils.Persistence.defaultConfig={container:ContextHub.Constants.PERSISTENCE_CONTAINER_NAME,window:l,mode:ContextHub.Utils.Persistence.Modes.LOCAL,fallback:[ContextHub.Utils.Persistence.Modes.SESSION,ContextHub.Utils.Persistence.Modes.WINDOW]}})(ContextHubJQ,window);
ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.utils - ContextHub.Utils.storeCandidates.js");
(function(f,l){l.ContextHub.Utils=l.ContextHub.Utils||{};var e={},b=function(){return!0};ContextHub.Utils.storeCandidates={registerStoreCandidate:function(a,d,g,f){a={store:a,priority:g,applies:f||b};e[d]=e[d]||[];d=e[d];d.push(a);d.sort(function(a,b){return b.priority-a.priority})},getStoreFromCandidates:function(a){var b=e[a.type]||[],g;for(g=0;g<b.length;g++){var f=b[g];if(f.applies(f.store,f.priority))return f.store}!0===a.required&&ContextHub.console.error('No suitable store implementation found for type: "'+
a.type+'".')},getRegisteredCandidates:function(a){var b=e;a&&(b=b[a]||[]);return b},getSupportedStoreTypes:function(){var a=[];f.each(e,function(b){a.push(b)});return a.sort()}}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.utils - ContextHub.Utils.inheritance.js");
(function(f){f.ContextHub.Utils=f.ContextHub.Utils||{};ContextHub.Utils.inheritance={inherit:function(f,e){f.prototype=new e;f.prototype.constructor=e;var b={},a;f.prototype.uber=function(d){b[d]=b[d]||0;var g,f,l;if(g=b[d]){for(l=e.prototype;g;)l=l.constructor.prototype,g--;l&&l[d]===a&&(l=l.constructor.prototype||{});g=l[d]}else{for(l=this;l&&!l.hasOwnProperty(d);)l=l.__proto__||l.constructor.prototype;g=l[d];g===this[d]&&(g=(l.__proto__||l.constructor.prototype)[d])}b[d]++;a=g;"function"===typeof g&&
(f=g.apply(this,Array.prototype.slice.apply(arguments,[1])));a=null;b[d]--;return f};return f},newInstance:function(f,e){return new (f.bind.apply(f,[null].concat([].slice.call(e))))}}})(window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.kernel - ContextHub.js");
(function(f,l){"undefined"===typeof l.ContextHubKernelConfig&&ContextHub.console.error("[-] ContextHub configuration is not set!");l.ContextHub=f.extend({version:"0.4.18-20190304-1526"},l.ContextHub);var e={},b=[],a=[],d=new ContextHub.Utils.Persistence,g=new ContextHub.Utils.Eventing(l.ContextHubKernelConfig.eventing),p=null,m=function(a){var b=ContextHub.persistence,d=ContextHub.Utils.JSON.tree.sanitizeKey(a);if(d){var g=d.shift();"store"===g&&(g=d.shift());if(g=ContextHub.getStore(g))b=g,a="/"+
d.join("/")}return{storage:b,storeProperty:a}},r=function(a){var b={},d=0,g=[];f.each(a,function(a,e){e&&(a=ContextHub.Utils.JSON.tree.sanitizeKey(e),"store"===a[0]?e="/"+a.slice(1).join("/"):a.unshift("store"),a="/"+a.join("/"),a=ContextHub.getItem(a),null!==a&&(d++,b=ContextHub.Utils.JSON.tree.setItem(b,e,a),g.push(e)))});b._length=d;b._keys=g;return b};f.extend(ContextHub,{persistence:d,eventing:g,registerStore:function(a,b){if("object"===f.type(b)&&(e=e||{},!e[a])){e[a]=b;ContextHub.console.timeStamp('registering "'+
a+'"');var d=b.getKeys(),g={keys:{all:{hash:{},list:d}}};f.each(d,function(a,b){g.keys.all.hash[b]=!0});this.eventing.trigger(ContextHub.Constants.EVENT_STORE_REGISTERED+":"+a,{},{defer:0,_:{action:"store-registered",store:a,registeredAt:(new Date).getTime(),overlay:g}});b.queryService||b.announceReadiness()}},getAllStores:function(){return e},getStore:function(a){return"string"===f.type(a)&&a.length?ContextHub.Utils.JSON.tree.getItem(e,a):null},set:function(a,b){this.setItem("/store/"+a,b)},get:function(a){return this.getItem("/store/"+
a)},getItem:function(a){a=m(a);return a.storage.getItem(a.storeProperty)},setItem:function(a,b){a=m(a);a.storage.setItem(a.storeProperty,b)},removeItem:function(a){a=m(a);a.storage.removeItem(a.storeProperty)},cleanAllStores:function(){var a=g.isPaused();this.eventing.pause();f.each(e,function(a,b){b.clean()});a||this.eventing.resume()},resetAllStores:function(a){var b=g.isPaused();ContextHub.isOptedOut(!0);ContextHub.eventing.pause();f.each(e,function(b,d){d.reset(a)});b||ContextHub.eventing.resume()},
sync:function(a,d,g,e){"string"===f.type(a)&&(a=[a]);var m=[];f.each(a,function(a,b){a="/"+ContextHub.Utils.JSON.tree.sanitizeKey(b).join("/");m.push(a)});a=m;d=d||function(){};g=g||function(){};var p=r(a);if(p._length===a.length)d(p);else{var q=0,t=!1;p=function(b){if(t)return!0;var e=r(a),m=null;"undefined"===f.type(b)&&(m=g);e._length===a.length&&(m=d,l.clearTimeout(q));m&&(t=!0,m(e));return t};q=l.setTimeout(p,e);b.push(p)}},bind:function(b,d,g,e){"string"===f.type(b)&&(b=[b]);var m=[];f.each(b,
function(a,b){a="/"+ContextHub.Utils.JSON.tree.sanitizeKey(b).join("/");m.push(a)});b=m;d=d||function(){};g=g||function(){};var p=r(b),q=!0;p._length===b.length&&(q=!1,d(p));var t=0;p=function(a,e){if(e){var m={};a=!0;f.each(e,function(a){m=ContextHub.Utils.JSON.tree.setItem(m,a,!0)});for(e=0;e<b.length;e++)if(ContextHub.Utils.JSON.tree.getItem(m,b[e])){a=!1;break}if(a)return}e=r(b);a=g;e._length===b.length&&(a=d,l.clearTimeout(t));a(e)};q&&(t=l.setTimeout(p,e));a.push(p)},isOptedOut:function(a){a&&
(p=null);null===p&&(p=null!==ContextHub.Utils.Cookie.getItem("cq-opt-out"));return p}});ContextHub.eventing.on(ContextHub.Constants.EVENT_STORE_UPDATED,function(d,g){f.each(b||[],function(a,d){d&&d(a)&&(delete b[a],b=f.grep(b,f.isFunction))});if((a||[]).length){var e={};g.keys&&f.each(g.keys.all.list,function(a,b){e["/"+g.store+b]=!0});f.each(a||[],function(a,b){b&&b(a,e)})}},"sync-bind")})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.kernel - task.stores-initialization-watcher.js");
(function(f,l){var e={},b=l.setTimeout(function(){var a={};f.each(l.ContextHubKernelConfig.stores,function(b){e[b]||(a[b]=!0)});ContextHub.eventing.trigger(ContextHub.Constants.EVENT_STORES_PARTIALLY_READY,{},{defer:0,_:{wasReadyAt:(new Date).getTime(),storesReady:e,storesNotReady:a}});ContextHub.eventing.off(ContextHub.Constants.EVENT_STORE_READY,"initialization-watcher")},l.ContextHubKernelConfig.initializationTimeout);ContextHub.eventing.on(ContextHub.Constants.EVENT_STORE_READY,function(a,d){var g=
e[d.store]=!0;f.each(l.ContextHubKernelConfig.stores,function(a,b){!e[a]&&b.required&&(g=!1)});g&&(l.clearTimeout(b),ContextHub.console.timeStamp("contexthub initialized"),ContextHub.eventing.off(a.type,"initialization-watcher"),ContextHub.eventing.trigger(ContextHub.Constants.EVENT_ALL_STORES_READY,{},{defer:0,_:{wasReadyAt:(new Date).getTime(),stores:e}}))},"initialization-watcher")})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.generic-stores - ContextHub.Store.Core.js");
(function(f,l){l.ContextHub.Store=l.ContextHub.Store||{};var e=new ContextHub.Utils.Persistence.prototype.PersistenceMode("memory",function(b){var a=b.container,d=b.storage,g=function(){var b=("object"===f.type(d)?d:{})[a];return"object"===f.type(b)?b:{}};b=function(b){d="object"===f.type(d)?d:{};d[a]=b};var e=ContextHub.Utils.Persistence.prototype.PersistenceMode.prototype;return{setItem:e.setItem.bind(this,b,g),getItem:e.getItem.bind(this,g),removeItem:e.removeItem.bind(this,b,g),getKeys:function(){return ContextHub.Utils.JSON.tree.getKeys(g())},
getTree:g}});ContextHub.Store.Core=function(){};ContextHub.Store.Core.prototype.init=function(b,a){this.config=f.extend(!0,{},ContextHub.Store.Core.defaultConfig,a);this.name=b;this.eventChannel=ContextHub.Constants.EVENT_STORE_UPDATED+":"+this.name;this.storeDataKey="/store/"+this.name;this.data={};this.references={};this.config.persistence||(this.config.persistence=new ContextHub.Utils.Persistence({container:"data",mode:e,storage:this.data}));this.config.eventing||(b=function(){},this.config.eventing=
{trigger:b,isPaused:b,pause:b,resume:b});this.persistence=this.config.persistence;this.eventing=this.config.eventing;b=this.isEventingPaused();this.pauseEventing();f.each(this.config.initialValues||{},function(a,b){this.getItem(a)||this.setItem(a,b)}.bind(this));b||this.resumeEventing()};ContextHub.Store.Core.defaultConfig={eventDeferring:32,eventing:ContextHub.eventing,persistence:ContextHub.persistence};ContextHub.Store.Core.prototype.clean=function(){this.removeItem("/")};ContextHub.Store.Core.prototype.reset=
function(b){var a=this.isEventingPaused();this.pauseEventing();b||this.clean();this.addAllItems(this.config.initialValues||{});a||this.resumeEventing()};ContextHub.Store.Core.prototype.setItem=function(b,a,d){b=this.resolveReference(b);var g=this.getItem(b),e=!0,l=typeof a;typeof g===l&&("string"===l||"number"===l||"boolean"===l?e=g!==a:(e=ContextHub.Utils.JSON.stringify(g),l=ContextHub.Utils.JSON.stringify(a),e=e.length!==l.length||e!==l));e&&this.persistence.setItem(this.storeDataKey+"/"+b,a)&&
!(d||{}).silent&&this.eventing.trigger(this.eventChannel,{key:b,value:a,old:g,action:"set"},f.extend(!0,{defer:this.config.eventDeferring,_:{store:this.name,muteWhenNoData:!0}},d));return e};ContextHub.Store.Core.prototype.getItem=function(b){b=this.resolveReference(b);return this.persistence.getItem(this.storeDataKey+"/"+b)};ContextHub.Store.Core.prototype.removeItem=function(b,a){b=this.resolveReference(b);var d=!1,g=this.getItem(b);null!==g&&(d=!0,this.persistence.removeItem(this.storeDataKey+
"/"+b)&&!(a||{}).silent&&this.eventing.trigger(this.eventChannel,{key:b,value:null,old:g,store:this.name,action:"remove"},f.extend(!0,{defer:this.config.eventDeferring,_:{store:this.name,muteWhenNoData:!0}},a)));return d};ContextHub.Store.Core.prototype.getKeys=function(b){var a=this.persistence.getTree();a=ContextHub.Utils.JSON.tree.getItem(a,this.storeDataKey)||{};b||delete a._;return ContextHub.Utils.JSON.tree.getKeys(a)};ContextHub.Store.Core.prototype.getTree=function(b){var a=this.persistence.getItem(this.storeDataKey)||
{};b||delete a._;return a};ContextHub.Store.Core.prototype.addAllItems=function(b,a){var d=f.type(b),g=this,e=!1;"object"!==d&&"array"!==d||f.each(b,function(b,d){b=g.setItem(b,d,a);e=e||b});return e};ContextHub.Store.Core.prototype.addReference=function(b,a){b=ContextHub.Utils.JSON.tree.sanitizeKey(b);var d=ContextHub.Utils.JSON.tree.sanitizeKey(a);a=!1;b&&d&&(b="/"+b.join("/"),d="/"+d.join("/"),b!==d&&(a=!0,this.references[b]=d));return a};ContextHub.Store.Core.prototype.removeReference=function(b){var a=
ContextHub.Utils.JSON.tree.sanitizeKey(b);b=!1;a&&(b=!0,a="/"+a.join("/"),delete this.references[a]);return b};ContextHub.Store.Core.prototype.getReferences=function(){return this.references};ContextHub.Store.Core.prototype.resolveReference=function(b,a){var d="/"+ContextHub.Utils.JSON.tree.sanitizeKey(b).join("/");if(!f.isEmptyObject(this.references)&&b){b=a||5;for(var g=d;0<b&&g;){b--;g=ContextHub.Utils.JSON.tree.sanitizeKey(d);var e="";a=g.slice(0);for(var l=0;l<g.length&&!this.references[e];l++)e+=
"/"+g[l],a.shift();if(g=this.references[e])g=g+"/"+a.join("/"),g="/"+ContextHub.Utils.JSON.tree.sanitizeKey(g).join("/");d=g||d}}return d};ContextHub.Store.Core.prototype.pauseEventing=function(){this.eventing&&this.eventing.pause(this.eventChannel)};ContextHub.Store.Core.prototype.resumeEventing=function(){this.eventing&&this.eventing.resume(this.eventChannel)};ContextHub.Store.Core.prototype.isEventingPaused=function(){return this.eventing&&this.eventing.isPaused(this.eventChannel)};ContextHub.Store.Core.prototype.announceReadiness=
function(){var b=this.name,a=null;ContextHub.console.timeStamp('"'+b+'" ready');if(this instanceof ContextHub.Store.JSONPStore){var d=this.getKeys();a={keys:{all:{hash:{},list:d}}};f.each(d,function(b,d){a.keys.all.hash[d]=!0})}this.eventing.trigger(ContextHub.Constants.EVENT_STORE_READY+":"+b,{},{defer:0,_:{action:"ready",store:b,wasReadyAt:(new Date).getTime(),duration:this.duration||0,overlay:a}})};ContextHub.Store.Core.prototype.onUpdate=function(b,a){var d=this.eventChannel;if("function"===typeof a)ContextHub.eventing.on(d,
a.bind(this),b);else ContextHub.eventing.off(d,b)}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.generic-stores - ContextHub.Store.SessionStore.js");
(function(f,l){l.ContextHub.Store=l.ContextHub.Store||{};ContextHub.Store.SessionStore=function(){};ContextHub.Store.SessionStore.defaultConfig={eventDeferring:32,persistence:null,eventing:ContextHub.eventing};ContextHub.Utils.inheritance.inherit(ContextHub.Store.SessionStore,ContextHub.Store.Core);ContextHub.Store.SessionStore.prototype.init=function(e,b){this.config=f.extend(!0,{},this.config,ContextHub.Store.SessionStore.defaultConfig,b);this.uber("init",e,this.config)}})(ContextHubJQ,window);
ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.generic-stores - ContextHub.Store.PersistedStore.js");
(function(f,l){l.ContextHub.Store=l.ContextHub.Store||{};ContextHub.Store.PersistedStore=function(){};ContextHub.Store.PersistedStore.defaultConfig={eventDeferring:32,persistence:ContextHub.persistence};ContextHub.Utils.inheritance.inherit(ContextHub.Store.PersistedStore,ContextHub.Store.Core);ContextHub.Store.PersistedStore.prototype.init=function(e,b){this.config=f.extend(!0,{},this.config,ContextHub.Store.PersistedStore.defaultConfig,b);this.uber("init",e,this.config)}})(ContextHubJQ,window);
ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.generic-stores - ContextHub.Store.JSONPStore.js");
(function(f,l){l.ContextHub.Store=l.ContextHub.Store||{};ContextHub.Store.JSONPStore=function(){};ContextHub.Utils.inheritance.inherit(ContextHub.Store.JSONPStore,ContextHub.Store.Core);ContextHub.Store.JSONPStore.prototype.init=function(e,b){this.config=f.extend(!0,{},this.config,ContextHub.Store.JSONPStore.defaultConfig,b);b=(e||"").replace(/[^a-zA-Z0-9]/g,"");if(0===b.length||b!==e){b="x"+b;for(var a=0,d=0;d<e.length;d++)a=~~((a<<5)-a+e.charCodeAt(d));a=1E4*Math.sin(a);b+=(a-Math.floor(a)).toString(36).substr(2,
5)}this.callbackName=b;this.uber("init",e,this.config);this.setUpdateInterval()};ContextHub.Store.JSONPStore.defaultConfig={eventDeferring:32,persistence:null,eventing:ContextHub.eventing,service:null};ContextHub.Store.JSONPStore.prototype.getServiceDetails=function(){return this.config.service};ContextHub.Store.JSONPStore.prototype.configureService=function(e,b){this.config.service=b?e:f.extend(!0,{},this.config.service,e)};ContextHub.Store.JSONPStore.prototype.resolveParameter=function(e){var b=
"boolean"===f.type(e)?String(e):e,a=b||"";e=["ContextHub.Paths."];"string"===f.type(b)&&(b=a.match(/\$\{(contexthub|variable):[^}]+}/g))&&f.each(b,function(b,g){b=g.slice(2,-1).split(/:/);var d=b.shift(),e=b.shift(),r=null;"contexthub"===d&&(r=ContextHub.persistence.getItem(e));"variable"===d&&e&&f.each(this.allowedPrefix,function(a,b){(a=0===e.indexOf(b))&&(r=ContextHub.Utils.JSON.tree.getItem(l,e.replace(/\./g,"/")));return!a});a=a.replace(g,r||"")}.bind({allowedPrefix:e}));return a};ContextHub.Store.JSONPStore.prototype.getServiceURL=
function(e){var b=this.getServiceDetails(),a=[],d=[];if("object"!==f.type(b))return null;if(b.jsonp){var g=!0===b.jsonp?"callback":(""+b.jsonp).replace(/[^a-zA-Z0-9_$]/g,"");b.params=b.params||{};b.params[g]="ContextHub.Callbacks."+this.callbackName}b.port=b.port&&80===b.port?"":b.port;b.host?("undefined"===typeof b.secure||"auto"===b.secure?a.push("//"):a.push(b.secure?"https://":"http://"),a.push(b.host),a.push(b.port?":"+b.port:"")):a.push(l.location.protocol+"//"+l.location.host);b.path=b.path||
"/";g=""+(e?this.resolveParameter(b.path):b.path);a.push(g);f.each(b.params||{},function(a,b){d.push(encodeURIComponent(a)+"\x3d"+encodeURIComponent(e?this.resolveParameter(b):b))}.bind(this));d.length&&(a.push(-1===g.indexOf("?")?"?":"\x26"),a.push(d.join("\x26")));return a.join("")};ContextHub.Store.JSONPStore.prototype.queryService=function(e){var b=this.getServiceURL(!0);if(b){var a=this.config.service.jsonp||this.config.service.script,d=this.isEventingPaused(),g=this;e&&this.removeItem("_",{silent:!0});
e=this.getItem(ContextHub.Constants.SERVICE_RESPONSE_TIME_KEY)||0;var p=this.getItem(ContextHub.Constants.SERVICE_LAST_URL_KEY);e+this.config.service.ttl>(new Date).getTime()&&p===b?(this.duration="cached",this.announceReadiness()):(this.setItem(ContextHub.Constants.SERVICE_LAST_URL_KEY,b),l.ContextHub.Callbacks=l.ContextHub.Callbacks||{},ContextHub.Callbacks[this.callbackName]=this.callbackFunction.bind(this),b={url:b,timeout:this.config.service.timeout,async:this.config.service.synchronous?!1:!0,
method:this.config.service.method||"GET"},a&&f.extend(b,{dataType:"script",cache:!0}),this.pauseEventing(),this.duration=0,ContextHub.Shared.timers.start(this.name),b=f.ajax(b),a||b.done(function(a,b,d){a=ContextHub.Utils.JSON.parse(d.responseText);ContextHub.Callbacks[g.callbackName](a)}),b.fail(function(a){g.failureHandler(a)}),b.always(function(){d||g.resumeEventing();g.announceReadiness()}))}};ContextHub.Store.JSONPStore.prototype.successHandler=function(e){return e};ContextHub.Store.JSONPStore.prototype.failureHandler=
function(e){ContextHub.console.log('There was an error while accessing JSONP service in the store "'+this.name+'", configuration: ',(this.config||{}).service,", error: ",e)};ContextHub.Store.JSONPStore.prototype.callbackFunction=function(e){this.duration=ContextHub.Shared.timers.finish(this.name)+"ms";this.setItem(ContextHub.Constants.SERVICE_RESPONSE_TIME_KEY,(new Date).getTime());e=this.successHandler(e);e=f.extend(!0,e instanceof Array?[]:{},e);this.setItem(ContextHub.Constants.SERVICE_RAW_RESPONSE_KEY,
e)};ContextHub.Store.JSONPStore.prototype.getRawResponse=function(){return this.getItem(ContextHub.Constants.SERVICE_RAW_RESPONSE_KEY)||{}};ContextHub.Store.JSONPStore.prototype.reset=function(e){this.uber("reset",e);this.queryService(!1)};ContextHub.Store.JSONPStore.prototype.setUpdateInterval=function(e){e=isNaN(e)?this.config.pollInterval:e;this.intervalHandler&&(l.clearInterval(this.intervalHandler),this.intervalHandler=null);if(0<e){var b=this;this.intervalHandler=l.setInterval(function(){b.queryService(!0)},
e)}}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.generic-stores - ContextHub.Store.PersistedJSONPStore.js");
(function(f,l){l.ContextHub.Store=l.ContextHub.Store||{};ContextHub.Store.PersistedJSONPStore=function(){};ContextHub.Store.PersistedJSONPStore.defaultConfig={eventDeferring:32,persistence:ContextHub.persistence};ContextHub.Utils.inheritance.inherit(ContextHub.Store.PersistedJSONPStore,ContextHub.Store.JSONPStore);ContextHub.Store.PersistedJSONPStore.prototype.init=function(e,b){this.config=f.extend(!0,{},this.config,ContextHub.Store.PersistedJSONPStore.defaultConfig,b);this.uber("init",e,this.config)}})(ContextHubJQ,
window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine - ContextHub.SegmentEngine.Constants.js");
(function(f){f.extend(!0,ContextHub.Constants,{EVENT_SEGMENT_REGISTERED:"segment-engine:segment-registered",EVENT_SEGMENT_UNREGISTERED:"segment-engine:segment-unregistered",EVENT_SEGMENT_UPDATED:"segment-engine:segment-updated",EVENT_SCRIPT_REGISTERED:"segment-engine:script-registered",EVENT_SCRIPT_UNREGISTERED:"segment-engine:script-unregistered",EVENT_SCRIPT_UPDATED:"segment-engine:script-updated",EVENT_TEASER_REGISTERED:"segment-engine:teaser-registered",EVENT_TEASER_UNREGISTERED:"segment-engine:teaser-unregistered",
EVENT_TEASER_LOADED:"segment-engine:teaser-loaded"})})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine - ContextHub.SegmentEngine.js");
(function(f,l){l.ContextHub.SegmentEngine={version:"1.1.12-20190304-1523"};ContextHub.SegmentEngine.getResolvedSegments=function(e){return ContextHub.SegmentEngine.SegmentManager.getResolvedSegments(e)};ContextHub.SegmentEngine.getSegment=function(e){return ContextHub.SegmentEngine.SegmentManager.getSegment(e)};ContextHub.SegmentEngine.getComparisonOperators=function(){return ContextHub.SegmentEngine.OperatorManager.getAllOperators()};ContextHub.SegmentEngine.getObjectValue=function(e){return null===
e||void 0===e?null:e instanceof ContextHub.SegmentEngine.Operator?e.isResolved():e instanceof ContextHub.SegmentEngine.Property?e.getValue():e instanceof ContextHub.SegmentEngine.ScriptReference?e.execute():e instanceof ContextHub.SegmentEngine.SegmentReference?e.isResolved():e}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine - ContextHub.SegmentEngine.Property.js");
(function(f,l){l.ContextHub.SegmentEngine=l.ContextHub.SegmentEngine||{};ContextHub.SegmentEngine.Property=function(e){var b=ContextHub.SegmentEngine.Property;if(!(this instanceof b))return ContextHub.Utils.inheritance.newInstance(b,arguments);e=ContextHub.Utils.JSON.tree.sanitizeKey(e);this.key="/"+e.join("/");this.storeName=e.shift();this.itemName=e.join("/")};ContextHub.SegmentEngine.Property.prototype.info={className:"Property",updateEvent:ContextHub.Constants.EVENT_STORE_UPDATED};ContextHub.SegmentEngine.Property.prototype.getKey=
function(){return this.key};ContextHub.SegmentEngine.Property.prototype.getStoreName=function(){return this.storeName};ContextHub.SegmentEngine.Property.prototype.getItemName=function(){return this.itemName};ContextHub.SegmentEngine.Property.prototype.getValue=function(){return ContextHub.get(this.key)};ContextHub.SegmentEngine.Property.prototype.toString=function(){return this.info.className+'("'+this.getKey()+'") -\x3e '+this.getValue()}})(ContextHubJQ,window);
ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine - ContextHub.SegmentEngine.Operator.js");
(function(f,l){l.ContextHub.SegmentEngine=l.ContextHub.SegmentEngine||{};ContextHub.SegmentEngine.Operator=function(e,b){var a=ContextHub.SegmentEngine.Operator;if(!(this instanceof a))return ContextHub.Utils.inheritance.newInstance(a,arguments);b=[].slice.call(arguments,1);this.operatorName=e;this.operatorArguments=b};ContextHub.SegmentEngine.Operator.prototype.getOperatorName=function(){return this.operatorName};ContextHub.SegmentEngine.Operator.prototype.getOperatorArguments=function(){return this.operatorArguments};
ContextHub.SegmentEngine.Operator.prototype.isResolved=function(){var e=!1,b=!0,a=this.getOperatorName(),d=/^and(\.|$)/.test(a),g=/^or(\.|$)/.test(a),l=this.getOperatorArguments();if((d||g)&&2>l.length){var m=l.length;0===m&&(l.push(null),l.push(null));1===m&&l.push(d?!0:null)}m=ContextHub.SegmentEngine.getObjectValue(l[0]);var r=f.type(m);r=ContextHub.SegmentEngine.OperatorManager.getOperator(a,r);var q=function(a){d&&!1===a&&(b=e=!1);g&&!0===a&&(e=!0,b=!1)};q(m);var t=l.length?l.slice(1):[null];
if(r&&b){var y=d||g?l.length:2;a=r.operatorName;t=[];for(var I=1;I<y&&b;I++){var A=ContextHub.SegmentEngine.getObjectValue(l[I]);t.push(A);q(A)}b&&(l=[m].concat([].slice.call(t)),e=r.handler.apply(this,l))}ContextHub.console.debug("    comparing:",m,a,t.length?t.join(" "+a+" "):t+"","\x3d",e);this._resolution=[a,e,[].concat.call([m],t)];return e};ContextHub.SegmentEngine.Operator.prototype.traverse=function(e,b){var a=[],d=function(d){if(!d||"function"===typeof d.isResolved)if("undefined"===typeof b||
"function"===typeof b&&b(d))a.push(d),"function"===typeof e&&e(d)};d(this);ContextHub.SegmentEngine.OperatorManager.getOperator(this.operatorName)&&f.each(this.getOperatorArguments(),function(g,l){l instanceof ContextHub.SegmentEngine.Operator?f.merge(a,l.traverse(e,b)):d(l)});return a};ContextHub.SegmentEngine.Operator.prototype.toString=function(){var e='Operator("'+this.getOperatorName()+'"';f.each(this.getOperatorArguments(),function(b,a){e+=", "+a});return e+=") -\x3e "+this.isResolved()}})(ContextHubJQ,
window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine - ContextHub.SegmentEngine.OperatorManager.js");
(function(f,l){l.ContextHub.SegmentEngine=l.ContextHub.SegmentEngine||{};var e={};ContextHub.SegmentEngine.OperatorManager={};ContextHub.SegmentEngine.OperatorManager.register=function(b,a){"string"===typeof b&&b.length&&!/\.$/.test(b)&&(e[b]={operatorName:b,handler:a})};ContextHub.SegmentEngine.OperatorManager.unregister=function(b){delete e[b]};ContextHub.SegmentEngine.OperatorManager.unregisterAllOperators=function(){e={}};ContextHub.SegmentEngine.OperatorManager.getAllOperators=function(){return e};
ContextHub.SegmentEngine.OperatorManager.getOperator=function(b,a){var d=(b||"").split(".",2);b=d.shift();d=d.shift()||"";return e[b+"."+d]||e[b+"."+a]||e[b]||null}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine - ContextHub.SegmentEngine.Segment.js");
(function(f,l){l.ContextHub.SegmentEngine=l.ContextHub.SegmentEngine||{};ContextHub.SegmentEngine.Segment=function(b,a){var d=ContextHub.SegmentEngine.Segment;if(!(this instanceof d))return ContextHub.Utils.inheritance.newInstance(d,arguments);d=b||{};"string"===typeof d?d={path:b}:d.length&&(d={name:d.shift(),path:d.shift(),boost:d.shift()});var g=f.trim(d.name),e=f.trim(d.path),l=parseInt(f.trim(d.boost),10)||0;0===g.length&&(g=e.split("/").pop());g=g.replace(/ /g,"-").replace(/[^a-z0-9\-]/ig,"").toLowerCase();
this.title=d.name;this.name=g;this.path=e;this.boost=l;this.register(a)};ContextHub.SegmentEngine.Segment.prototype.info={className:"Segment",updateEvent:ContextHub.Constants.EVENT_SEGMENT_UPDATED};ContextHub.SegmentEngine.Segment.prototype.register=function(b){0!==this.getPath().length&&!this.isRegistered()&&b instanceof ContextHub.SegmentEngine.Operator&&(this.cachedResult=null,this.condition=b,this.registered=this.enabled=!1,ContextHub.SegmentEngine.Dependency.findAllDependencies.call(this,this.getCondition()),
ContextHub.SegmentEngine.SegmentManager.register(this))};ContextHub.SegmentEngine.Segment.prototype.unregister=function(){this.enabled=this.registered=!1;this.condition=null;this.isResolved();ContextHub.SegmentEngine.SegmentManager.unregister(this.getPath())};ContextHub.SegmentEngine.Segment.prototype.isResolved=function(){var b=!1;if(null!==this.cachedResult)return ContextHub.console.debug('[+] Segment "'+this.getPath()+'" resolution (cached):',this.cachedResult),this.cachedResult;ContextHub.console.debug('[+] Segment "'+
this.getPath()+'" resolution:');this.isEnabled()&&this.isRegistered()&&(b=this.condition.isResolved());b!==this.cachedResult&&(this.cachedResult=b,ContextHub.eventing.trigger(this.info.updateEvent,{resolved:b,key:this.getPath(),action:"set",value:b},{defer:0,_:{resolved:b,path:this.getPath()}}));return b};var e=function(b,a){var d=b._resolution;a=a||[];if(d){var g=d.shift(),l=d.shift();d=d.shift();var m=g+" ("+l+")";g={};g[m]=d;if(a instanceof Array)a.push(g);else return g}f.each(b.operatorArguments,
function(b,d){if(d instanceof ContextHub.SegmentEngine.Operator){var g=(a instanceof Array?a[a.length-1]:a)[m];g[b]=e(d,"boolean"===typeof g[b]?{}:[])}});return a};ContextHub.SegmentEngine.Segment.prototype.debug=function(){var b=this.getCondition();if(b){var a=this.isResolved();b=e(b);ContextHub.console.debug("[todo] debug: ",a,b)}else ContextHub.console.debug('[-] [SegmentEngine] Segment "'+this.getPath()+'" is invalid.')};ContextHub.SegmentEngine.Segment.prototype.isRegistered=function(){return!0===
this.registered};ContextHub.SegmentEngine.Segment.prototype.isEnabled=function(){return!0===this.enabled};ContextHub.SegmentEngine.Segment.prototype.enable=function(){this.condition instanceof ContextHub.SegmentEngine.Operator&&(this.enabled=!0)};ContextHub.SegmentEngine.Segment.prototype.disable=function(){this.enabled=!1};ContextHub.SegmentEngine.Segment.prototype.getName=function(){return this.name};ContextHub.SegmentEngine.Segment.prototype.getTitle=function(){return this.title};ContextHub.SegmentEngine.Segment.prototype.getPath=
function(){return this.path};ContextHub.SegmentEngine.Segment.prototype.getBoost=function(){return this.boost};ContextHub.SegmentEngine.Segment.prototype.getCondition=function(){return this.condition};ContextHub.SegmentEngine.Segment.prototype.getDependencies=function(){return this.dependencyList||ContextHub.SegmentEngine.Dependency.getEmptyDependencyList()};ContextHub.SegmentEngine.Segment.prototype.onUpdate=function(b,a){var d=this.info.updateEvent;if("function"===typeof a)ContextHub.eventing.on(d,
function(a,b){b&&b.keys.all.hash[this.segment]&&this.handler()}.bind({segment:this.getPath(),handler:a}),b);else ContextHub.eventing.off(d,b)};ContextHub.SegmentEngine.Segment.prototype.toString=function(){var b='("'+this.getPath()+'", '+this.getBoost()+", "+this.getCondition()+")";return this.info.className+b+" -\x3e "+this.isResolved()}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine - ContextHub.SegmentEngine.SegmentReference.js");
(function(f,l){l.ContextHub.SegmentEngine=l.ContextHub.SegmentEngine||{};ContextHub.SegmentEngine.SegmentReference=function(e){var b=ContextHub.SegmentEngine.SegmentReference;if(!(this instanceof b))return ContextHub.Utils.inheritance.newInstance(b,arguments);this.segmentPath=f.trim(e)};ContextHub.SegmentEngine.SegmentReference.prototype.info={className:"SegmentReference",updateEvent:ContextHub.Constants.EVENT_SEGMENT_UPDATED};ContextHub.SegmentEngine.SegmentReference.prototype.getSegmentPath=function(){return this.segmentPath};
ContextHub.SegmentEngine.SegmentReference.prototype.isResolved=function(){var e=!1,b=ContextHub.SegmentEngine.SegmentManager.getSegment(this.getSegmentPath());b&&(e=b.isResolved());return e};ContextHub.SegmentEngine.SegmentReference.prototype.toString=function(){return this.info.className+'("'+this.getSegmentPath()+'") -\x3e '+this.isResolved()}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine - ContextHub.SegmentEngine.SegmentManager.js");
(function(f,l){l.ContextHub.SegmentEngine=l.ContextHub.SegmentEngine||{};var e={};ContextHub.SegmentEngine.SegmentManager={};ContextHub.SegmentEngine.SegmentManager.info={registerEvent:ContextHub.Constants.EVENT_SEGMENT_REGISTERED,unregisterEvent:ContextHub.Constants.EVENT_SEGMENT_UNREGISTERED};ContextHub.SegmentEngine.SegmentManager.register=function(b){if(!(b instanceof ContextHub.SegmentEngine.Segment&&b.getCondition()))return!1;e[b.getPath()]=b;b.enabled=!0;b.registered=!0;ContextHub.eventing.trigger(ContextHub.SegmentEngine.SegmentManager.info.registerEvent,
{key:b.getPath(),action:"set",value:"registered"},{defer:0});ContextHub.SegmentEngine.Dependency.dependencyMonitor(b,!0);b.isResolved();return!0};ContextHub.SegmentEngine.SegmentManager.unregister=function(b){if(b=b instanceof ContextHub.SegmentEngine.Segment?b:this.getSegment(b))b.registered=!1,b.disable(),delete e[b.getPath()],ContextHub.SegmentEngine.Dependency.dependencyMonitor(b,!1),b.cachedResult=null,b.dependencyList=ContextHub.SegmentEngine.Dependency.getEmptyDependencyList(),b.isResolved(),
ContextHub.eventing.trigger(ContextHub.SegmentEngine.SegmentManager.info.unregisterEvent,{segment:b,key:b.getPath(),action:"remove",value:"unregistered"},{defer:0})};ContextHub.SegmentEngine.SegmentManager.unregisterAllSegments=function(){f.each(e,function(b,a){a.unregister()})};ContextHub.SegmentEngine.SegmentManager.getAllSegments=function(){return e};ContextHub.SegmentEngine.SegmentManager.getSegment=function(b){return e[b]||null};ContextHub.SegmentEngine.SegmentManager.getResolvedSegments=function(b){var a=
!0===(b||{}).returnLookup,d=a?{}:[];b=ContextHub.Shared.timers.start();f.each(e,function(b,e){e.isResolved()&&(a?d[e.getPath()]=e:d.push(e))});ContextHub.console.log(ContextHub.Shared.timestamp(),"[+] checking resolved segments ("+ContextHub.Shared.timers.finish(b)+"ms)");return d};ContextHub.SegmentEngine.SegmentManager.getUnresolvedSegments=function(b){var a=!0===(b||{}).returnLookup,d=a?{}:[];b=ContextHub.Shared.timers.start();f.each(e,function(b,e){e.isResolved()||(a?d[e.getPath()]=e:d.push(e))});
ContextHub.console.log(ContextHub.Shared.timestamp(),"[+] checking unresolved segments ("+ContextHub.Shared.timers.finish(b)+"ms)");return d};ContextHub.SegmentEngine.SegmentManager.invalidateCache=function(){for(var b in e)e.hasOwnProperty(b)&&(e[b].cachedResult=null);return ContextHub.SegmentEngine.SegmentManager.getResolvedSegments()}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine - ContextHub.SegmentEngine.ScriptReference.js");
(function(f,l){l.ContextHub.SegmentEngine=l.ContextHub.SegmentEngine||{};ContextHub.SegmentEngine.ScriptReference=function(e,b){var a=ContextHub.SegmentEngine.ScriptReference;if(!(this instanceof a))return ContextHub.Utils.inheritance.newInstance(a,arguments);b=[].slice.call(arguments,1);this.scriptName=f.trim(e);this.scriptArguments=b;this.cachedResult=null;this.dependencyList=ContextHub.SegmentEngine.Dependency.getEmptyDependencyList();for(a=0;a<this.scriptArguments.length;a++)this.dependOn(this.scriptArguments[a]);
ContextHub.SegmentEngine.Dependency.dependencyMonitor(this,!0)};ContextHub.SegmentEngine.ScriptReference.prototype.info={className:"ScriptReference",updateEvent:ContextHub.Constants.EVENT_SCRIPT_UPDATED};ContextHub.SegmentEngine.ScriptReference.prototype.dependOn=function(e){ContextHub.SegmentEngine.Dependency.addDependency.call(this,e)};ContextHub.SegmentEngine.ScriptReference.prototype.getScriptName=function(){return this.scriptName};ContextHub.SegmentEngine.ScriptReference.prototype.getScriptHandler=
function(){return ContextHub.SegmentEngine.ScriptManager.getScript(this.getScriptName())};ContextHub.SegmentEngine.ScriptReference.prototype.getScriptArguments=function(){return this.scriptArguments};ContextHub.SegmentEngine.ScriptReference.prototype.getDependencies=function(){return this.dependencyList||ContextHub.SegmentEngine.Dependency.getEmptyDependencyList()};ContextHub.SegmentEngine.ScriptReference.prototype.execute=function(){var e=null,b=this.getScriptHandler();if(null!==this.cachedResult)return this.cachedResult;
if("function"===typeof b){var a=this.getScriptArguments(),d=[];f.each(a,function(a,b){a=ContextHub.SegmentEngine.getObjectValue(b);d.push(a)});try{e=b.apply(this,d)}catch(g){ContextHub.console.error('[-] [SegmentEngine] User script "'+this.getScriptName()+'" failed:',g),e=null}}this.cachedResult!==e&&(this.cachedResult=e,ContextHub.eventing.trigger(this.info.updateEvent+":"+this.getScriptName(),{script:this,key:this.getScriptName(),action:"set",resolved:e,value:e},{defer:0,_:{result:e,scriptName:this.getScriptName()}}));
return e};ContextHub.SegmentEngine.ScriptReference.prototype.isResolved=function(){return this.execute()};ContextHub.SegmentEngine.ScriptReference.prototype.toString=function(){var e=this.info.className+'("'+this.getScriptName()+'"';f.each(this.getScriptArguments(),function(b,a){"string"===typeof a&&(a='"'+a+'"');e+=", "+a});return e+=") -\x3e "+this.execute()}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine - ContextHub.SegmentEngine.ScriptManager.js");
(function(f,l){l.ContextHub.SegmentEngine=l.ContextHub.SegmentEngine||{};var e={};ContextHub.SegmentEngine.ScriptManager={};ContextHub.SegmentEngine.ScriptManager.register=function(a,b){"string"===typeof a&&a.length&&"function"===typeof b&&(e[a]=b,ContextHub.eventing.trigger(ContextHub.Constants.EVENT_SCRIPT_REGISTERED,{key:a,action:"set",value:"registered"},{defer:0}))};ContextHub.SegmentEngine.ScriptManager.unregister=function(a){this.isRegistered(a)&&ContextHub.eventing.trigger(ContextHub.Constants.EVENT_SCRIPT_UNREGISTERED,
{key:a,action:"remove",value:"unregistered"},{defer:0});delete e[a]};ContextHub.SegmentEngine.ScriptManager.unregisterAllScripts=function(){f.each(this.getAllScripts(),function(a){this.unregister(a)}.bind(this))};ContextHub.SegmentEngine.ScriptManager.getAllScripts=function(){return e};var b=function(a){ContextHub.console.error('[-] [SegmentEngine] User script "'+a+'" not found.');return function(){return null}};ContextHub.SegmentEngine.ScriptManager.getScript=function(a){return e[a]||b(a)};ContextHub.SegmentEngine.ScriptManager.isRegistered=
function(a){return!!e[a]}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine - ContextHub.SegmentEngine.Dependency.js");
(function(f,l){l.ContextHub.SegmentEngine=l.ContextHub.SegmentEngine||{};ContextHub.SegmentEngine.Dependency={};ContextHub.SegmentEngine.Dependency.allowedDependencies=[ContextHub.SegmentEngine.SegmentReference,ContextHub.SegmentEngine.ScriptReference,ContextHub.SegmentEngine.Property];ContextHub.SegmentEngine.Dependency.getEmptyDependencyList=function(){var b={};f.each(ContextHub.SegmentEngine.Dependency.allowedDependencies,function(a,d){b[d.prototype.info.className]={keys:[],updateEvent:null}});
return b};ContextHub.SegmentEngine.Dependency.addDependency=function(b){if(b){this.dependencyList=this.dependencyList||ContextHub.SegmentEngine.Dependency.getEmptyDependencyList();var a=null;if(b instanceof ContextHub.SegmentEngine.Property){var d=b.getKey();a=d.replace(/(^\/|\/$)/g,"").split(/\//).shift()||null}else d=b instanceof ContextHub.SegmentEngine.ScriptReference?b.getScriptName():b instanceof ContextHub.SegmentEngine.SegmentReference?b.getSegmentPath():null;if(d){var g=this.dependencyList[b.info.className];
g[d]||(g[d]=!0,g.keys.push(d));g.variant=b.info.className;g.updateEvent=b.info.updateEvent;a&&(g.stores=g.stores||{},g.stores[a]=!0)}}};ContextHub.SegmentEngine.Dependency.findAllDependencies=function(b){var a=(b||{}).operatorArguments;if(a){b=Math.min(a.length,/^(and|or)(\.|$)/.test(b.operatorName)?Number.MAX_VALUE:2);var d;for(d=0;d<b;d++){var g=a[d];g instanceof ContextHub.SegmentEngine.Operator?ContextHub.SegmentEngine.Dependency.findAllDependencies.call(this,g):ContextHub.SegmentEngine.Dependency.addDependency.call(this,
g)}}};var e=function(b,a){b=this.getDependencies();var d=null;a.channel===ContextHub.SegmentEngine.SegmentReference.prototype.info.updateEvent?d=b.SegmentReference:a.channel===ContextHub.SegmentEngine.ScriptReference.prototype.info.updateEvent?d=b.ScriptReference:a.channel===ContextHub.SegmentEngine.Property.prototype.info.updateEvent?d=b.Property:ContextHub.console.error("[-] [SegmentEngine] Unsupported event type:",a.channel);d&&ContextHub.SegmentEngine.Dependency.isMatching(a,d)&&(this.cachedResult=
null,this.isResolved())};ContextHub.SegmentEngine.Dependency.dependencyMonitor=function(b,a){if(b instanceof ContextHub.SegmentEngine.Segment||b instanceof ContextHub.SegmentEngine.ScriptReference){var d=(b.getPath||b.getScriptName).call(b).replace(/[^a-z]/ig,""),g=b.getDependencies(),f=[],l;for(l in g)if(g.hasOwnProperty(l)){var r=g[l];r.keys.length&&f.push(r.updateEvent)}if(f.length)if(f=f.join(" "),a)ContextHub.eventing.on(f,e.bind(b),d);else ContextHub.eventing.off(f,d)}};ContextHub.SegmentEngine.Dependency.isMatching=
function(b,a){var d=ContextHub.SegmentEngine.Dependency[(a||{}).variant+"Handler"];return"function"===typeof d?d.call(this,b,a):!1};ContextHub.SegmentEngine.Dependency.SegmentReferenceHandler=function(b,a){for(var d=0;d<a.keys.length;d++)if(b.keys.all.hash[a.keys[d]])return!0;return!1};ContextHub.SegmentEngine.Dependency.ScriptReferenceHandler=function(b,a){for(var d=0;d<a.keys.length;d++)if(b.keys.all.hash[a.keys[d]])return!0;return!1};ContextHub.SegmentEngine.Dependency.PropertyHandler=function(b,
a){if(a.stores[b.store])for(var d=0;d<a.keys.length;d++){var g=a.keys[d];g=g.substr(g.indexOf("/",1));if(b.keys.all.hash[g])return!0}return!1}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.operators - Operator.and.js");(function(){ContextHub.SegmentEngine.OperatorManager.register("and",function(f,l){return!(!f||!l)})})();ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.operators - Operator.or.js");
(function(){ContextHub.SegmentEngine.OperatorManager.register("or",function(f,l){return!(!f&&!l)})})();ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.operators - Operator.equal.js");
(function(f){var l=function(e){"boolean"!==typeof e&&(e=/^true$/i.test(f.trim(String(e))));return e};ContextHub.SegmentEngine.OperatorManager.register("equal",function(e,b){return e===b});ContextHub.SegmentEngine.OperatorManager.register("equal.string",function(e,b){e=String(e);b=String(b);return e===b});ContextHub.SegmentEngine.OperatorManager.register("equal.number",function(e,b){e=Number(String(e)||void 0);b=Number(String(b)||void 0);return e===b});ContextHub.SegmentEngine.OperatorManager.register("equal.boolean",
function(e,b){e=l(e);b=l(b);return e===b});ContextHub.SegmentEngine.OperatorManager.register("equal.date",function(e,b){e=new Date(e||void 0);b=new Date(b||void 0);return Number(e)===Number(b)});ContextHub.SegmentEngine.OperatorManager.register("equal.regexp",function(e,b){var a=!1;"string"===typeof e&&b&&(b instanceof RegExp||(b=new RegExp(b)),a=b.test(e));return a})})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.operators - Operator.not-equal.js");
(function(f){var l=function(e){return function(){return!e.apply(this,arguments)}};f.each(ContextHub.SegmentEngine.OperatorManager.getAllOperators(),function(e,b){/^equal(\.|$)/.test(e)&&ContextHub.SegmentEngine.OperatorManager.register("not-"+e,l(b.handler))})})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.operators - Operator.less-than.js");
(function(){ContextHub.SegmentEngine.OperatorManager.register("less-than",function(f,l){return f<l});ContextHub.SegmentEngine.OperatorManager.register("less-than.string",function(f,l){f=String(f);l=String(l);return f<l});ContextHub.SegmentEngine.OperatorManager.register("less-than.number",function(f,l){f=Number(String(f)||void 0);l=Number(String(l)||void 0);return f<l});ContextHub.SegmentEngine.OperatorManager.register("less-than.date",function(f,l){f=new Date(f||void 0);l=new Date(l||void 0);return Number(f)<
Number(l)})})();ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.operators - Operator.less-than-or-equal.js");
(function(f){var l=function(a,b){ContextHub.console.error("[-] [SegmentEngine] Comparison operator not found:",a+(b?"."+b:""));return function(){return!1}},e=function(a,b){return(ContextHub.SegmentEngine.OperatorManager.getOperator(a,b)||{}).handler||l(a,b)},b=function(a){var b=e("less-than",a),g=e("equal",a);return function(){return b.apply(this,arguments)||g.apply(this,arguments)}};f.each(ContextHub.SegmentEngine.OperatorManager.getAllOperators(),function(a){if(/^less-than(\.|$)/.test(a)){var d=
a.split(".",2);a=d.shift();d=d.shift();a=a.replace("less-than","less-than-or-equal");d&&(a+="."+d);ContextHub.SegmentEngine.OperatorManager.register(a,b(d))}})})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.operators - Operator.greater-than.js");
(function(){ContextHub.SegmentEngine.OperatorManager.register("greater-than",function(f,l){return f>l});ContextHub.SegmentEngine.OperatorManager.register("greater-than.string",function(f,l){f=String(f);l=String(l);return f>l});ContextHub.SegmentEngine.OperatorManager.register("greater-than.number",function(f,l){f=Number(String(f)||void 0);l=Number(String(l)||void 0);return f>l});ContextHub.SegmentEngine.OperatorManager.register("greater-than.date",function(f,l){f=new Date(f||void 0);l=new Date(l||
void 0);return Number(f)>Number(l)})})();ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.operators - Operator.greater-than-or-equal.js");
(function(f){var l=function(a,b){ContextHub.console.error("[-] [SegmentEngine] Comparison operator not found:",a+(b?"."+b:""));return function(){return!1}},e=function(a,b){return(ContextHub.SegmentEngine.OperatorManager.getOperator(a,b)||{}).handler||l(a,b)},b=function(a){var b=e("greater-than",a),g=e("equal",a);return function(){return b.apply(this,arguments)||g.apply(this,arguments)}};f.each(ContextHub.SegmentEngine.OperatorManager.getAllOperators(),function(a){if(/^greater-than(\.|$)/.test(a)){var d=
a.split(".",2);a=d.shift();d=d.shift();a=a.replace("greater-than","greater-than-or-equal");d&&(a+="."+d);ContextHub.SegmentEngine.OperatorManager.register(a,b(d))}})})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - PageInteraction.js");
(function(f,l){l.ContextHub.SegmentEngine.PageInteraction=l.ContextHub.SegmentEngine.PageInteraction||{};ContextHub.SegmentEngine.PageInteraction={};ContextHub.SegmentEngine.PageInteraction.info={propertyHolder:"data-contexthub-property",processorHolder:"data-processor",defaultHolder:"data-default-value"};ContextHub.SegmentEngine.PageInteraction.getPropertyPlaceholders=function(e){var b="["+ContextHub.SegmentEngine.PageInteraction.info.propertyHolder+(e?'^\x3d"%1"]':"]");e=f([b.replace(/%1/,"/"+e),
b.replace(/%1/,e)].join(", "));var a=[];f.each(e,function(b,g){b=ContextHub.SegmentEngine.PageInteraction.PropertyPlaceholder(g);b.isValid()&&a.push(b)});return a}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - PageInteraction.PropertyPlaceholder.js");
(function(f,l){l.ContextHub.SegmentEngine.PageInteraction=l.ContextHub.SegmentEngine.PageInteraction||{};var e=function(){var b=this.element.attr(ContextHub.SegmentEngine.PageInteraction.info.propertyHolder);this.element&&b?(b=ContextHub.Utils.JSON.tree.sanitizeKey(b),this.storeName=b.shift(),this.propertyName="/"+b.join("/"),this.keyName="/"+this.storeName+this.propertyName,this.defaultValue=f.trim(this.element.attr(ContextHub.SegmentEngine.PageInteraction.info.defaultHolder)||""),this.processors=
[],f.each((this.element.attr(ContextHub.SegmentEngine.PageInteraction.info.processorHolder)||"").split(/,/),function(a,b){a=f.trim(b);a.length&&this.processors.push(a)}.bind(this))):(this.defaultValue=this.propertyName=this.keyName=this.storeName=null,this.processors=[])};ContextHub.SegmentEngine.PageInteraction.PropertyPlaceholder=function(b){var a=ContextHub.SegmentEngine.PageInteraction.PropertyPlaceholder;if(!(this instanceof a))return ContextHub.Utils.inheritance.newInstance(a,arguments);this.element=
f(b);e.call(this)};ContextHub.SegmentEngine.PageInteraction.PropertyPlaceholder.prototype.update=function(b){e.call(this);var a=this.getValueProcessors();b||(b=ContextHub.get(this.getKey()));b&&""!==b||(b=this.getDefaultValue());for(var d=0;d<a.length;d++){var g=ContextHub.SegmentEngine.PageInteraction.PropertyProcessor.getProcessor(a[d]);b=f.trim(g.handler.call(this,b))}this.element.val()!==b&&this.element.text(b)};ContextHub.SegmentEngine.PageInteraction.PropertyPlaceholder.prototype.getPropertyName=
function(){e.call(this);return this.propertyName||""};ContextHub.SegmentEngine.PageInteraction.PropertyPlaceholder.prototype.getKey=function(){e.call(this);return this.keyName||""};ContextHub.SegmentEngine.PageInteraction.PropertyPlaceholder.prototype.getDefaultValue=function(){e.call(this);return this.defaultValue||""};ContextHub.SegmentEngine.PageInteraction.PropertyPlaceholder.prototype.getValueProcessors=function(){return this.processors||[]};ContextHub.SegmentEngine.PageInteraction.PropertyPlaceholder.prototype.isValid=
function(){return!!this.propertyName}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - PageInteraction.PropertyProcessor.js");
(function(f,l){l.ContextHub.SegmentEngine.PageInteraction=l.ContextHub.SegmentEngine.PageInteraction||{};var e={};ContextHub.SegmentEngine.PageInteraction.PropertyProcessor={};ContextHub.SegmentEngine.PageInteraction.PropertyProcessor.register=function(a,b){"string"===typeof a&&a.length&&(e[a]={processorName:a,handler:b})};ContextHub.SegmentEngine.PageInteraction.PropertyProcessor.unregister=function(a){delete e[a]};ContextHub.SegmentEngine.PageInteraction.PropertyProcessor.unregisterAllProcessors=
function(){e={}};ContextHub.SegmentEngine.PageInteraction.PropertyProcessor.getAllProcessors=function(){return e};var b={processorName:"default",handler:function(a){return a}};ContextHub.SegmentEngine.PageInteraction.PropertyProcessor.getProcessor=function(a){return e[a]||b}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - PageInteraction.Teaser.js");
(function(f,l){l.ContextHub.SegmentEngine.PageInteraction=l.ContextHub.SegmentEngine.PageInteraction||{};var e={analytics:1,design:1,disabled:1,preview:1,read_only:1},b=function(a){var b=a;if("ui"===ContextHub.Constants.MODE){var g=/[?&]wcmmode=([^&#]*)/.exec(l.location.href);g=g&&1<g.length?(g[1]||"").toLowerCase():ContextHub.Utils.Cookie.getItem("wcmmode");e[g]&&(b+=(-1===a.indexOf("?")?"?":"\x26")+"wcmmode\x3d"+g)}return b};ContextHub.SegmentEngine.PageInteraction.Teaser=function(a){var b=ContextHub.SegmentEngine.PageInteraction.Teaser;
if(!(this instanceof b))return ContextHub.Utils.inheritance.newInstance(b,arguments);a=a||{};this.details={locationId:f.trim(a.locationId),variants:a.variants||[],strategy:f.trim(a.strategy),trackingURL:f.trim(a.trackingURL)};this.register()};ContextHub.SegmentEngine.PageInteraction.Teaser.prototype.info={className:"Teaser",loadEvent:ContextHub.Constants.EVENT_TEASER_LOADED};ContextHub.SegmentEngine.PageInteraction.Teaser.prototype.register=function(){this.details.locationId.length&&this.details.variants.length&&
!this.isRegistered()&&(this.registered=ContextHub.SegmentEngine.PageInteraction.TeaserManager.register(this))};ContextHub.SegmentEngine.PageInteraction.Teaser.prototype.unregister=function(){this.registered=!1;ContextHub.SegmentEngine.PageInteraction.TeaserManager.unregister(this)};ContextHub.SegmentEngine.PageInteraction.Teaser.prototype.updatePlaceholder=function(){var a=this.getBestCandidate(),d=null;if(a){var g=this.currentlyLoaded||{};d=b(a.url);if(g.path===a.path&&g.url===d)return}a?(this.currentlyLoaded=
f.extend(!0,{},a,{url:d}),this.getVariantContent(d,function(b){f("#"+this.details.locationId).html(b);ContextHub.eventing.trigger(ContextHub.SegmentEngine.PageInteraction.Teaser.prototype.info.loadEvent,{teaser:this,variant:a,key:this.details.locationId,action:"set",value:"loaded"},{defer:0})}.bind(this))):delete this.currentlyLoaded};ContextHub.SegmentEngine.PageInteraction.Teaser.prototype.getVariantContent=function(a,b,g){var d=ContextHub.SegmentEngine.PageInteraction.Cache.get(a);d?b.call(this,
d.content,d.status,d.xhr):(d=f.ajax({url:a,async:!0}),d.done(function(d,g,e){ContextHub.SegmentEngine.PageInteraction.Cache.set(a,{content:d,status:g,xhr:e,url:a});b.call(this,d,g,e)}),"function"===typeof g&&d.fail(function(a){g.call(this,a)}))};ContextHub.SegmentEngine.PageInteraction.Teaser.prototype.getBestCandidate=function(){for(var a=null,b=[],g=[],e=ContextHub.SegmentEngine.SegmentManager.getResolvedSegments({returnLookup:!0}),f=this.details.variants,l=0;l<f.length;l++){var q=f[l],t=q.segments||
[],y=!1,I=!1;q.boost=0;if(0===t.length)I=y=!0;else for(var A=0;A<t.length;A++){var B=e[t[A]];"undefined"!==typeof B&&(y=!0,q.boost=Math.max(q.boost,B.boost||0))}y&&(I?g:b).push(q)}if(0===b.length||"random"===this.details.strategy)b=[].concat.call(b,g);b.length&&(b.sort(function(a,b){return b.boost-a.boost}),a=ContextHub.SegmentEngine.PageInteraction.StrategyManager.chooseCandidate(b,this.details.strategy));return a};ContextHub.SegmentEngine.PageInteraction.Teaser.prototype.getCurrentlyLoaded=function(){return this.currentlyLoaded||
null};ContextHub.SegmentEngine.PageInteraction.Teaser.prototype.isRegistered=function(){return!0===this.registered};ContextHub.SegmentEngine.PageInteraction.Teaser.prototype.getTeaserId=function(){return this.details.locationId};ContextHub.SegmentEngine.PageInteraction.Teaser.prototype.toString=function(){var a=[];f.each(a,function(b,g){a.push(b+': "'+g+'"')});return this.info.className+"("+a.join(", ")+")"}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - PageInteraction.TeaserManager.js");
(function(f,l){l.ContextHub.SegmentEngine.PageInteraction=l.ContextHub.SegmentEngine.PageInteraction||{};var e={};ContextHub.SegmentEngine.PageInteraction.TeaserManager={};ContextHub.SegmentEngine.PageInteraction.TeaserManager.info={registerEvent:ContextHub.Constants.EVENT_TEASER_REGISTERED,unregisterEvent:ContextHub.Constants.EVENT_TEASER_UNREGISTERED};ContextHub.SegmentEngine.PageInteraction.TeaserManager.register=function(b){if(!(b instanceof ContextHub.SegmentEngine.PageInteraction.Teaser))return!1;
e[b.getTeaserId()]=b;ContextHub.eventing.trigger(ContextHub.SegmentEngine.PageInteraction.TeaserManager.info.registerEvent,{teaser:b,key:b.getTeaserId(),action:"set",value:"registered"},{defer:0});return!0};ContextHub.SegmentEngine.PageInteraction.TeaserManager.unregister=function(b){if(b=b instanceof ContextHub.SegmentEngine.PageInteraction.Teaser?b:this.getTeaser(b))b.registered=!1,delete e[b.getTeaserId()],ContextHub.eventing.trigger(ContextHub.SegmentEngine.PageInteraction.TeaserManager.info.unregisterEvent,
{teaser:b,key:b.getTeaserId(),action:"remove",value:"unregistered"},{defer:0})};ContextHub.SegmentEngine.PageInteraction.TeaserManager.unregisterAllTeasers=function(){f.each(e,function(b,a){a.unregister()})};ContextHub.SegmentEngine.PageInteraction.TeaserManager.getAllTeasers=function(){return e};ContextHub.SegmentEngine.PageInteraction.TeaserManager.getTeaser=function(b){return e[b]||null};ContextHub.SegmentEngine.PageInteraction.TeaserManager.refreshAllTeasers=function(b){b&&ContextHub.SegmentEngine.SegmentManager.invalidateCache();
for(var a in e)e.hasOwnProperty(a)&&e[a].updatePlaceholder()}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - PageInteraction.StrategyManager.js");
(function(f,l){l.ContextHub.SegmentEngine.PageInteraction=l.ContextHub.SegmentEngine.PageInteraction||{};var e={};ContextHub.SegmentEngine.PageInteraction.StrategyManager={};ContextHub.SegmentEngine.PageInteraction.StrategyManager.register=function(a,b,g){"string"===typeof a&&a.length&&(e[a]={strategyName:a,displayName:b,handler:g})};ContextHub.SegmentEngine.PageInteraction.StrategyManager.unregister=function(a){delete e[a]};ContextHub.SegmentEngine.PageInteraction.StrategyManager.unregisterAllStrategies=
function(){e={}};ContextHub.SegmentEngine.PageInteraction.StrategyManager.getAllStrategies=function(){return e};var b={strategyName:"default",displayName:"Default (first teaser candidate)",handler:function(a){return(a||[])[0]||null}};ContextHub.SegmentEngine.PageInteraction.StrategyManager.getStrategy=function(a){return e[a]||b};ContextHub.SegmentEngine.PageInteraction.StrategyManager.chooseCandidate=function(a,b){return ContextHub.SegmentEngine.PageInteraction.StrategyManager.getStrategy(b).handler.call(this,
a)}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - PageInteraction.Cache.js");
(function(f,l){l.ContextHub.SegmentEngine.PageInteraction=l.ContextHub.SegmentEngine.PageInteraction||{};var e={};ContextHub.SegmentEngine.PageInteraction.Cache={};ContextHub.SegmentEngine.PageInteraction.Cache.set=function(b,a){e[b]=a};ContextHub.SegmentEngine.PageInteraction.Cache.get=function(b){return e[b]||null};ContextHub.SegmentEngine.PageInteraction.Cache.getAllItems=function(){return e||{}};ContextHub.SegmentEngine.PageInteraction.Cache.clear=function(b){delete e[b]};ContextHub.SegmentEngine.PageInteraction.Cache.clearAllItems=
function(){e={}}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - util.case-manipulation.js");
(function(){ContextHub.SegmentEngine.PageInteraction.PropertyProcessor.register("lower-case",function(f){return String(f).toLowerCase()});ContextHub.SegmentEngine.PageInteraction.PropertyProcessor.register("upper-case",function(f){return String(f).toUpperCase()});ContextHub.SegmentEngine.PageInteraction.PropertyProcessor.register("title-case",function(f){return String(f).toLowerCase().replace(/(^| )+(.)/g,function(f){return f.toUpperCase()})})})();
ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - util.number-formatting.js");(function(){ContextHub.SegmentEngine.PageInteraction.PropertyProcessor.register("timestamp-to-date",function(f){var l=function(e){return(9>=e?"0":"")+e};f=new Date(1E3*f);f=isNaN(f.getMilliseconds())?new Date:f;return[[f.getFullYear(),l(f.getMonth()+1),l(f.getDay())].join("-"),[l(f.getHours()),l(f.getMinutes()),l(f.getSeconds())].join(":")].join(" ")})})();
ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - task.page-update-watcher.js");
(function(f,l){var e=l.MutationObserver||l.WebKitMutationObserver;if(e){var b={childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0,attributeFilter:[ContextHub.SegmentEngine.PageInteraction.info.propertyHolder,ContextHub.SegmentEngine.PageInteraction.info.defaultHolder,ContextHub.SegmentEngine.PageInteraction.info.processorHolder]};f(function(){(new e(function(a){for(var b="["+ContextHub.SegmentEngine.PageInteraction.info.propertyHolder+"]",g=[],e=0;e<
a.length;e++){var l=a[e];f.merge(g,f(l.addedNodes).filter(b));l.attributeName&&l.target&&g.push(l.target)}f.each(f.unique(g),function(a,b){a=ContextHub.SegmentEngine.PageInteraction.PropertyPlaceholder(b);a.isValid()&&a.update()})})).observe(l.document.body,b)})}f(function(){var a=ContextHub.SegmentEngine.PageInteraction.getPropertyPlaceholders();f.each(a,function(a,b){b.isValid()&&b.update()})})})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - task.data-update-watcher.js");
(function(f){ContextHub.eventing.on(ContextHub.Constants.EVENT_STORE_UPDATED,function(l,e){l=ContextHub.SegmentEngine.PageInteraction.getPropertyPlaceholders((e||{}).store);f.each(l,function(b,a){var d=a.getPropertyName();b=this.eventData.keys.set.hash[d];d=this.eventData.keys.removed.hash[d];var g=b?b.value:void 0;(b||d)&&a.update(g)}.bind({eventData:e}))},"page-interaction",!0)})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - task.teaser-update.js");
(function(f){var l=0,e=function(){var a=ContextHub.SegmentEngine.PageInteraction.TeaserManager.getAllTeasers();f.each(a,function(a,b){b.isRegistered()&&b.updatePlaceholder()})},b=function(){80<=(new Date).getTime()-l?(e(),l=0):window.requestAnimationFrame(b)};ContextHub.eventing.once([ContextHub.Constants.EVENT_ALL_STORES_READY,ContextHub.Constants.EVENT_STORES_PARTIALLY_READY],function(){var a=[ContextHub.Constants.EVENT_SEGMENT_UPDATED,ContextHub.Constants.EVENT_STORE_UPDATED+":campaign",ContextHub.Constants.EVENT_TEASER_REGISTERED];
ContextHub.eventing.off(a,"teaser-updater");ContextHub.eventing.on(a,function(){var a=0===l;l=(new Date).getTime()+80;a&&b()},"teaser-updater",!0)},"teaser-initialization",!0)})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - strategy.first.js");(function(){ContextHub.SegmentEngine.PageInteraction.StrategyManager.register("first","First candidate",function(f){return(f||[])[0]||null})})();
ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - strategy.last.js");(function(){ContextHub.SegmentEngine.PageInteraction.StrategyManager.register("last","Last candidate",function(f){var l;f&&(l=f[f.length-1]);return l||null})})();ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - strategy.random.js");
(function(){ContextHub.SegmentEngine.PageInteraction.StrategyManager.register("random","Random",function(f){var l;f&&(l=f[Math.floor(Math.random()*f.length)]);return l||null})})();
(function(f,l){f.Granite=f.Granite||{};f.Granite.author=f.Granite.author||{};var e=function(b){this.document=b;this._getRules()};e.getNativeDevice=function(){var b=f.innerWidth||document.documentElement.clientWidth,a=f.innerHeight||document.documentElement.clientHeight,d=f.screen.width,g=f.screen.height;var e=document.body;var l=document.createElement("div");e.appendChild(l);l.style.width="1in";var r=document.defaultView.getComputedStyle(l,null).getPropertyValue("width");e.removeChild(l);e=parseFloat(r);
b={type:"screen",width:b,height:a,"device-width":d,"device-height":g,"device-pixel-ratio":1,resolution:e,scan:"progressive",grid:!1,color:f.screen.colorDepth,"color-index":f.screen.pixelDepth,monochrome:0};b["aspect-ratio"]=b.width/b.height;b.orientation=b.width>b.height?"landscape":"portrait";b["device-aspect-ratio"]=b["device-width"]/b["device-height"];return b};e.prototype={};Object.defineProperty(e.prototype,"appliedStyleSheet",{get:function(){for(var b=!0,a=this._appliedStyleSheet;a&&(a=a.parentNode);)if(a===
this.document){b=!1;break}if(!this._appliedStyleSheet||b)b=this.document,a=b.createElement("style"),a.appendChild(b.createTextNode("")),b.head.appendChild(a),this._appliedStyleSheet=a;return this._appliedStyleSheet}});e.prototype._getRules=function(){var b=[],a=e.parser.getMediaRules(this.document),d,g;for(d=0;d<a.length;d++){var f=[];var l=e.parser.parseMediaRule(a[d].media.mediaText);for(g=0;g<a[d].cssRules.length;g++)f.push(a[d].cssRules[g].cssText);b.push({mediaText:a[d].media.mediaText,cssRules:f,
parsed:l,mediaRule:a[d]})}this.rules=b};e.prototype.removeMediaRules=function(){for(var b=0;b<this.rules.length;b++)for(;this.rules[b].mediaRule.cssRules[0];)this.rules[b].mediaRule.deleteRule(0)};e.prototype.clear=function(){document.head.removeChild(this.appliedStyleSheet);this.appliedStyleSheet=null};e.prototype.restore=function(){var b,a;document.head.removeChild(this.appliedStyleSheet);this.appliedStyleSheet=null;for(b=0;b<this.rules.length;b++)try{var d=this.rules[b];for(a=0;a<d.cssRules.length;a++)d.mediaRule.insertRule(d.cssRules[a],
d.mediaRule.cssRules.length)}catch(g){}};e.prototype.applyDevice=function(b){var a,d;this.clear();this.removeMediaRules();this.appliedStyleSheet.sheet.insertRule("html, body { width: "+b.width+"px; }",0);for(a=0;a<this.rules.length;a++)try{var g=this.rules[a];if(e.parser.matchDevice(g.parsed,b))for(d=0;d<g.cssRules.length;d++)this.appliedStyleSheet.sheet.insertRule(g.cssRules[d],this.appliedStyleSheet.sheet.cssRules.length)}catch(p){}};e.prototype.prepareDevice=function(b){var a={type:b.type||"screen",
"device-pixel-ratio":b["device-pixel-ratio"]||1,resolution:b.resolution||96,scan:b.scan||"progressive",grid:!!b.grid,color:b.color||8,"color-index":b["color-index"]||0,monochrome:b.monochrome||0};a.width=Math.floor(b.width/a["device-pixel-ratio"]);a.height=Math.floor(b.height/a["device-pixel-ratio"]);a["device-width"]=b["device-width"]||a.width;a["device-height"]=b["device-height"]||a.height;a["aspect-ratio"]=b["aspect-ratio"]||b.width/b.height;a.orientation=b.orientation||(b.width>b.height?"landscape":
"portrait");a["device-aspect-ratio"]=b["device-aspect-ratio"]||b["device-width"]/b["device-height"];return a};f.Granite.author.MediaEmulator=e})(this);
(function(f,l){function e(a){var b=Number(a);b||(a=a.match(/^(\d+)\s*\/\s*(\d+)$/),b=a[1]/a[2]);return b}function b(a){var b=parseFloat(a);switch(String(a).match(r)[1]){case "dpcm":return b/2.54;case "dppx":return 96*b;default:return b}}function a(a){var b=parseFloat(a);switch(String(a).match(m)[1]){case "em":return 16*b;case "rem":return 16*b;case "cm":return 96*b/2.54;case "mm":return 96*b/2.54/10;case "in":return 96*b;case "pt":return 72*b;case "pc":return 72*b/12;default:return b}}var d=/^(?:(only|not)?\s*([_a-z][_a-z0-9-]*)|(\([^\)]+\)))(?:\s*and\s*(.*))?$/i,
g=/^\(\s*([_a-z-][_a-z0-9-]*)\s*(?::\s*([^\)]+))?\s*\)$/,p=/^(?:(min|max)-)?(.+)/,m=/(em|rem|px|cm|mm|in|pt|pc)?\s*$/,r=/(dpi|dpcm|dppx)?\s*$/;Granite.author.MediaEmulator.parser={getMediaRules:function(a){a=a.styleSheets;var b=[];for(var d=0;d<a.length;d++)try{var g=a[d];var e=g.cssRules;for(var f=0;f<(e?e.length:0);f++){var l=e[f];l.type===CSSRule.MEDIA_RULE&&b.push(l)}}catch(K){}return b},parseMediaRule:function(a){return a.split(",").map(function(a){a=a.trim().match(d);var b=((a[3]||"")+(a[4]||
"")).trim().match(/\([^\)]+\)/g),e={};e.not=!!a[1]&&"not"===a[1].toLowerCase();e.type=a[2]?a[2].toLowerCase():"all";e.expressions=b?b.map(function(a){a=a.match(g);var b=a[1].toLowerCase().match(p);return{modifier:b[1],feature:b[2],value:a[2]}}):[];return e})},matchDevice:function(d,g){for(var f,l,m=0;m<d.length;m++)if(f=d[m],l="all"===f.type||g.type===f.type,!(l&&f.not||!l&&!f.not)&&((l=f.expressions.every(function(d){var f=d.feature,l=d.modifier;d=d.value;var m=g[f];if(!m)return!1;switch(f){case "orientation":case "scan":return m.toLowerCase()===
d.toLowerCase();case "width":case "height":case "device-width":case "device-height":d=a(d);m=a(m);break;case "resolution":d=b(d);m=b(m);break;case "aspect-ratio":case "device-aspect-ratio":case "device-pixel-ratio":d=e(d);m=e(m);break;case "grid":case "color":case "color-index":case "monochrome":d=parseInt(d,10)||1,m=parseInt(m,10)||0}switch(l){case "min":return m>=d;case "max":return m<=d;default:return m===d}}))&&!f.not||!l&&f.not))return!0}}})(this);
ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.granite.emulators - store.emulators.js");
(function(f){var l={defaultEmulators:[{id:"ipad",title:"iPad",type:"tablet",platform:"iOS",platformVersion:"5.1.1",width:768,height:1024,canRotate:!0,orientation:"Portrait","device-pixel-ratio":1},{id:"ipad-2",title:"iPad 2",type:"tablet",platform:"iOS",platformVersion:"8.1.3",width:768,height:1024,canRotate:!0,orientation:"Portrait","device-pixel-ratio":1},{id:"ipad-3",title:"iPad 3 / 4 / Air",type:"tablet",platform:"iOS",platformVersion:"8.1.3",width:1536,height:2048,canRotate:!0,orientation:"Portrait",
"device-pixel-ratio":2},{id:"iphone-4",title:"iPhone 4",type:"mobile",platform:"iOS",platformVersion:"7.1.2",width:640,height:960,canRotate:!0,orientation:"Portrait","device-pixel-ratio":2},{id:"iphone-5",title:"iPhone 5",type:"mobile",platform:"iOS",platformVersion:"8.1.3",width:640,height:1136,canRotate:!0,orientation:"Portrait","device-pixel-ratio":2},{id:"iphone-6",title:"iPhone 6",type:"mobile",platform:"iOS",platformVersion:"8.1.3",width:750,height:1334,canRotate:!0,orientation:"Portrait","device-pixel-ratio":2},
{id:"iphone-6-plus",title:"iPhone 6 Plus",type:"mobile",platform:"iOS",platformVersion:"8.1.3",width:1080,height:1920,canRotate:!0,orientation:"Portrait","device-pixel-ratio":3},{id:"galaxy-s4",title:"Samsung Galaxy S4",type:"mobile",platform:"Android",platformVersion:"4.4.2 KitKat",width:1080,height:1920,canRotate:!0,orientation:"Portrait","device-pixel-ratio":3}]},e=function(b,a){this.config=f.extend(!0,{},l,a);a=this.getSupportedEmulators();f.extend(!0,this.config,{initialValues:{devices:a,currentDeviceId:a[0].id,
orientations:[{id:"landscape",title:"Landscape"},{id:"portrait",title:"Portrait"}]}});this.init(b,this.config);this.mediaEmulator=null;window.Granite&&Granite.author&&Granite.author.MediaEmulator&&(this.mediaEmulator=new Granite.author.MediaEmulator(window.document));this.emulateDevice(this.getItem("currentDeviceId")||"native")};ContextHub.Utils.inheritance.inherit(e,ContextHub.Store.PersistedStore);e.prototype.detectNativeDevice=function(){var b=window.innerWidth||document.documentElement.clientWidth,
a=window.innerHeight||document.documentElement.clientHeight,d=b>a?"Landscape":"Portrait",g=ContextHub.get("surferinfo/os/name")||"",e=ContextHub.get("surferinfo/os/version")||"";return{id:"native",title:"Native",type:"screen",width:b,height:a,orientation:d,platform:g,platformVersion:e,canRotate:!/mac os x|windows/i.test(g)}};e.prototype.getSupportedEmulators=function(){return f.merge([this.detectNativeDevice()],this.config.defaultEmulators)};e.prototype.emulateDevice=function(b){var a=b?this.getDeviceById(b):
ContextHub.get("emulators/currentDevice");a&&this.mediaEmulator&&(this.setItem("currentDeviceId",a.id),this.setItem("currentDevice",a),"native"===b?this.mediaEmulator.restore():this.mediaEmulator.applyDevice(a),this.eventing.trigger("emulating-device:"+a.id,{device:a}));return a};e.prototype.getDeviceById=function(b){var a=null,d=this.getItem("devices")||[];f.each(d,function(d,e){e.id===b&&(a=e);return null===a});return a};e.prototype.reset=function(){this.uber("reset");var b=this.getItem("currentDeviceId");
this.emulateDevice(b)};ContextHub.Utils.storeCandidates.registerStoreCandidate(e,"granite.emulators",0)})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.contexthub.geolocation - store.geolocation-basic.js");
(function(f,l){var e={html5coordinatesDiscoveryAPI:{timeout:3E4,ttl:9E5,highAccuracy:!1},initialValues:{latitude:37.331375,longitude:-121.893992}},b=function(a,b){this.config=f.extend(!0,{},e,b);this.init(a,this.config);f.extend(this.config.html5coordinatesDiscoveryAPI,{location:this.config.initialValues});this.updateLocationModule()};ContextHub.Utils.inheritance.inherit(b,ContextHub.Store.PersistedStore);b.prototype.getCoordinates=function(){var a=f.Deferred();if(!l.navigator.geolocation)return a.reject();
var b=this.config.html5coordinatesDiscoveryAPI;l.navigator.geolocation.getCurrentPosition(a.resolve,a.reject,{maximumAge:b.ttl,timeout:b.timeout,enableHighAccuracy:b.highAccuracy});return a.promise()};b.prototype.loadCurrentLocation=function(){var a=this;f.when(this.getCoordinates()).then(function(b){a.loadLocation(b.coords||{})})};b.prototype.loadLocation=function(a){a=a||{};f.isNumeric(a.latitude)&&f.isNumeric(a.longitude)&&(this.storeLocation(a,{}),this.updateLocationModule())};b.prototype.storeLocation=
function(a,b){a=f.extend(b,a);this.setItem("latitude",parseInt(1E6*a.latitude,10)/1E6);this.setItem("longitude",parseInt(1E6*a.longitude,10)/1E6)};b.prototype.areCoordinatesSet=function(){return f.isNumeric(this.getItem("latitude"))&&f.isNumeric(this.getItem("longitude"))};b.prototype.updateLocationModule=function(){var a=this,b=!0;b&&!this.areCoordinatesSet()&&(b=!1);b||f.when(this.getCoordinates()).then(function(b){a.storeLocation(b.coords||{},a.config.html5coordinatesDiscoveryAPI.location)},function(){a.storeLocation({},
a.config.html5coordinatesDiscoveryAPI.location)})};ContextHub.Utils.storeCandidates.registerStoreCandidate(b,"contexthub.geolocation",10,function(){var a=ContextHub.Utils.JSON.tree.getItem(l.ContextHubKernelConfig||{},"stores/geolocation/config/geocoder")||{enabled:!1};return"geolocation"in l.navigator&&!a.enabled})})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.contexthub.geolocation - store.geolocation.js");
(function(f,l){var e={service:{jsonp:!1,timeout:1E3,ttl:18E5,secure:"https:"===l.location.protocol,host:"maps.googleapis.com",port:80,path:"/maps/api/geocode/json"},geocoder:{enabled:!1},eventDeferring:16,html5coordinatesDiscoveryAPI:{timeout:3E4,ttl:9E5,highAccuracy:!1},signatureGenerator:ContextHub.Paths.CONTEXTHUB_PATH+"/geolocation.signature.json",initialValues:{defaultLocation:{latitude:37.331375,longitude:-121.893992,address:{country:"United States",countryCode:"US",city:"San Jose",street:"Almaden Blvd",
streetNumber:"151",region:"CA",name:"151 Almaden Blvd, San Jose, CA 95113, USA",postalCode:"95113"},addressDetailsOf:{latitude:37.331375,longitude:-121.893992}}}},b=function(a,b){this.config=f.extend(!0,{},e,b);f.extend(this.config.service,{params:{sensor:!1,latlng:"${contexthub:/store/"+a+"/latitude},${contexthub:/store/"+a+"/longitude}"}});this.init(a,this.config);this.useGeocoder=!0===this.config.geocoder.enabled&&"ui"===ContextHub.Constants.MODE;d(this);this.useGeocoder||(this.announceReadiness(),
this.removeItem("/address"));ContextHub.eventing.on("ui-container-opened",function(){this.queryService(!1,!0)}.bind(this),"geocoder-trigger",!0);this.queryService(!1,!0)},a=function(a){a&&a.loadLocation({latitude:a.getItem("latitude"),longitude:a.getItem("longitude")})},d=function(b){var d={latitude:!0,longitude:!0};b.onUpdate("data-synchronization",function(g,e){if(l.ClientContext){var m=!1;b.synchronizationLock=!0;f.each(e.keys.all.hash,function(a,b){a=a.replace(/^\//,"");-1===a.indexOf("_/")&&
(ClientContext.set("geolocation/"+a,b.value),m=m||d[a])});delete b.synchronizationLock;m&&a(b)}});var g=function(a){a&&a.addListener("update",function(a,d){b.synchronizationLock||"string"!==typeof d||(a=this.getProperty(d),b.setItem(d,a))})};if(l.CQ_Analytics&&CQ_Analytics.ClientContextMgr){var e=function(){var a=CQ_Analytics.ClientContextMgr.getRegisteredStore("geolocation");if(a){var d={generatedThumbnail:!0};b.synchronizationLock=!0;f.each(b.getKeys(),function(g,e){g=e.replace(/^\//,"");e=b.getItem(e);
"object"!==typeof e&&(d[g]=!0,a.setProperty(g,e))});f.each(a.getData(),function(b){d[b]||a.removeProperty(b)});delete b.synchronizationLock}return a};if(CQ_Analytics.ClientContextMgr.getRegisteredStore("geolocation")){var q=e();g(q)}else CQ_Analytics.ClientContextMgr.addListener("storeregister",function(a,b){"geolocation"===b.STORENAME&&(a=e(),g(a))})}};ContextHub.Utils.inheritance.inherit(b,ContextHub.Store.PersistedJSONPStore);b.prototype.getCoordinates=function(){var a=f.Deferred();if(!l.navigator.geolocation)return a.reject();
l.navigator.geolocation.getCurrentPosition(a.resolve,a.reject,{maximumAge:this.config.html5coordinatesDiscoveryAPI.ttl,timeout:this.config.html5coordinatesDiscoveryAPI.timeout,enableHighAccuracy:this.config.html5coordinatesDiscoveryAPI.highAccuracy});return a.promise()};b.prototype.generateSignature=function(a,b){if(this.useGeocoder&&ContextHub.UI&&ContextHub.UI.Container.isExpanded()){var d=this.getItem("addressDetailsOf")||{},g=this.getItem("latitude"),e=this.getItem("longitude");if(d.latitude!==
g||d.longitude!==e)if((d=this.config.initialValues.defaultLocation)&&g===d.latitude&&e===d.longitude)this.setItem("address",d.address),this.setItem("addressDetailsOf",d.addressDetailsOf);else{delete this.config.service.params.client;delete this.config.service.params.signature;delete this.config.service.params.channel;g=this.getServiceURL(!0);g=g.replace(/^https?:\/\/[^/]*/,"");var l=this;f.ajax({url:this.config.signatureGenerator,method:"get",dataType:"json",cache:!1,data:{url:g}}).done(function(d,
g,e){e&&e.responseJSON?(d=l.config.service.params,d.client=e.responseJSON.client||"",d.channel=e.responseJSON.channel||"",d.signature=e.responseJSON.signature||"",a()):"function"===typeof b&&b()}).fail(b)}}};b.prototype.loadCurrentLocation=function(){var a=this;f.when(this.getCoordinates()).then(function(b){a.loadLocation(b.coords||{})})};b.prototype.loadLocation=function(a){a=a||{};(e.initialValues.latitude!==a.latitude||e.initialValues.longitude!==a.longitude)&&f.isNumeric(a.latitude)&&f.isNumeric(a.longitude)&&
(this.storeLocation(a,{}),this.queryService(!1,!0))};b.prototype.successHandler=function(a){if(a&&"OK"===a.status){var b=null,d=null,g=null,e=null,l=null,y=null,I=null,A=null;f.each((a.results||[]).reverse(),function(a,m){m=m||{};A=m.formatted_address||A;f.each(m.address_components||[],function(a,m){a=m.types||[];-1!==f.inArray("administrative_area_level_1",a)&&(y=m.short_name||y);-1!==f.inArray("country",a)&&(b=m.long_name||b,d=m.short_name||d);-1!==f.inArray("locality",a)&&(g=m.short_name||g);-1!==
f.inArray("route",a)&&(e=m.short_name||e);-1!==f.inArray("street_number",a)&&(l=m.short_name||l);-1!==f.inArray("postal_code",a)&&(I=m.short_name||I)})});this.setItem("address",{country:b||"",countryCode:d||"",city:g||"",street:e||"",streetNumber:l||"",region:y||"",name:A||"",postalCode:I||""});this.setItem("addressDetailsOf",{latitude:this.getItem("latitude"),longitude:this.getItem("longitude")})}return a};b.prototype.failureHandler=function(a){ContextHub.console.log("Error while getting geolocation information:",
a)};b.prototype.storeLocation=function(a,b){a=f.extend(b,a);this.setItem("latitude",parseInt(1E6*a.latitude,10)/1E6);this.setItem("longitude",parseInt(1E6*a.longitude,10)/1E6)};b.prototype.areCoordinatesSet=function(){return f.isNumeric(this.getItem("latitude"))&&f.isNumeric(this.getItem("longitude"))};b.prototype.queryService=function(a,b){var d=this;b&&!this.areCoordinatesSet()&&(b=!1);b?this.generateSignature(function(){d.uber("queryService",a)}):f.when(this.getCoordinates()).then(function(b){d.storeLocation(b.coords||
{},d.config.initialValues.defaultLocation);d.generateSignature(function(){d.uber("queryService",a)})},function(b){d.failureHandler(b);d.storeLocation({},d.config.initialValues.defaultLocation);d.generateSignature(function(){d.uber("queryService",a)})})};ContextHub.Utils.storeCandidates.registerStoreCandidate(b,"contexthub.geolocation",30,function(a){var b=null;this.store!==a&&(b=ContextHub.Utils.storeCandidates.getStoreFromCandidates({type:"contexthub.geolocation",required:!0}));return"geolocation"in
l.navigator&&!b})})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] cq.contexthub - store.clientcontext-backedstore.js (clientcontext connector)");
(function(f){window.ContextHub.Store=window.ContextHub.Store||{};ContextHub.Store.ClientContextBackedStore=function(){};ContextHub.Utils.inheritance.inherit(ContextHub.Store.ClientContextBackedStore,ContextHub.Store.PersistedJSONPStore);ContextHub.Store.ClientContextBackedStore.defaultConfig={mappingConfig:{propertyMapping:{},mapOtherProperties:!0,replicateToClientContext:!0}};ContextHub.Store.ClientContextBackedStore.prototype.init=function(l,e){this.uber("init",l,e);this.config=f.extend(!0,{},this.config,
ContextHub.Store.ClientContextBackedStore.defaultConfig,e)};ContextHub.Store.ClientContextBackedStore.prototype.successHandler=function(l){var e=this.isEventingPaused(),b=this.config.mappingConfig.clientContextStoreName,a={},d;if(!this.preventSelfUpdating){this.preventSelfUpdating=!0;l=l||function(a,b){return b};this.pauseEventing();this.setItem("/",{});f.each(this.config.mappingConfig.propertyMapping,function(g,e){a[e]=!0;d=ClientContext.get(b+"/"+e);d=l(e,d);this.setItem("/"+g,d)}.bind(this));if(this.config.mappingConfig.mapOtherProperties){var g=
ClientContext.get(b).data||{};f.each(g,function(b,d){a[b]||(d=l(b,d),this.setItem("/"+b,d))}.bind(this))}e||this.resumeEventing();this.preventSelfUpdating=!1}};ContextHub.Store.ClientContextBackedStore.prototype.failureHandler=function(f){};ContextHub.Store.ClientContextBackedStore.prototype.queryService=function(f,e){var b=this.config.mappingConfig.clientContextStoreName,a=this,d=function(){var d=ClientContext.get(b),f=a.isEventingPaused();a.pauseEventing();d?(d.addListener("update",function(){!0!==
a.preventSelfUpdating&&a.successHandler(e)}),a.successHandler(e)):a.failureHandler();f||a.resumeEventing();a.announceReadiness()};ClientContext.get(b)?d():CQ_Analytics.ClientContextMgr.addListener("storeregister",function(a,e){e.STORENAME===b&&d()})};ContextHub.Store.ClientContextBackedStore.prototype.setItem=function(f,e){this.uber("setItem",f,e);if(this.config.mappingConfig.replicateToClientContext&&!0!==this.preventSelfUpdating&&(f=f.replace(/^\//,""),f.length)){var b=this.config.mappingConfig.propertyMapping[f];
!b&&this.config.mappingConfig.mapOtherProperties&&(b=f);b&&ClientContext.set(this.config.mappingConfig.clientContextStoreName+"/"+b,e)}};ContextHub.Store.ClientContextBackedStore.prototype.removeItem=function(f){this.uber("removeItem",f);if(this.config.mappingConfig.replicateToClientContext&&!0!==this.preventSelfUpdating){var e=f.replace(/^\//,"");e.length&&(f=this.config.mappingConfig.propertyMapping[e],!f&&this.config.mappingConfig.mapOtherProperties&&(f=e),f&&(e=CQ_Analytics.StoreRegistry.getStore(this.config.mappingConfig.clientContextStoreName))&&
e.removeProperty(f))}}})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.contexthub.geolocation - store.clientcontext-geolocation.js (clientcontext connector)");
(function(f){var l={mappingConfig:{clientContextStoreName:"geolocation",propertyMapping:{},mapOtherProperties:!0,replicateToClientContext:!0}},e=function(b,a){this.config=f.extend(!0,{},l,a);this.init(b,this.config);this.queryService(!0)};ContextHub.Utils.inheritance.inherit(e,ContextHub.Store.ClientContextBackedStore);e.prototype.loadLocation=function(b){var a=ClientContext.get(this.config.mappingConfig.clientContextStoreName);a&&(a.setProperties(b),a.fireEvent("update"))};e.prototype.reset=function(){var b=
ClientContext.get(this.config.mappingConfig.clientContextStoreName);b&&b.reset()};ContextHub.Utils.storeCandidates.registerStoreCandidate(e,"contexthub.geolocation",20,function(){return!!window.ClientContext})})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.granite.profile - store.profile.js");
(function(f){var l={service:{jsonp:!1,timeout:1E3,path:"${contexthub:/store/profile/path}.infinity.json"},initialValues:{path:ContextHub.Constants.ANONYMOUS_HOME||"/home/users/a/anonymous"}},e=function(a){a=(new Date(a)).getTime();return~~((Date.now()-a)/315576E5)},b=function(a,b){this.config=f.extend(!0,{},l,b);this.init(a,this.config);this.onUpdate("age-update",function(a,b){var d=b.keys.set.hash["/birthday"];if(d){var g=this;window.setTimeout(function(){g.setItem("age",e(d.value))},50)}});this.queryService(!1)};
ContextHub.Utils.inheritance.inherit(b,ContextHub.Store.PersistedJSONPStore);b.prototype.successHandler=function(a){this.pauseEventing();var b=this.getItem("path");b&&(b=Granite.HTTP.externalize(b));var g=f.extend(!0,{},a.profile),l=!!ContextHub.Utils.JSON.tree.getItem(g,"/photos/primary/image"),m=/\/(jcr|sling|):/;f.each(ContextHub.Utils.JSON.tree.getKeys(g),function(a,b){b.match(m)&&(g=ContextHub.Utils.JSON.tree.removeItem(g,b))});g=ContextHub.Utils.JSON.tree.setItem(g,"path",b);l&&(g=ContextHub.Utils.JSON.tree.setItem(g,
"avatar",b+"/profile/photos/primary/image"));g.birthday&&(g=ContextHub.Utils.JSON.tree.setItem(g,"age",e(g.birthday)));g.authorizableId=g.authorizableId||a["rep:authorizableId"];a="anonymous";g.givenName&&g.familyName?a=parent.Granite.I18n.get("{0} {1}",[g.givenName,g.familyName],"name display order: {0} is the given (first) name, {1} the family (last) name"):g.givenName?a=g.givenName:g.familyName?a=g.familyName:g.authorizableId&&(a=g.authorizableId);g=ContextHub.Utils.JSON.tree.setItem(g,"displayName",
a);this.setItem("/",g);a="anonymous"===g.displayName?"anonymous":g.authorizableId;ContextHub.Shared.CookieContainer.setItem("SessionPersistence","PROFILEDATA",a?"authorizableId\x3d"+a:null);this.resumeEventing()};b.prototype.loadProfile=function(a){var b=ContextHub.getStore("profile");b.setItem("path",a?Granite.HTTP.externalize(a):a);b.queryService(!0)};ContextHub.Utils.storeCandidates.registerStoreCandidate(b,"granite.profile",0)})(ContextHubJQ);
ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.granite.profile - store.clientcontext-profile.js (clientcontext connector)");
(function(f){var l={mappingConfig:{clientContextStoreName:"profile",propertyMapping:{displayName:"formattedName",path:"path",avatar:"avatar"},mapOtherProperties:!0,replicateToClientContext:!0}},e=function(a,b){"path"===a&&"string"===typeof b&&(b=b.replace(/\/profile$/,""));return b},b=function(a,b){this.config=f.extend({},!0,l,b);this.init(a,this.config);this.queryService(!0,e)};ContextHub.Utils.inheritance.inherit(b,ContextHub.Store.ClientContextBackedStore);b.prototype.loadProfile=function(a){a=
(a||"").split("/").pop();a.length&&ClientContext.get(this.config.mappingConfig.clientContextStoreName).loadProfile(a)};b.prototype.reset=function(){var a=ClientContext.get(this.config.mappingConfig.clientContextStoreName);a&&a.reset()};ContextHub.Utils.storeCandidates.registerStoreCandidate(b,"granite.profile",10,function(){return!!window.ClientContext})})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.contexthub.surferinfo - store.surferinfo.js");
(function(f,l){function e(a,b){this.init(a,b);this.config=f.extend({},this.config,b);this.readData()}var b,a=function(a,d){var g={};g[a]=d;b=f.extend(!0,b,g);return g},d=function(){var a,b="Opera Chromium Chrome Safari Edge Trident MSIE Firefox AppleWebKit".split(" "),d=l.navigator.userAgent;(a=d.match(new RegExp("( |^)("+b.join("|")+")(/| )[0-9.]*","ig")))?(a=f.map(a,function(a){a=f.trim(a).split(/[\/ ]/);return{version:a.pop(),family:a.pop()}}),a=a.sort(function(a,d){return a.family===d.family?
a.version<d.version?-1:1:f.inArray(a.family,b)<f.inArray(d.family,b)?-1:1}),a=a.shift(),"Trident"===a.family&&(a.family="MSIE",a.version={"7.0":"11","6.0":"10","5.0":"9","4.0":"8"}[a.version])):a={version:"Unresolved",family:"Unresolved"};return f.extend(a,{userAgent:d})};ContextHub.Utils.inheritance.inherit(e,ContextHub.Store.PersistedStore);e.prototype.readData=function(){b={};var g=this.getItem("display"),e=l.devicePixelRatio||1;if(!g){g=l.screen.colorDepth;var m={width:l.screen.width*e,height:l.screen.height*
e},r=Math.pow(2,g),q=f("\x3cdiv\x3e").css({width:"1in",visibility:"hidden",position:"absolute",top:0,left:0});q.appendTo(f("body"));var t=q.innerWidth();q.detach();var y=l.orientation;"undefined"===typeof y?(q=l.screen.width>l.screen.height?"landscape":"portrait",y="normal"):-90===y||90===y?(q="landscape",y=90===y?"left":"right"):(q="portrait",y=0===y?"normal":"upside-down");g=a("display",{resolution:m,devicePixelRatio:e,colorDepth:g,nrOfColors:r,pixelsPerInch:t,orientation:{mode:q,direction:y}}).display.resolution}this.getItem("window")||
(e=a("window",{dimension:{width:f(l).innerWidth()*e,height:f(l).innerHeight()*e}}).window.dimension,a("window",{percentageUsage:Math.floor(e.width*e.height/(g.width*g.height)*100)/100}));this.getItem("browser")||a("browser",d());e=null;g=l.navigator.userAgent;t=g.match(/mobile|touch/i);q=g.match(/tablet/i);y=g.match(/iphone/i);var I=g.match(/ipod/i),A=g.match(/ipad/i),B=g.match(/htc/i),C=g.match(/(BlackBerry)([^/]*)\/([0-9.]*)/i),K=g.match(/GT-([^ ]*)/),Q=g.match(/ipad|ipod|iphone/i);m=g.match(/android/i);
var T=g.match(/windows/i),V=g.match(/(mobile|tablet);/i)&&g.match(/; rv:/i);r="Desktop";y||I||m&&t||T&&t||C&&t||V&&t?r="Mobile":(A||m&&q||T&&q||C&&q||V&&q)&&(r="Tablet");if(Q){e="iOS";var D=Q.shift();var G=(g.match("OS ([0-9_]*)")||[""]).pop().replace(/_/g,".")}!e&&T&&(e="windows");!e&&B&&(e="Android",D=B.shift(),G=(g.match("HTC[_ /]([^ _;-]*)")||[""]).pop());!e&&C&&4===C.length&&(e="Blackberry",D=C.slice(1,3).join(" "),G=C.pop());!e&&K&&(G=K.pop(),e="Android",D="Samsung "+({I90:"Galaxy S",I91:"Galaxy S II",
I93:"Galaxy S III",I95:"Galaxy S IV",N70:"Note",N71:"Note II",P31:"Tab",P51:"Tab II"}[G.slice(0,3)]||"GT-"+G),G=(g.match("Android ([0-9.]*)")||[G]).pop());!e&&m&&(e="Android",D="Unresolved",G=(g.match("Android ([0-9.]*)")||[""]).pop());e||(e="Desktop",D="PC",G="");D={category:r,type:e,model:D,version:G};this.getItem("device")||a("device",D);this.getItem("isMobile")||a("isMobile","desktop"!==D.type);if(!this.getItem("os")){D=null;G=l.navigator.userAgent;if(G.match(/Mac OS X|Macintosh/)){D="Mac OS X";
var M=(G.match(/(Mac OS X|CPU OS) ([0-9_]*)/)||[""]).pop().replace(/_/g,".");M=(G.match(/iPod|iPad|iPhone/)?"iOS ":"")+M}D||-1===G.indexOf("Windows")||(D="Windows",M={"NT 10.0":"10","NT 6.3":"8.1","NT 6.2":"8","NT 6.1":"7","NT 6.0":"Vista","NT 5.2":"XP x64","NT 5.1":"XP","NT 5.01":"2000 SP1","NT 5.0":"2000","NT 4.0":"NT 4.0",98:"98","NT 95":"95","NT CE":"CE"}[G.match(/Windows (.+?);/).pop()],"98"===M&&-1!==G.indexOf("Win 9x 4.90")&&(M="ME"));!D&&G.match(/Linux/)&&(D="Linux",M=null);!D&&G.match(/Android/)&&
(D="Android",M=(G.match("Android ([0-9.]*)")||[""]).pop());a("os",{name:D||"Unresolved",version:M||"Unresolved"})}M=new Date;b.year=M.getFullYear();b.month=M.getMonth()+1;b.day=M.getDate();b.hour=M.getHours();b.minutes=M.getMinutes();this.addAllItems(b,{defer:0})};e.prototype.reset=function(a){this.uber("reset",a);this.readData()};ContextHub.Utils.storeCandidates.registerStoreCandidate(e,"contexthub.surferinfo",0)})(ContextHubJQ,this);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.aem.analyticsdata - store.analyticsdata.js");
(function(f){var l={},e=function(b,a){this.init(b,this.config);this.config=f.extend(!0,{},l,a)};ContextHub.Utils.inheritance.inherit(e,ContextHub.Store.SessionStore);ContextHub.Utils.storeCandidates.registerStoreCandidate(e,"aem.analyticsdata",0)})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.aem.pagedata - store.pagedata.js");
(function(f){var l={forceExperienceCookie:"cq-forceexperience",service:{jsonp:!1,timeout:1E3,path:"${variable:ContextHub.Paths.RESOURCE_PATH}.pagedata.json"}},e=function(b,a){this.config=f.extend(!0,{},l,a);this.init(b,this.config);this.queryService(!0)};ContextHub.Utils.inheritance.inherit(e,ContextHub.Store.PersistedJSONPStore);e.prototype.successHandler=function(b){this.setItem("/",b||{})};e.prototype.setExperience=function(b){ContextHub.Utils.Cookie.setItem(this.config.forceExperienceCookie,b,
{path:"/"})};e.prototype.getExperience=function(){return ContextHub.Utils.Cookie.getItem(this.config.forceExperienceCookie)};e.prototype.clearExperience=function(){ContextHub.Utils.Cookie.removeItem(this.config.forceExperienceCookie)};ContextHub.Utils.storeCandidates.registerStoreCandidate(e,"aem.pagedata",0)})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.aem.segmentation - store.segmentation.js");
(function(f){var l={service:{script:!0,timeout:3E3,path:window.ContextHub.Paths.SEGMENTATION_PATH+".seg.js"}},e=function(a,b){this.config=f.extend(!0,{},l,b);this.init(a,this.config);this.refreshData();ContextHub.eventing.on(ContextHub.Constants.EVENT_SEGMENT_UPDATED,function(){requestAnimationFrame(this.refreshData.bind(this))}.bind(this));ContextHub.isOptedOut()?this.announceReadiness():this.reloadSegments()};ContextHub.Utils.inheritance.inherit(e,ContextHub.Store.PersistedJSONPStore);e.prototype.reset=
function(a){ContextHub.SegmentEngine.SegmentManager.unregisterAllSegments();this.uber("reset",a)};e.prototype.queryService=function(a){ContextHub.isOptedOut()||this.uber("queryService",a)};e.prototype.reloadSegments=function(){this.reset()};var b=function(a){a=parseInt(a,10)||0;if(0>=a)a="No segment";else if(5>=a)a=a+" segment"+(1<a?"s":"");else{var b=5*Math.floor(a/5);a=(a===b?"":"More than ")+b+" segments"}return a};e.prototype.refreshData=function(){var a=[];f.each(ContextHub.SegmentEngine.getResolvedSegments(),
function(b,d){if(b=d.getPath()){var e=b+".html";d={label:d.getTitle()||d.getName()||b,link:e,path:b};a.push(d)}});var d=a.length;this.setItem("segments",a);this.setItem("summary",b(d));return a};e.prototype.getResolvedSegments=function(){return ContextHub.SegmentEngine.SegmentManager.getResolvedSegments()};e.prototype.getUnresolvedSegments=function(){return ContextHub.SegmentEngine.SegmentManager.getUnresolvedSegments()};ContextHub.Utils.storeCandidates.registerStoreCandidate(e,"aem.segmentation",
0,function(){return!!ContextHub.SegmentEngine})})(ContextHubJQ);
(function(f,l){function e(a,d){this.config=f.extend({},b,d);this.init(a,this.config);var e=this,l=1;ContextHub.eventing.on(ContextHub.Constants.EVENT_STORE_UPDATED+":profile",function(a,b){e.setItem("tickle",l++)});ContextHub.eventing.on(ContextHub.Constants.EVENT_STORE_UPDATED+":cart",function(a,b){e.setItem("tickle",l++)})}var b={maxCount:20};ContextHub.Utils.inheritance.inherit(e,ContextHub.Store.PersistedStore);e.prototype.recent=function(a,b){var d=this.getItem("products")||[],e=[],f=ContextHub.getStore("cart");
f||(b=!1);for(var l=d.length-1;0<=l&&0<a;l--){var q=d[l];b&&f.containsProduct(q.path)||(e.push(q),a--)}return e};e.prototype.record=function(a,b,e,f){for(var d=JSON.parse(JSON.stringify(this.getItem("products")||[])),g=0;g<d.length;g++)if(d[g].path==a){d.splice(g,1);break}d.length==this.config.maxCount&&d.shift();d.push({path:a,title:b,image:e,price:f});this.setItem("products",d)};e.prototype.remove=function(a){for(var b=JSON.parse(JSON.stringify(this.getItem("products")||[])),e=0;e<b.length;e++)if(b[e].path==
a){b.splice(e,1);break}this.setItem("products",b)};e.prototype.reset=function(a){this.uber("reset",a);this.setItem("products",[])};ContextHub.Utils.storeCandidates.registerStoreCandidate(e,"commerce.abandonedproducts",0)})(ContextHubJQ,this);
(function(f){function l(b,a){this.config=f.extend(!0,{},e,a);this.init(b,this.config);var d=this,g=1;ContextHub.eventing.on(ContextHub.Constants.EVENT_STORE_UPDATED+":cart",function(a,b){d.setItem("tickle",g++)})}var e={maxCount:20};ContextHub.Utils.inheritance.inherit(l,ContextHub.Store.PersistedStore);l.prototype.recent=function(b,a){var d=this.getItem("products")||[],e=[],f=ContextHub.getStore("cart");f||(a=!1);for(var l=d.length-1;0<=l&&0<b;l--){var r=d[l];a&&f.containsProduct(r.path)||(e.push(r),
b--)}return e};l.prototype.record=function(b,a,d,e){for(var g=JSON.parse(JSON.stringify(this.getItem("products")||[])),f=0;f<g.length;f++)if(g[f].path==b){g.splice(f,1);break}g.length==this.config.maxCount&&g.shift();g.push({path:b,title:a,image:d,price:e});this.setItem("products",g)};l.prototype.reset=function(b){this.uber("reset",b);this.setItem("products",[])};ContextHub.Utils.storeCandidates.registerStoreCandidate(l,"commerce.recentlyviewed",0)})(ContextHubJQ);
ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.commerce.cart - store.cart.js");
(function(f){function l(a){if(a){var b=a.lastIndexOf("#");-1<b&&(a=a.substring(0,b));b=a.lastIndexOf(".html");-1<b&&(a=a.substring(0,b))}return a}f.extend(!0,{HTTP:{externalize:function(a){return a}}},window.top.window.Granite);var e={service:{jsonp:!1,timeout:1E3,ttl:0,path:"${resourcePath}.commerce.cart.json"}},b=function(a,b){this.config=f.extend({},e,b);this.init(a,this.config);this.queryService(!1);var d=this;ContextHub.eventing.on(ContextHub.Constants.EVENT_STORE_UPDATED+":segmentation",function(a,
b){d.resolvePromotions()})};ContextHub.Utils.inheritance.inherit(b,ContextHub.Store.PersistedJSONPStore);b.prototype.getServiceDetails=function(){this.config.service.path&&(this.config.service.path=this.config.service.path.replace(/\${resourcePath}/g,ContextHub.Paths.RESOURCE_PATH));return this.config.service};b.prototype.queryService=function(a,b){var d=this.getServiceURL(!0);if(d){a&&this.removeItem("_",{silent:!0});a={ignorePost:!0};b&&(a=this.getTree());window.ContextHub=f.extend({Callbacks:{}},
window.ContextHub);ContextHub.Callbacks[this.name]=this.callbackFunction.bind(this);b=this.config.service.timeout;var e=this,l=e.isEventingPaused();e.pauseEventing();this.duration=0;ContextHub.Shared.timers.start(this.name);f.ajax({url:d,type:"POST",data:{cart:ContextHub.Utils.JSON.stringify(a)},timeout:b}).done(function(a,b,d){ContextHub.Callbacks[e.name](ContextHub.Utils.JSON.parse(d.responseText));e.eventing.trigger("push-success:"+e.name)}).fail(function(a){e.failureHandler(a)}).always(function(){l||
e.resumeEventing();e.announceReadiness()})}};b.prototype.successHandler=function(a){var b=this.getItem("_");this.setItem("/",a);this.setItem("_",b);this.updateSimulatedPrice()};b.prototype.setSimulatedPrice=function(a){this.getItem("/_/simulatedTotalPrice")||this.setItem("/_/referenceTotalPrice",this.getItem("totalPriceFloat"),{silent:!0});this.setItem("/_/simulatedTotalPrice",a,{silent:!0});this.uber("setItem","totalPriceFloat",a);this.setItem("totalPrice",this.getItem("totalPrice").replace(/[0-9]+\.[0-9]+/,
parseFloat(a).toFixed(2)))};b.prototype.updateSimulatedPrice=function(){var a=this.getItem("/_/simulatedTotalPrice");a&&this.getItem("/_/referenceTotalPrice")==this.getItem("totalPriceFloat")?this.setSimulatedPrice(a):this.setItem("/_/simulatedTotalPrice",null,{silent:!0})};b.prototype.addProductToCart=function(a,b,e,f,l){var d=JSON.parse(JSON.stringify(this.getItem("entries")||[]));d.push({title:e,quantity:1,path:a,pagePath:b,thumbnail:f,priceFormatted:l});this.setItem("entries",d);ContextHub.getStore("abandonedproducts")&&
ContextHub.getStore("abandonedproducts").record(b,e,f,l)};b.prototype.updateQuantity=function(a,b){var d=JSON.parse(JSON.stringify(this.getItem("entries")||[]));d.length>=a&&d[a].quantity!=b&&(d[a].quantity=b,this.setItem("entries",d))};b.prototype.addSimulatedPromotion=function(a,b){for(var d=this.getItem("/_/simulatedPromotions")||[],e=!1,f=0;f<d.length;f++)if(d[f].path==a){e=!0;break}e||(d.push({path:a,title:b}),this.setItem("/_/simulatedPromotions",d,{silent:!0}),this.resolvePromotions())};b.prototype.removeSimulatedPromotion=
function(a){for(var b=this.getItem("/_/simulatedPromotions")||[],e=-1,f=0;f<b.length;f++)if(b[f].path==a){e=f;break}0<=e&&(b.splice(e,1),this.setItem("/_/simulatedPromotions",b,{silent:!0}),this.resolvePromotions())};b.prototype.getSimulatedPromotions=function(){return this.getItem("/_/simulatedPromotions")};b.prototype.addVoucher=function(a){for(var b=this.getItem("vouchers")||[],e=!1,f=0;f<b.length;f++)if(b[f].code==a){e=!0;break}e||(b.push({code:a}),this.setItem("vouchers",b))};b.prototype.removeVoucher=
function(a){for(var b=this.getItem("vouchers")||[],e=-1,f=0;f<b.length;f++)if(b[f].path==a){e=f;break}0<=e&&(b.splice(e,1),this.setItem("vouchers",b))};b.prototype.setItem=function(a,b,e){if(0==a.indexOf("entries")||0==a.indexOf("promotions")||0==a.indexOf("vouchers")){var d="/"+(ContextHub.Utils.JSON.tree.sanitizeKey(a)||[]).join("/");d=this.getItem(d);var g=d===b;g||(d=ContextHub.Utils.JSON.stringify(d),g=ContextHub.Utils.JSON.stringify(b),g=d===g);!1===g&&(d=function(){this.queryService(!1,!0)}.bind(this),
ContextHub.eventing.once(ContextHub.Constants.EVENT_STORE_UPDATED+":cart",d,"commerceRemoteSync"))}this.uber("setItem",a,b,e)};b.prototype.containsProduct=function(a,b){var d=a?l(a):null,e=this.getItem("entries")||[];b||(b=1);for(var f=0;f<e.length;f++){var r=e[f],q=r.page||r.pagePath||"";q=l(q);if((!a||q==d)&&(!b||r.quantity>=b))return!0}return!1};b.prototype.containsPromotion=function(a,b){a=a?l(a):null;var d=this.getItem("promotions")||[];b||(b="FIRED");for(var e=0;d&&e<d.length;e++){var f=d[e];
if((f.path?l(f.path):null)==a&&b==f.status)return!0}return!1};b.prototype.resolvePromotions=function(){var a=this.getItem("promotionsMap");if(a){var b=ContextHub.SegmentEngine.SegmentManager.getResolvedSegments({returnLookup:!0}),e={},f,l;for(f=0;f<a.length;f++){var r=a[f].segments.split(",");for(l=0;l<r.length;l++)if(b[r[l]]){e[a[f].path]=!0;break}}a=this.getItem("/_/simulatedPromotions")||[];for(f=0;f<a.length;f++)e[a[f].path]=!0;a=JSON.parse(JSON.stringify(this.getItem("promotions")||[]));for(f=
0;f<a.length;f++)a[f].resolve||e[a[f].path]?e[a[f].path]=void 0:a.splice(f--,1);for(var q in e)e.hasOwnProperty(q)&&a.push({path:q});this.setItem("promotions",a)}};b.prototype.reset=function(a){this.uber("reset",a);this.uber("setItem","entries",[],{silent:!0});this.setItem("/_/simulatedPromotions",[],{silent:!0});this.uber("setItem","promotions",[],{silent:!0});this.uber("setItem","vouchers",[],{silent:!0});this.queryService(!1,!0)};ContextHub.Utils.storeCandidates.registerStoreCandidate(b,"commerce.cart",
0)})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.commerce.orderhistory - store.orderhistory.js");
(function(f){var l={service:{jsonp:!1,timeout:1E3,ttl:0,path:"${resourcePath}.commerce.orderhistory.json"}},e=function(b,a){this.config=f.extend({},l,a);this.init(b,this.config);this.queryService(!1);var d=this;ContextHub.eventing.on(ContextHub.Constants.EVENT_STORE_UPDATED+":profile",function(a,b){d.queryService(!0)})};ContextHub.Utils.inheritance.inherit(e,ContextHub.Store.JSONPStore);e.prototype.getServiceDetails=function(){this.config.service.path&&(this.config.service.path=this.config.service.path.replace(/\${resourcePath}/g,
ContextHub.Paths.RESOURCE_PATH));return this.config.service};e.prototype.successHandler=function(b){var a=this.getItem("_");this.setItem("/",b);this.setItem("_",a)};ContextHub.Utils.storeCandidates.registerStoreCandidate(e,"commerce.orderhistory",0)})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.commerce.relatedproducts - store.relatedproducts.js");
(function(f){var l={service:{jsonp:!1,timeout:1E3,ttl:18E5,path:"${variable:ContextHub.Paths.RESOURCE_PATH}.commerce.relatedproducts.json"}},e=function(b,a){this.config=f.extend(!0,{},l,a);this.init(b,this.config);this.cartLoaded=this.profileLoaded=!1;var d=this;this.queryService(!1);ContextHub.eventing.on(ContextHub.Constants.EVENT_STORE_UPDATED+":profile",function(a,b){a=ContextHub.getStore("profile").getItem("authorizableId");d.profileLoaded?a!=d.lastAuthorizableId&&(d.lastAuthorizableId=a,d.queryService(!0)):
(d.profileLoaded=!0,d.lastAuthorizableId=a)});ContextHub.eventing.on(ContextHub.Constants.EVENT_STORE_UPDATED+":cart",function(a,b){a=(ContextHub.getStore("cart").getItem("entries")||[]).length;d.cartLoaded?a!==d.lastCartEntryCount&&(d.lastCartEntryCount=a,d.queryService(!0)):(d.cartLoaded=!0,d.lastCartEntryCount=a)})};ContextHub.Utils.inheritance.inherit(e,ContextHub.Store.JSONPStore);e.prototype.successHandler=function(b){this.setItem("/",b||{})};e.prototype.products=function(b,a){for(var d=this.getTree(),
e=null,f=[],l=0;l<d.length;l++)if(d[l].type===a){e=d[l].list;break}for(l=0;e&&l<e.length&&l<b;l++)f.push(e[l]);return f};ContextHub.Utils.storeCandidates.registerStoreCandidate(e,"commerce.relatedproducts",0)})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.campaign.metadata - store.campaign.metadata.js");
(function(f,l){var e={service:{jsonp:!1,ttl:0,secure:"auto",host:document.location.host,port:80,path:Granite.HTTP.externalize(Granite.HTTP.getPath()+"/_jcr_content.campaign.metadata.json")},persistence:ContextHub.Utils.Persistence({mode:ContextHub.Utils.Persistence.Modes.WINDOW})},b=f("#campaignContextHub");b.length&&(e.service.method=b.data("metadata-method")||"GET",l=b.data("path"))&&(e.service.path=Granite.HTTP.externalize(l+"/_jcr_content.campaign.metadata.json"));l=function(a,b){this.config=
f.extend(!0,{},e,b);this.dataAvailable=!1;this.init(a,this.config);this.setItem("/",{},{silent:!0});this.queryService(!0)};ContextHub.Utils.inheritance.inherit(l,ContextHub.Store.JSONPStore);f.extend(l.prototype,{isOldMetaDataFormat:function(){var a=this.getItem("/_/version");return!!a&&1===a},isDataAvailable:function(){return this.dataAvailable},getMetadataVariable:function(a){function b(a,d){var e=d.indexOf(".");-1==e&&(e=d.length);var f=d.substring(0,e);return a.hasOwnProperty(f)?e==d.length?a[f]:
b(a[f].content,d.substring(e+1)):null}return b(this.getTree(),a)},getFilteredTree:function(a){function b(d){for(var e in d)if(d.hasOwnProperty(e))if(d[e].type&&!a(d[e]))delete d[e];else if(d[e].content){d[e].content=b(d[e].content);var f=!0,g;for(g in d[e].content)if(d[e].content.hasOwnProperty(g)){f=!1;break}f&&delete d[e]}return d}var e=f.extend(!0,{},this.getTree());return b(e)},convertToColumnViewFormat:function(a){function b(a,d){var e=[],f;for(f in a)a.hasOwnProperty(f)&&(e.push(a[f]),a[f].key=
f);e.sort(function(a,b){return a.hasOwnProperty("order")&&b.hasOwnProperty("order")?a.order<b.order?-1:1:a.hasOwnProperty("order")?1:a.label.localeCompare(b.label)});a=[];for(f=0;f<e.length;f++){var g=e[f],l=d+(d?".":"")+g.key,p={_links:{self:{href:l,title:g.label}},properties:{}};g.tag&&(p.value=g.tag);g.type&&(p.type=g.type);if(g.content){p.icon="tags";p.hasChildren=!0;g=b(g.content,l);if(!g.length)continue;p._embedded={items:g}}else p.icon="tag";a.push(p)}return a}return{_links:{self:{href:"foo"}},
_embedded:{items:b(a,"")}}},successHandler:function(a){if(a){this.dataAvailable=!0;var b=a.hasOwnProperty("schema")?1:2;this.setItem("/_/version",b);this.setItem("/",a)}return a},failureHandler:function(a){ContextHub.console.log("Error while getting mcm campaign metadata information:",a)}});ContextHub.Utils.storeCandidates.registerStoreCandidate(l,"campaign.metadata",0,function(){return 0<b.length&&!!b.attr("data-register")})})(ContextHubJQ,window);
ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.campaign.seeddata - store.campaign.seeddata.js");
(function(f,l){var e=!1;l=(new RegExp(/(^[a-zA-Z0-9\/_-]+)*(\.[a-zA-Z]+)?/)).exec(document.location.pathname);var b="";l&&(b=l[1]+"/_jcr_content.campaign.seeddata.json");var a={service:{jsonp:!1,ttl:0,secure:"auto",host:document.location.host,port:80,path:b+"/${contexthub:/store/profile/campaign/seedId}"},persistence:ContextHub.Utils.Persistence({mode:ContextHub.Utils.Persistence.Modes.WINDOW})};l=function(b,e){this.config=f.extend(!0,{},a,e);this.init(b,this.config)};ContextHub.Utils.inheritance.inherit(l,
ContextHub.Store.JSONPStore);f.extend(l.prototype,{successHandler:function(a){a&&this.setItem("/",a);return a},failureHandler:function(a){ContextHub.console.log("Error while getting mcm campaign seeddata information:",a)},queryService:function(a){e&&this.uber("queryService",a)}});ContextHub.Utils.storeCandidates.registerStoreCandidate(l,"campaign.seeddata",0,function(){var a=f("#campaignContextHub").eq(0);if(a=0<a.length&&!!a.attr("data-register"))ContextHub.eventing.on(ContextHub.Constants.EVENT_STORE_UPDATED+
":profile",function(a,b){if(a=ContextHub.getStore("seeddata")){a.setItem("/",{});if(b=ContextHub.getStore("profile"))b=b.getItem("/"),e=!!(b&&b.campaign&&b.campaign.seedId);e&&a.queryService(!1)}});return a})})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.finalize - ContextHub.store-initialization.js");
(function(f,l){var e=ContextHub;l=l.ContextHubKernelConfig||{};var b=e.Shared.timers.start();e.console.log(e.Shared.timestamp(),"[+] starting registration and initialization of the stores");f.each(l.stores||{},function(a,b){var d=e.Utils.storeCandidates.getStoreFromCandidates(b);if(d)try{var f=e.Shared.timers.start(),l=e.Shared.timestamp();e.registerStore(a,new d(a,b.config));e.console.log(l,'[+] initializing "'+a+'" store ('+e.Shared.timers.finish(f)+"ms)")}catch(r){e.console.error('Store "'+b.type+
'" (',d,") could not be initialized:",r)}});e.console.log(e.Shared.timestamp(),"[+] all stores initialized ("+e.Shared.timers.finish(b)+"ms)")})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.finalize - ContextHub.finalization.js");
var unloadEverything=function(){if(window.ContextHub){ContextHub.eventing.disableEventing();ContextHub.eventing.unbindAllHandlers();ContextHub.SegmentEngine&&(ContextHub.SegmentEngine.SegmentManager.unregisterAllSegments(),ContextHub.SegmentEngine.ScriptManager.unregisterAllScripts());var f=ContextHub.UIFrame&&ContextHub.UIFrame[0].contentWindow;f&&f.ContextHubJQ&&(f.ContextHubJQ("*").off(),f.ContextHubJQ("html").remove());f&&(delete f.$,delete f.ContextHubJQ);delete window.ContextHubJQ;delete top.window.ContextHubJQ;
delete top.window.ContextHub}};window.onbeforeunload=unloadEverything;window.top!==window&&(window.top.onbeforeunload=unloadEverything);ContextHub.eventing.on("ui-initialized",function(){var f=ContextHub.UIFrame&&ContextHub.UIFrame[0];f&&(f.contentWindow.onbeforeunload=unloadEverything)},"unload-handler",!0);ContextHub.console.timeStamp("contexthub.stop");ContextHub.console.timeEnd("contexthub.js");